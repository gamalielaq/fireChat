(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),a=u[1],c=this.normalizeInstanceIdentifier(u[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}class a extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let u=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(u=Object.create(e),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=u.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),a=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(u.add(s?s.call(u,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.6","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(...t){let e=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return Object(i.a)(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof u&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return un}),n.d(e,"b",function(){return Ju}),n.d(e,"c",function(){return Qu}),n.d(e,"d",function(){return Wu}),n.d(e,"e",function(){return $u}),n.d(e,"f",function(){return Wa}),n.d(e,"g",function(){return Va}),n.d(e,"h",function(){return Zs}),n.d(e,"i",function(){return la}),n.d(e,"j",function(){return Cs}),n.d(e,"k",function(){return na}),n.d(e,"l",function(){return js}),n.d(e,"m",function(){return wr}),n.d(e,"n",function(){return ju}),n.d(e,"o",function(){return to}),n.d(e,"p",function(){return yn}),n.d(e,"q",function(){return sn}),n.d(e,"r",function(){return vo}),n.d(e,"s",function(){return Ws}),n.d(e,"t",function(){return $s}),n.d(e,"u",function(){return ea}),n.d(e,"v",function(){return cu}),n.d(e,"w",function(){return Ma}),n.d(e,"x",function(){return au}),n.d(e,"y",function(){return ka}),n.d(e,"z",function(){return da}),n.d(e,"A",function(){return vn}),n.d(e,"B",function(){return Zu}),n.d(e,"C",function(){return Xu}),n.d(e,"D",function(){return ks}),n.d(e,"E",function(){return As}),n.d(e,"F",function(){return Ir}),n.d(e,"G",function(){return Ps}),n.d(e,"H",function(){return gr}),n.d(e,"I",function(){return bn}),n.d(e,"J",function(){return qa}),n.d(e,"K",function(){return iu}),n.d(e,"L",function(){return wa}),n.d(e,"M",function(){return an}),n.d(e,"N",function(){return Rs}),n.d(e,"O",function(){return Ds}),n.d(e,"P",function(){return hu}),n.d(e,"Q",function(){return M}),n.d(e,"R",function(){return Na}),n.d(e,"S",function(){return ja}),n.d(e,"T",function(){return w}),n.d(e,"U",function(){return xa}),n.d(e,"V",function(){return Ba}),n.d(e,"W",function(){return Ea}),n.d(e,"X",function(){return ta}),n.d(e,"Y",function(){return no}),n.d(e,"Z",function(){return hs}),n.d(e,"ab",function(){return dr}),n.d(e,"bb",function(){return Kn}),n.d(e,"cb",function(){return Un}),n.d(e,"db",function(){return qn}),n.d(e,"eb",function(){return Gn}),n.d(e,"fb",function(){return zn}),n.d(e,"gb",function(){return Hn}),n.d(e,"hb",function(){return Bn}),n.d(e,"ib",function(){return us}),n.d(e,"jb",function(){return za}),n.d(e,"kb",function(){return as}),n.d(e,"lb",function(){return cs}),n.d(e,"mb",function(){return Fn}),n.d(e,"nb",function(){return z}),n.d(e,"ob",function(){return So}),n.d(e,"pb",function(){return Fo}),n.d(e,"qb",function(){return Uo}),n.d(e,"rb",function(){return ss}),n.d(e,"sb",function(){return kt}),n.d(e,"tb",function(){return v}),n.d(e,"ub",function(){return Mn}),n.d(e,"vb",function(){return bo}),n.d(e,"wb",function(){return Ct}),n.d(e,"xb",function(){return Os}),n.d(e,"yb",function(){return si}),n.d(e,"zb",function(){return Ao}),n.d(e,"Ab",function(){return Qo}),n.d(e,"Bb",function(){return Hu}),n.d(e,"Cb",function(){return tt}),n.d(e,"Db",function(){return ut}),n.d(e,"Eb",function(){return E}),n.d(e,"Fb",function(){return I}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return at}),n.d(e,"Ib",function(){return No}),n.d(e,"Jb",function(){return Lo}),n.d(e,"Kb",function(){return Vo}),n.d(e,"Lb",function(){return Ro}),n.d(e,"Mb",function(){return Mo}),n.d(e,"Nb",function(){return en}),n.d(e,"Ob",function(){return ns}),n.d(e,"Pb",function(){return jn}),n.d(e,"Qb",function(){return nn}),n.d(e,"Rb",function(){return Gu}),n.d(e,"Sb",function(){return qo}),n.d(e,"Tb",function(){return zu}),n.d(e,"Ub",function(){return Bo}),n.d(e,"Vb",function(){return Po}),n.d(e,"Wb",function(){return Su}),n.d(e,"Xb",function(){return Tu}),n.d(e,"Yb",function(){return qu}),n.d(e,"Zb",function(){return Yt}),n.d(e,"ac",function(){return yr}),n.d(e,"bc",function(){return ot}),n.d(e,"cc",function(){return ko}),n.d(e,"dc",function(){return Jo}),n.d(e,"ec",function(){return ts}),n.d(e,"fc",function(){return es});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("7o/Q");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends u.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return a()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function y(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function v(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(v).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function m(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return v(this())},t}function _(t){return O(t)?t():t}function O(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===w}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return S(t,x)||S(t,A)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(j)||t.hasOwnProperty(k))?t[j]:null}const x=g({"\u0275prov":g}),j=g({"\u0275inj":g}),A=g({ngInjectableDef:g}),k=g({ngInjectorDef:g});var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function D(t){const e=P;return P=t,e}function R(t,e,n){const r=C(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&N.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${v(t)}]`)}function V(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const U="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,z=U||H||F||q,B={},G=[],W=g({"\u0275cmp":g}),$=g({"\u0275dir":g}),Q=g({"\u0275pipe":g}),Y=g({"\u0275mod":g}),K=g({"\u0275loc":g}),X=g({"\u0275fac":g}),Z=g({__NG_ELEMENT_ID__:g});let J=0;function tt(t){return V(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[Q]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&V(()=>{rt[t.id]=t.type}),e}function ot(t,e){return V(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ut=tt;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[W]||null}function lt(t,e){const n=t[Y]||null;if(!n&&!0===e)throw new Error(`Type ${v(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function yt(t){return 2==(2&t.flags)}function vt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(X)?t[X]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function Et(t,e){const n=e?" in "+e:"";throw new wt("201",`No provider for ${Ot(t)} found${n}`)}class It{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ct(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),Tt}function Tt(){const t=jt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=jt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new It(a&&a.currentValue,e,s===B),t[r]=e}function jt(t){return t.__ngSimpleChanges__||null}Ct.ngInherit=!0;let At=void 0;function kt(t){At=t}function Nt(t){return!!t.listen}const Pt={createRenderer:(t,e)=>void 0!==At?At:"undefined"!=typeof document?document:void 0};function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return Dt(e[t])}function Vt(t,e){return Dt(e[t.index])}function Lt(t,e){return t.data[e]}function Mt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ut(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function qt(t){return 128==(128&t[2])}function Ht(t,e){return null==e?null:t[e]}function zt(t){t[18]=0}function Bt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Gt={lFrame:fe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wt(){return Gt.bindingsEnabled}function $t(){return Gt.lFrame.lView}function Qt(){return Gt.lFrame.tView}function Yt(t){Gt.lFrame.contextLView=t}function Kt(){let t=Xt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xt(){return Gt.lFrame.currentTNode}function Zt(t,e){const n=Gt.lFrame;n.currentTNode=t,n.isParent=e}function Jt(){return Gt.lFrame.isParent}function te(){return Gt.isInCheckNoChangesMode}function ee(t){Gt.isInCheckNoChangesMode=t}function ne(){const t=Gt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function re(){return Gt.lFrame.bindingIndex++}function ie(t,e){const n=Gt.lFrame;n.bindingIndex=n.bindingRootIndex=t,oe(e)}function oe(t){Gt.lFrame.currentDirectiveIndex=t}function se(){return Gt.lFrame.currentQueryIndex}function ue(t){Gt.lFrame.currentQueryIndex=t}function ae(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ce(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&N.Host||(r=ae(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Gt.lFrame=he();return r.currentTNode=e,r.lView=t,!0}function le(t){const e=he(),n=t[1];Gt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function he(){const t=Gt.lFrame,e=null===t?null:t.child;return null===e?fe(t):e}function fe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function de(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pe=de;function ge(){const t=de();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ye(){return Gt.lFrame.selectedIndex}function ve(t){Gt.lFrame.selectedIndex=t}function me(){const t=Gt.lFrame;return Lt(t.tView,t.selectedIndex)}function be(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:u}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function we(t,e,n){Ee(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&Ee(t,e,n,r)}function Oe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ee(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(s=e[u],null!=r&&s>=r)break}else e[u]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ie(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Ie(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ce=-1;class Se{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=Nt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];je(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function xe(t){return 3===t||4===t||6===t}function je(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ke(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ke(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ne(t){return t!==Ce}function Pe(t){return 32767&t}function De(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Re=!0;function Ve(t){const e=Re;return Re=t,e}let Le=0;function Me(t,e){const n=Fe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ue(r.data,t),Ue(e,null),Ue(r.blueprint,null));const i=qe(t,e),o=t.injectorIndex;if(Ne(i)){const t=Pe(i),n=De(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Ue(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ce;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ce}function He(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=Le++);const i=255&r,o=1<<i,s=64&i,u=32&i,a=e.data;128&i?s?u?a[t+7]|=o:a[t+6]|=o:u?a[t+5]|=o:a[t+4]|=o:s?u?a[t+3]|=o:a[t+2]|=o:u?a[t+1]|=o:a[t]|=o}(t,e,n)}function ze(t,e,n){if(n&N.Optional)return t;Et(e,"NodeInjector")}function Be(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&N.Optional):R(e,r,n&N.Optional)}finally{D(o)}}return ze(r,e,n)}function Ge(t,e,n,r=N.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:$e:e}(n);if("function"==typeof o){if(!ce(e,t,r))return r&N.Host?ze(i,n,r):Be(e,n,r,i);try{const t=o();if(null!=t||r&N.Optional)return t;Et(n)}finally{pe()}}else if("number"==typeof o){let i=null,s=Fe(t,e),u=Ce,a=r&N.Host?e[16][6]:null;for((-1===s||r&N.SkipSelf)&&(u=-1===s?qe(t,e):e[s+8],u!==Ce&&Ze(r,!1)?(i=e[1],s=Pe(u),e=De(u,e)):s=-1);-1!==s;){const t=e[1];if(Xe(o,s,t.data)){const t=Qe(s,e,n,i,r,a);if(t!==We)return t}u=e[s+8],u!==Ce&&Ze(r,e[1].data[s+8]===a)&&Xe(o,s,e)?(i=t,s=Pe(u),e=De(u,e)):s=-1}}}return Be(e,n,r,i)}const We={};function $e(){return new Je(Kt(),$t())}function Qe(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=Ye(u,s,n,null==r?yt(u)&&Re:r!=s&&0!=(3&u.type),i&N.Host&&o===u);return null!==a?Ke(e,s,a,u):We}function Ye(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&mt(t)&&t.type===n)return a}return null}function Ke(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Se){const s=i;s.resolving&&function(t,e){throw new wt("200","Circular dependency in DI detected for "+t)}(Ot(o[n]));const u=Ve(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?D(s.injectImpl):null;ce(t,r,N.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==a&&D(a),Ve(u),s.resolving=!1,pe()}}return i}function Xe(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Ze(t,e){return!(t&N.Self||t&N.Host&&e)}class Je{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ge(this._tNode,this._lView,t,void 0,e)}}function tn(t){const e=t;if(O(t))return()=>{const t=tn(_(e));return t?t():null};let n=bt(e);if(null===n){const t=T(e);n=t&&t.factory}return n||null}function en(t){return V(()=>{const e=t.prototype.constructor,n=e[X]||tn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||tn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function nn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(xe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const rn="__parameters__";function on(t,e,n){return V(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(rn)?t[rn]:Object.defineProperty(t,rn,{value:[]})[rn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class sn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const un=new sn("AnalyzeForEntryComponents"),an=Function;function cn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),cn(r,e)):e!==t&&e.push(r)}return e}function ln(t,e){t.forEach(t=>Array.isArray(t)?ln(t,e):e(t))}function hn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dn(t,e,n){let r=gn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pn(t,e){const n=gn(t,e);if(n>=0)return t[1|n]}function gn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const yn=on("Inject",t=>({token:t})),vn=on("Optional"),mn=on("Self"),bn=on("SkipSelf"),wn=on("Host"),_n={},On=/\n/gm,En="__source",In=g({provide:String,useValue:g});let Cn,Sn=void 0;function Tn(t){const e=Sn;return Sn=t,e}function xn(t,e=N.Default){if(void 0===Sn)throw new Error("inject() must be called from an injection context");return null===Sn?R(t,void 0,e):Sn.get(t,e&N.Optional?null:void 0,e)}function jn(t,e=N.Default){return(P||xn)(_(t),e)}function An(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof vn||"Optional"===i.ngMetadataName||i===vn?n|=N.Optional:i instanceof bn||"SkipSelf"===i.ngMetadataName||i===bn?n|=N.SkipSelf:i instanceof mn||"Self"===i.ngMetadataName||i===mn?n|=N.Self:i instanceof wn||"Host"===i.ngMetadataName||i===wn?n|=N.Host:t=i instanceof yn||i===yn?i.token:i}e.push(jn(t,n))}else e.push(jn(r))}return e}function kn(t){var e;return(null===(e=function(){if(void 0===Cn&&(Cn=null,z.trustedTypes))try{Cn=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Cn}())||void 0===e?void 0:e.createHTML(t))||t}class Nn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Pn extends Nn{getTypeName(){return"HTML"}}class Dn extends Nn{getTypeName(){return"Style"}}class Rn extends Nn{getTypeName(){return"Script"}}class Vn extends Nn{getTypeName(){return"URL"}}class Ln extends Nn{getTypeName(){return"ResourceURL"}}function Mn(t){return t instanceof Nn?t.changingThisBreaksApplicationSecurity:t}function Un(t,e){const n=Fn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Fn(t){return t instanceof Nn&&t.getTypeName()||null}function qn(t){return new Pn(t)}function Hn(t){return new Dn(t)}function zn(t){return new Rn(t)}function Bn(t){return new Vn(t)}function Gn(t){return new Ln(t)}class Wn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(kn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class $n{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=kn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=kn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Kn(t){return(t=String(t)).match(Qn)||t.match(Yn)?t:"unsafe:"+t}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Jn=Xn("area,br,col,hr,img,wbr"),tr=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Xn("rp,rt"),nr=Zn(er,tr),rr=Zn(Jn,Zn(tr,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zn(er,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),or=Xn("srcset"),sr=Zn(ir,or,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ur=Xn("script,style,template");class ar{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ur.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!sr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ir[o]&&(s=Kn(s)),or[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Kn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!Jn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fr;function dr(t,e){let n=null;try{fr=fr||function(t){const e=new $n(t);return function(){try{return!!(new window.DOMParser).parseFromString(kn(""),"text/html")}catch(t){return!1}}()?new Wn(e):e}(t);let r=e?String(e):"";n=fr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=fr.getInertBodyElement(r)}while(r!==o);return(new ar).sanitizeChildren(pr(n)||n)}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function yr(t){const e=function(){const t=$t();return t&&t[12]}();return e?e.sanitize(gr.URL,t)||"":Un(t,"URL")?Mn(t):Kn(_t(t))}function vr(t){return t.ngDebugContext}function mr(t){return t.ngOriginalError}function br(t,...e){t.error(...e)}class wr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||br}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?vr(t)?vr(t):this._findContext(mr(t)):null}_findOriginalError(t){let e=mr(t);for(;e&&mr(e);)e=mr(e);return e}}function _r(t,e){t.__ngContext__=e}const Or=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Er(t){return t instanceof Function?t():t}var Ir=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Cr(t,e){return(void 0)(t,e)}function Sr(t){const e=t[3];return pt(e)?e[3]:e}function Tr(t){return jr(t[13])}function xr(t){return jr(t[4])}function jr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Ar(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const u=Dt(r);0===t&&null!==n?null==i?Lr(e,n,u):Vr(e,n,u,i||null,!0):1===t&&null!==n?Vr(e,n,u,i||null,!0):2===t?function(t,e,n){const r=Ur(t,e);r&&function(t,e,n,r){Nt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Dt(n)&&Ar(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Br(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function kr(t,e,n){return Nt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Nr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Bt(i,-1)),n.splice(r,1)}function Pr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Nr(o,r),e>0&&(t[n-1][4]=r[4]);const s=fn(t,ft+e);Br(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Dr(t,e){if(!(256&e[2])){const n=e[11];Nt(n)&&n.destroyNode&&Br(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Rr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Rr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Rr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Rr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Se)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Dt(e[t]),u=r[i=n[o+2]],a=n[o+3];"boolean"==typeof a?s.removeEventListener(n[o],u,a):a>=0?r[i=a]():r[i=-a].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Nt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Nr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Vr(t,e,n,r,i){Nt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Lr(t,e,n){Nt(t)?t.appendChild(e,n):e.appendChild(n)}function Mr(t,e,n,r,i){null!==r?Vr(t,e,n,r,i):Lr(t,e,n)}function Ur(t,e){return Nt(t)?t.parentNode(e):e.parentNode}function Fr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Vt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Vt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Mr(o,i,n[u],s,!1);else Mr(o,i,n,s,!1)}function qr(t,e){if(null!==e){const n=e.type;if(3&n)return Vt(e,t);if(4&n)return Hr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return qr(t,n);{const n=t[e.index];return pt(n)?Hr(-1,n):Dt(n)}}if(32&n)return Cr(e,t)()||Dt(t[e.index]);{const n=t[16],r=n[6],i=Sr(n),o=r.projection[e.projection];return null!=o?qr(i,o):qr(t,e.next)}}return null}function Hr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return qr(t,r)}return e[7]}function zr(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;if(s&&0===e&&(u&&_r(Dt(u),r),n.flags|=4),64!=(64&n.flags))if(8&a)zr(t,e,n.child,r,i,o,!1),Ar(e,t,i,u,o);else if(32&a){const s=Cr(n,r);let a;for(;a=s();)Ar(e,t,i,a,o);Ar(e,t,i,u,o)}else 16&a?Gr(t,e,r,n,i,o):Ar(e,t,i,u,o);n=s?n.projectionNext:n.next}}function Br(t,e,n,r,i,o){zr(n,r,t.firstChild,e,i,o,!1)}function Gr(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)Ar(e,t,i,u[a],o);else zr(t,e,u,s[3],i,o,!0)}function Wr(t,e,n){Nt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function $r(t,e,n){Nt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Qr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Yr="ng-template";function Kr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Qr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Xr(t){return 4===t.type&&t.value!==Yr}function Zr(t,e,n){return e===(4!==t.type||n?t.value:Yr)}function Jr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(xe(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!Zr(t,a,n)||""===a&&1===e.length){if(ti(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!Kr(t.attrs,c,n)){if(ti(r))return!1;s=!0}continue}const l=ei(8&r?"class":a,i,Xr(t),n);if(-1===l){if(ti(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Qr(e,c,0)||2&r&&c!==t){if(ti(r))return!1;s=!0}}}}else{if(!s&&!ti(r)&&!ti(a))return!1;if(s&&ti(a))continue;s=!1,r=a|1&r}}return ti(r)||s}function ti(t){return 0==(1&t)}function ei(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ni(t,e,n=!1){for(let r=0;r<e.length;r++)if(Jr(t,e[r],n))return!0;return!1}function ri(t,e){return t?":not("+e.trim()+")":e}function ii(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ti(s)||(e+=ri(o,i),i=""),r=s,o=o||!ti(r);n++}return""!==i&&(e+=ri(o,i)),e}const oi={};function si(t){ui(Qt(),$t(),ye()+t,te())}function ui(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&we(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}ve(n)}function ai(t,e){return t<<17|e<<2}function ci(t){return t>>17&32767}function li(t){return 2|t}function hi(t){return(131068&t)>>2}function fi(t,e){return-131069&t|e<<2}function di(t){return 1|t}function pi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ue(i),n.contentQueries(2,e[o],o)}}}function gi(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,zt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function yi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Xt(),s=Jt(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(t,e,n,r,i),Gt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Gt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Zt(o,!0),o}function vi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function mi(t,e,n){le(e);try{const r=t.viewQuery;null!==r&&$i(1,r,n);const i=t.template;null!==i&&_i(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pi(t,e),t.staticViewQueries&&$i(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Hi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ge()}}function bi(t,e,n,r){const i=e[2];if(256==(256&i))return;le(e);const o=te();try{zt(e),Gt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&_i(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&we(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),Oe(e,0)}if(function(t){for(let e=Tr(t);null!==e;e=xr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Bt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Tr(t);null!==e;e=xr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];qt(n)&&bi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&pi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&we(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),Oe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ve(~r);else{const i=r,o=n[++t],s=n[++t];ie(o,i),s(2,e[i])}}}finally{ve(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)Fi(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&$i(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&we(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),Oe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bt(e[3],-1))}finally{ge()}}function wi(t,e,n,r){const i=e[10],o=!te(),s=Ft(e);try{o&&!s&&i.begin&&i.begin(),s&&mi(t,e,r),bi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function _i(t,e,n,r,i){const o=ye();try{ve(-1),2&r&&e.length>ht&&ui(t,e,ht,te()),n(r,i)}finally{ve(o)}}function Oi(t,e,n){Wt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Me(n,e),_r(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=mt(r);o&&Vi(e,n,r);const a=Ke(e,t,u,n);_r(a,e),null!==s&&Li(0,u-i,a,r,0,s),o&&(Mt(n.index,e)[8]=a)}}(t,e,n,Vt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Gt.lFrame.currentDirectiveIndex;try{ve(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];oe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ki(r,i)}}finally{ve(-1),oe(s)}}(t,e,n))}function Ei(t,e,n=Vt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function Ii(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ci(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ci(t,e,n,r,i,o,s,u,a,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function Si(t,e,n,r){const i=Yi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ki(t).push(r,i.length-1))}function Ti(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function xi(t,e,n,r,i,o,s,u){const a=Vt(e,n);let c,l=e.inputs;!u&&null!=l&&(c=l[r])?(Zi(t,n,c,r,i),yt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,Nt(o)?o.setProperty(a,r,i):je(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}function ji(t,e,n,r){let i=!1;if(Wt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ni(n,s.selectors,!1)&&(i||(i=[]),He(Me(n,e),t,s.type),mt(s)?(Ni(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Di(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,u=!1,a=vi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ae(n.mergedAttrs,c.hostAttrs),Ri(t,n,e,a,c),Pi(a,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),a++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||Xr(e)?null:Mi(n,i);o.push(c),s=Ti(n,a,s),u=Ti(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),i}function Ai(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function ki(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Ni(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Pi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function Di(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ri(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Se(o,mt(i),null);t.blueprint[r]=s,n[r]=s,Ai(t,e,0,r,vi(t,n,i.hostVars,oi),i)}function Vi(t,e,n){const r=Vt(e,t),i=Ii(n),o=t[10],s=zi(t,gi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Li(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function Mi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ui(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Fi(t,e){const n=Mt(e,t);if(qt(n)){const t=n[1];80&n[2]?bi(t,n,t.template,n[8]):n[5]>0&&qi(n)}}function qi(t){for(let n=Tr(t);null!==n;n=xr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];bi(t,e,t.template,e[8])}else e[5]>0&&qi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);qt(r)&&r[5]>0&&qi(r)}}function Hi(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),mi(r,n,n[8])}function zi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Bi(t){for(;t;){t[2]|=64;const e=Sr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Gi(t,e,n){const r=e[10];r.begin&&r.begin();try{bi(t,e,t.template,n)}catch(i){throw Xi(e,i),i}finally{r.end&&r.end()}}function Wi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ut(n),i=r[1];wi(i,r,i.template,n)}}(t[8])}function $i(t,e,n){ue(0),e(t,n)}const Qi=(()=>Promise.resolve(null))();function Yi(t){return t[7]||(t[7]=[])}function Ki(t){return t.cleanup||(t.cleanup=[])}function Xi(t,e){const n=t[9],r=n?n.get(wr,null):null;r&&r.handleError(e)}function Zi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function Ji(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=m(i,t):2==o&&(r=m(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const to=new sn("INJECTOR",-1);class eo{get(t,e=_n){if(e===_n){const e=new Error(`NullInjectorError: No provider for ${v(t)}!`);throw e.name="NullInjectorError",e}return e}}const no=new sn("Set Injector scope."),ro={},io={},oo=[];let so=void 0;function uo(){return void 0===so&&(so=new eo),so}function ao(t,e=null,n=null,r){return new co(t,n,e||uo(),r)}class co{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ln(e,n=>this.processProvider(n,t,e)),ln([t],t=>this.processInjectorType(t,[],i)),this.records.set(to,fo(void 0,this));const o=this.records.get(no);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:v(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=_n,n=N.Default){this.assertNotDestroyed();const r=Tn(this);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof sn)&&C(t);e=n&&this.injectableDefInScope(n)?fo(lo(t),ro):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?uo():this.parent).get(t,e=n&N.Optional&&e===_n?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(v(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[En]&&i.unshift(e[En]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=v(e);if(Array.isArray(e))i=e.map(v).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):v(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(On,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Tn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(v(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ln(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ln(r,t=>this.processProvider(t,n,r||oo))}}this.injectorDefTypes.add(o),this.records.set(o,fo(r.factory,ro));const u=r.providers;if(null!=u&&!s){const e=t;ln(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=go(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return po(t)?fo(void 0,t.useValue):fo(ho(t),ro)}(t);if(go(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=fo(void 0,ro,!0),e.factory=()=>An(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ro&&(e.value=io,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function lo(t){const e=C(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=T(t);if(null!==r)return r.factory;if(t instanceof sn)throw new Error(`Token ${v(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${v(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[A]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ho(t,e,n){let r=void 0;if(go(t)){const e=_(t);return bt(e)||lo(e)}if(po(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...An(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>jn(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||lo(e);r=()=>new e(...An(t.deps))}var i;return r}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function po(t){return null!==t&&"object"==typeof t&&In in t}function go(t){return"function"==typeof t}const yo=function(t,e,n){return function(t,e=null,n=null,r){const i=ao(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let vo=(()=>{class t{static create(t,e){return Array.isArray(t)?yo(t,e,""):yo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=_n,t.NULL=new eo,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>jn(to)}),t.__NG_ELEMENT_ID__=-1,t})();function mo(t,e){be(Ut(t)[1],Kt())}function bo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=wo(t.inputs),e.declaredInputs=wo(t.declaredInputs),e.outputs=wo(t.outputs);const n=i.hostBindings;n&&Eo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&_o(t,o),s&&Oo(t,s),y(t.inputs,i.inputs),y(t.declaredInputs,i.declaredInputs),y(t.outputs,i.outputs),mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===bo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ae(i.hostAttrs,n=Ae(n,i.hostAttrs))}}(r)}function wo(t){return t===B?{}:t===G?[]:t}function _o(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Oo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Eo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Io=null;function Co(){if(!Io){const t=z.Symbol;if(t&&t.iterator)Io=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Io=n)}}}return Io}function So(t){return!!To(t)&&(Array.isArray(t)||!(t instanceof Map)&&Co()in t)}function To(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function xo(t,e,n){return t[e]=n}function jo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ao(t,e,n,r){const i=$t();return jo(i,re(),e)&&(Qt(),function(t,e,n,r,i,o){const s=Vt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Nt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const u=null==s?_t(o):s(o,r||"",i);Nt(t)?t.setAttribute(e,i,u,n):n?e.setAttributeNS(n,i,u):e.setAttribute(i,u)}}(e[11],s,o,t.value,n,r,i)}(me(),i,t,e,n,r)),Ao}function ko(t,e,n,r,i,o,s,u){const a=$t(),c=Qt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=yi(e,t,4,s||null,Ht(c,u));ji(e,n,l,Ht(c,a)),be(e,l);const h=l.tViews=Ci(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,s):c.data[l];Zt(h,!1);const f=a[11].createComment("");Fr(c,a,f,h),_r(f,a),zi(a,a[l]=Ui(f,a,f,h)),vt(h)&&Oi(c,a,h),null!=s&&Ei(a,h,u)}function No(t,e=N.Default){const n=$t();return null===n?jn(t,e):Ge(Kt(),n,_(t),e)}function Po(t,e,n){const r=$t();return jo(r,re(),e)&&xi(Qt(),me(),r,t,e,r[11],n,!1),Po}function Do(t,e,n,r,i){const o=i?"class":"style";Zi(t,n,e.inputs[o],o,r)}function Ro(t,e,n,r){const i=$t(),o=Qt(),s=ht+t,u=i[11],a=i[s]=kr(u,e,Gt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=yi(e,t,2,i,Ht(u,o));return ji(e,n,a,Ht(u,s)),null!==a.attrs&&Ji(a,a.attrs,!1),null!==a.mergedAttrs&&Ji(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(s,o,i,0,e,n,r):o.data[s];Zt(c,!0);const l=c.mergedAttrs;null!==l&&Te(u,a,l);const h=c.classes;null!==h&&$r(u,a,h);const f=c.styles;null!==f&&Wr(u,a,f),64!=(64&c.flags)&&Fr(o,i,a,c),0===Gt.lFrame.elementDepthCount&&_r(a,i),Gt.lFrame.elementDepthCount++,vt(c)&&(Oi(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Ei(i,c)}function Vo(){let t=Kt();Jt()?Gt.lFrame.isParent=!1:(t=t.parent,Zt(t,!1));const e=t;Gt.lFrame.elementDepthCount--;const n=Qt();n.firstCreatePass&&(be(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Do(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Do(n,e,$t(),e.stylesWithoutHost,!1)}function Lo(t,e,n,r){Ro(t,e,n,r),Vo()}function Mo(){return $t()}function Uo(t){return!!t&&"function"==typeof t.then}function Fo(t){return!!t&&"function"==typeof t.subscribe}function qo(t,e,n=!1,r){const i=$t(),o=Qt(),s=Kt();return function(t,e,n,r,i,o,s=!1,u){const a=vt(r),c=t.firstCreatePass&&Ki(t),l=Yi(e);let h=!0;if(3&r.type){const f=Vt(r,e),d=u?u(f):B,p=d.target||f,g=l.length,y=u?t=>u(Dt(t[r.index])).target:r.index;if(Nt(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=zo(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,y,g,g+1)}}else o=zo(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,g,s)}else o=zo(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),qo}function Ho(t,e,n){try{return!1!==e(n)}catch(r){return Xi(t,r),!1}}function zo(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&Bi(s);let u=Ho(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=Ho(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Bo(t=1){return function(t){return(Gt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Gt.lFrame.contextLView))[8]}(t)}const Go=[];function Wo(t,e,n,r,i){const o=t[n+1],s=null===e;let u=r?ci(o):hi(o),a=!1;for(;0!==u&&(!1===a||s);){const n=t[u+1];$o(t[u],e)&&(a=!0,t[u+1]=r?di(n):li(n)),u=r?ci(n):hi(n)}a&&(t[n+1]=r?li(o):di(o))}function $o(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&gn(t,e)>=0}function Qo(t,e){return function(t,e,n,r){const i=$t(),o=Qt(),s=function(t){const e=Gt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ye()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Gt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Ko(n=Yo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Yo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==hi(r))return t[ci(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Yo(null,t,e,n[1],r),n=Ko(n,e.attrs,r),function(t,e,n,r){t[ci(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Ko(r,t[o].hostAttrs,true);return Ko(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,u=ci(s),a=hi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||gn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==a){const e=ci(t[u+1]);t[r+1]=ai(e,u),0!==e&&(t[e+1]=fi(t[e+1],r)),t[u+1]=131071&t[u+1]|r<<17}else t[r+1]=ai(u,0),0!==u&&(t[u+1]=fi(t[u+1],r)),u=r;else t[r+1]=ai(a,0),0===u?u=r:t[a+1]=fi(t[a+1],r),a=r;l&&(t[r+1]=li(t[r+1])),Wo(t,c,r,!0),Wo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&gn(o,e)>=0&&(n[r+1]=di(n[r+1]))}(e,c,t,r),s=ai(u,a),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==oi&&jo(i,s,e)&&function(t,e,n,r,i,o,s,u){if(!(3&e.type))return;const a=t.data,c=a[u+1];Zo(1==(1&c)?Xo(a,e,n,i,hi(c),s):void 0)||(Zo(o)||function(t){return 2==(2&t)}(c)&&(o=Xo(a,null,n,i,u,s)),function(t,e,n,r,i){const o=Nt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Rt(ye(),n),i,o))}(o,o.data[ye()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=v(Mn(t))),t}(e),true,s)}(t,e),Qo}function Yo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<s&&(o=e[u],r=Ko(r,o.hostAttrs,i),o!==t);)u++;return null!==t&&(n.directiveStylingLast=u),r}function Ko(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Xo(t,e,n,r,i,o){const s=null===e;let u=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),a=o?e[1]:e,c=null===a;let l=n[i+1];l===oi&&(l=c?Go:void 0);let h=c?pn(l,r):a===r?l:void 0;if(o&&!Zo(h)&&(h=pn(e,r)),Zo(h)&&(u=h,s))return u;const f=t[i+1];i=s?ci(f):hi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(u=pn(t,r))}return u}function Zo(t){return void 0!==t}function Jo(t,e=""){const n=$t(),r=Qt(),i=t+ht,o=r.firstCreatePass?yi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Nt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Fr(r,n,s,o),Zt(o,!1)}function ts(t){return es("",t,""),ts}function es(t,e,n){const r=$t(),i=function(t,e,n,r){return jo(t,re(),n)?e+_t(n)+r:oi}(r,t,e,n);return i!==oi&&function(t,e,n){const r=Rt(e,t);!function(t,e,n){Nt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ye(),i),es}function ns(t,e,n){const r=$t();return jo(r,re(),e)&&xi(Qt(),me(),r,t,e,r[11],n,!0),ns}const rs=void 0;var is=["en",[["a","p"],["AM","PM"],rs],[["AM","PM"],rs,rs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rs,"{1} 'at' {0}",rs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let os={};function ss(t,e,n){"string"!=typeof e&&(n=e,e=t[hs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),os[e]=t,n&&(os[e][hs.ExtraData]=n)}function us(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ls(e);if(n)return n;const r=e.split("-")[0];if(n=ls(r),n)return n;if("en"===r)return is;throw new Error(`Missing locale data for the locale "${t}".`)}function as(t){return us(t)[hs.CurrencyCode]||null}function cs(t){return us(t)[hs.PluralCase]}function ls(t){return t in os||(os[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),os[t]}var hs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const fs="en-US";let ds=fs;function ps(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(ds=t.toLowerCase().replace(/_/g,"-"))}function gs(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)gs(t[o],e,n,r,i);else{const o=Qt(),s=$t();let u=go(t)?t:_(t.provide),a=ho(t);const c=Kt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(go(t)||!t.multi){const r=new Se(a,i,No),d=ms(u,e,i?l:l+f,h);-1===d?(He(Me(c,s),o,u),ys(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ms(u,e,l+f,h),p=ms(u,e,l,l+f),g=d>=0&&n[d],y=p>=0&&n[p];if(i&&!y||!i&&!g){He(Me(c,s),o,u);const l=function(t,e,n,r,i){const o=new Se(t,n,No);return o.multi=[],o.index=e,o.componentProviders=0,vs(o,i,r&&!n),o}(i?ws:bs,n.length,i,r,a);!i&&y&&(n[p].providerFactory=l),ys(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ys(o,t,d>-1?d:p,vs(n[i?p:d],a,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function ys(t,e,n,r){const i=go(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function vs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ms(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function bs(t,e,n,r){return _s(this.multi,[])}function ws(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ke(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),_s(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],_s(i,o);return o}function _s(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Os(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Qt();if(r.firstCreatePass){const i=mt(t);gs(n,r.data,r.blueprint,i,!0),gs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Es{}class Is{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${v(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Cs=(()=>{class t{}return t.NULL=new Is,t})();function Ss(...t){}function Ts(t,e){return new js(Vt(t,e))}const xs=function(){return Ts(Kt(),$t())};let js=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=xs,t})();class As{}let ks=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ns(),t})();const Ns=function(){const t=$t(),e=Mt(Kt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Ps=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class Ds{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Rs=new Ds("11.0.9");class Vs{constructor(){}supports(t){return So(t)}create(t){return new Ms(t)}}const Ls=(t,e)=>e;class Ms{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ls}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Hs(n,r,i)?e:n,s=Hs(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!So(t))throw new Error(`Error trying to diff '${v(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Co()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Us(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new qs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Us{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Fs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class qs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Fs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class zs{constructor(){}supports(t){return t instanceof Map||To(t)}create(){return new Bs}}class Bs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||To(t)))throw new Error(`Error trying to diff '${v(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Gs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Gs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ws=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new bn,new vn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Vs])}),t})(),$s=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new bn,new vn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new zs])}),t})();function Qs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Dt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Qs(e[1],e,n,r)}const s=n.type;if(8&s)Qs(t,e,n.child,r);else if(32&s){const t=Cr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Sr(t);Qs(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ys{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Qs(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Pr(t,n),fn(e,n))}this._attachedToViewContainer=!1}Dr(this._lView[1],this._lView)}onDestroy(t){Si(this._lView[1],this._lView,null,t)}markForCheck(){Bi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{Gi(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Br(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ks extends Ys{constructor(t){super(t),this._view=t}detectChanges(){Wi(this._view)}checkNoChanges(){!function(t){ee(!0);try{Wi(t)}finally{ee(!1)}}(this._view)}get context(){return null}}const Xs=Js;let Zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Xs,t.__ChangeDetectorRef__=!0,t})();function Js(t=!1){return function(t,e,n){if(!n&&yt(t)){const n=Mt(t.index,e);return new Ys(n,n)}return 47&t.type?new Ys(e[16],e):null}(Kt(),$t(),t)}const tu=[new zs],eu=new Ws([new Vs]),nu=new $s(tu),ru=function(){return uu(Kt(),$t())};let iu=(()=>{class t{}return t.__NG_ELEMENT_ID__=ru,t})();const ou=iu,su=class extends ou{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=gi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),mi(e,n,t),new Ys(n)}};function uu(t,e){return 4&t.type?new su(e,t,Ts(t,e)):null}class au{}class cu{}const lu=function(){return yu(Kt(),$t())};let hu=(()=>{class t{}return t.__NG_ELEMENT_ID__=lu,t})();const fu=hu,du=class extends fu{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ts(this._hostTNode,this._hostLView)}get injector(){return new Je(this._hostTNode,this._hostLView)}get parentInjector(){const t=qe(this._hostTNode,this._hostLView);if(Ne(t)){const e=De(t,this._hostLView),n=Pe(t);return new Je(e[1].data[n+8],e)}return new Je(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=pu(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(au,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new du(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],hn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,o,i);const s=Hr(i,o),u=n[11],a=Ur(u,o[7]);return null!==a&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Br(t,r,n,1,i,o)}(r,o[6],u,n,a,s),t.attachToViewContainerRef(),hn(gu(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=pu(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Pr(this._lContainer,e);n&&(fn(gu(this._lContainer),e),Dr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Pr(this._lContainer,e);return n&&null!=fn(gu(this._lContainer),e)?new Ys(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function pu(t){return t[8]}function gu(t){return t[8]||(t[8]=[])}function yu(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Dt(r);else{const n=e[11];i=n.createComment("");const r=Vt(t,e);Vr(n,Ur(n,r),i,function(t,e){return Nt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ui(r,e,i,t),zi(e,n)}return new du(n,t,e)}const vu={};class mu extends Cs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new _u(e,this.ngModule)}}function bu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const wu=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Or});class _u extends Es{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ii).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return bu(this.componentDef.inputs)}get outputs(){return bu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,vu,i);return o!==vu||r===vu?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(As,Pt),s=i.get(Ps,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Nt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):kr(o.createRenderer(null,this.componentDef),a,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Or,clean:Qi,playerHandler:null,flags:0},f=Ci(0,null,null,1,0,null,null,null,null,null),d=gi(null,f,h,l,null,null,o,u,s,i);let p,g;le(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=yi(s,20,2,"#host",null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(Ji(u,a,!0),null!==t&&(Te(i,t,a),null!==u.classes&&$r(i,t,u.classes),null!==u.styles&&Wr(i,t,u.styles)));const c=r.createRenderer(t,e),l=gi(n,Ii(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(He(Me(u,n),s,e.type),Ni(s,u),Di(u,n.length,1)),zi(n,l),n[20]=l}(c,this.componentDef,d,o,u);if(c)if(n)Te(u,c,["ng-version",Rs.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ti(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(u,c,t),e&&e.length>0&&$r(u,c,e.join(" "))}if(g=Lt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ri(t,r,e,vi(t,e,1,null),n));const i=Ke(e,t,r.directiveStart,r);_r(i,e);const o=Vt(r,e);return o&&_r(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Kt();e.contentQueries(1,s,t.directiveStart)}const u=Kt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ve(u.index),Ai(n[1],u,0,u.directiveStart,u.directiveEnd,e),ki(e,s)),s}(t,this.componentDef,d,h,[mo]),mi(f,d,null)}finally{ge()}return new Ou(this.componentType,p,Ts(g,d),d,g)}}class Ou extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ks(r),this.componentType=t}get injector(){return new Je(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Eu=new Map;class Iu extends au{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new mu(this);const n=lt(t),r=t[K]||null;r&&ps(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=ao(t,e,[{provide:au,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver}],v(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=vo.THROW_IF_NOT_FOUND,n=N.Default){return t===vo||t===au||t===to?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Cu extends cu{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${v(e)} vs ${v(e.name)}`)}(i,Eu.get(i),n),Eu.set(i,n));const o=Er(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Iu(this.moduleType,t)}}function Su(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return jo(t,s,i)?xo(t,s+1,o?r.call(o,i):r(i)):xu(t,s+1)}($t(),ne(),t,e,n,r)}function Tu(t,e,n,r,i){return function(t,e,n,r,i,o,s){const u=e+n;return function(t,e,n,r){const i=jo(t,e,n);return jo(t,e+1,r)||i}(t,u,i,o)?xo(t,u+2,s?r.call(s,i,o):r(i,o)):xu(t,u+2)}($t(),ne(),t,e,n,r,i)}function xu(t,e){const n=t[e];return n===oi?void 0:n}const ju=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const u=super.subscribe(r,o,s);return t instanceof i.a&&t.add(u),u}};function Au(){return this._results[Co()]()}class ku{constructor(){this.dirty=!0,this._results=[],this.changes=new ju,this.length=0;const t=Co(),e=ku.prototype;e[t]||(e[t]=Au)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=cn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Nu{constructor(t){this.queryList=t,this.matches=null}clone(){return new Nu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Pu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Bu(t,e).matches&&this.queries[e].setDirty()}}class Du{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Ru{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ru(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Vu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Vu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Lu(e,i)),this.matchTNodeWithReadOption(t,e,Ye(e,t,i,!1,!1))}else n===iu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ye(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===js||r===hu||r===iu&&4&e.type)this.addMatch(e.index,-2);else{const n=Ye(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Lu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Mu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ts(t,e):4&t.type?uu(t,e):null}(e,t):-2===n?function(t,e,n){return n===js?Ts(e,t):n===iu?uu(e,t):n===hu?yu(e,t):void 0}(t,e,r):Ke(t,t[1],n,e)}function Uu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Mu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Fu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Uu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&Fu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Fu(n[1],n,i,r)}}}}}return r}function qu(t){const e=$t(),n=Qt(),r=se();ue(r+1);const i=Bu(n,r);if(t.dirty&&Ft(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Fu(n,e,r,[]):Uu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Hu(t,e,n,r){!function(t,e,n,r,i,o,s,u){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Ru),t.queries.track(new Vu(e,n))}(t,new Du(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,u)),function(t,e){const n=new ku;Si(t,e,n,n.destroy),null===e[19]&&(e[19]=new Pu),e[19].queries.push(new Nu(n))}(t,e)}(Qt(),$t(),e,n,r,0,Kt(),t)}function zu(){return t=$t(),e=se(),t[19].queries[e].queryList;var t,e}function Bu(t,e){return t.queries.getByIndex(e)}function Gu(t=N.Default){const e=Js(!0);if(null!=e||t&N.Optional)return e;Et("ChangeDetectorRef")}const Wu=new sn("Application Initializer");let $u=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ss,this.reject=Ss,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Uo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(jn(Wu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Qu=new sn("AppId"),Yu={provide:Qu,useFactory:function(){return`${Ku()}${Ku()}${Ku()}`},deps:[]};function Ku(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xu=new sn("Platform Initializer"),Zu=new sn("Platform ID"),Ju=new sn("appBootstrapListener");let ta=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const ea=new sn("LocaleId"),na=new sn("DefaultCurrencyCode");class ra{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ia=function(t){return new Cu(t)},oa=ia,sa=function(t){return Promise.resolve(ia(t))},ua=function(t){const e=ia(t),n=Er(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new _u(n)),t},[]);return new ra(e,n)},aa=ua,ca=function(t){return Promise.resolve(ua(t))};let la=(()=>{class t{constructor(){this.compileModuleSync=oa,this.compileModuleAsync=sa,this.compileModuleAndAllComponentsSync=aa,this.compileModuleAndAllComponentsAsync=ca}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const ha=(()=>Promise.resolve(0))();function fa(t){"undefined"==typeof Zone?ha.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class da{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ju(!1),this.onMicrotaskEmpty=new ju(!1),this.onStable=new ju(!1),this.onError=new ju(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ya(t),ga(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ya(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,u)=>{try{return va(t),n.invokeTask(i,o,s,u)}finally{e&&"eventTask"===o.type&&e(),ma(t)}},onInvoke:(e,n,r,i,o,s,u)=>{try{return va(t),e.invoke(r,i,o,s,u)}finally{ma(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,ya(t),ga(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!da.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(da.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,pa,Ss,Ss);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const pa={};function ga(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ya(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function va(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ma(t){t._nesting--,ga(t)}class ba{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ju,this.onMicrotaskEmpty=new ju,this.onStable=new ju,this.onError=new ju}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let wa=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{da.assertNotInAngularZone(),fa(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fa(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(jn(da))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),_a=(()=>{class t{constructor(){this._applications=new Map,Ca.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ca.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class Oa{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ea(t){Ca=t}let Ia,Ca=new Oa,Sa=!0,Ta=!1;function xa(){return Ta=!0,Sa}function ja(){if(Ta)throw new Error("Cannot enable prod mode after platform setup.");Sa=!1}const Aa=new sn("AllowMultipleToken");class ka{constructor(t,e){this.name=t,this.token=e}}function Na(t,e,n=[]){const r="Platform: "+e,i=new sn(r);return(e=[])=>{let o=Pa();if(!o||o.injector.get(Aa,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:no,useValue:"platform"});!function(t){if(Ia&&!Ia.destroyed&&!Ia.injector.get(Aa,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ia=t.get(Da);const e=t.get(Xu,null);e&&e.forEach(t=>t())}(vo.create({providers:t,name:r}))}return function(t){const e=Pa();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Pa(){return Ia&&!Ia.destroyed?Ia:null}let Da=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ba:("zone.js"===t?void 0:t)||new da({enableLongStackTrace:xa(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:da,useValue:n}];return n.run(()=>{const e=vo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(wr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{La(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Uo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get($u);return t.runInitializers(),t.donePromise.then(()=>(ps(i.injector.get(ea,fs)||fs),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ra({},e);return function(t,e,n){const r=new Cu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Va);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${v(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(jn(vo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Ra(t,e){return Array.isArray(e)?e.reduce(Ra,t):Object.assign(Object.assign({},t),e)}let Va=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{da.assertNotInAngularZone(),fa(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{da.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return a()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Es?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(au),i=n.create(vo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(wa,null),u=s&&i.injector.get(_a);return s&&u&&u.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),La(this.components,i),u&&u.unregisterApplication(o)}),this._loadComponent(i),xa()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;La(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ju,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(jn(da),jn(ta),jn(vo),jn(wr),jn(Cs),jn($u))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function La(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ma{}class Ua{}const Fa={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let qa=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Fa}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Ha(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ha(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(jn(la),jn(Ua,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Ha(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const za=function(t){return null},Ba=Na(null,"core",[{provide:Zu,useValue:"unknown"},{provide:Da,deps:[vo]},{provide:_a,deps:[]},{provide:ta,deps:[]}]),Ga=[{provide:Va,useClass:Va,deps:[da,ta,vo,wr,Cs,$u]},{provide:wu,deps:[da],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:$u,useClass:$u,deps:[[new vn,Wu]]},{provide:la,useClass:la,deps:[]},Yu,{provide:Ws,useFactory:function(){return eu},deps:[]},{provide:$s,useFactory:function(){return nu},deps:[]},{provide:ea,useFactory:function(t){return ps(t=t||"undefined"!=typeof $localize&&$localize.locale||fs),t},deps:[[new yn(ea),new vn,new bn]]},{provide:na,useValue:"USD"}];let Wa=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=I({factory:function(e){return new(e||t)(jn(Va))},providers:Ga}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let u=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(u.createNext(t))}_error(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return a}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}var y=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new y(i,u,r);return a},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const u=new s(i),a=u},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:u,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){u&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?a(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(a(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return v}),n.d(e,"f",function(){return I}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return y}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const g=["ngOnDestroy"],y=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new a.q("angularfire2.app.options"),b=new a.q("angularfire2.app.nameOrConfig"),w=new a.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(a.U)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:_,deps:[m,a.z,[new a.A,b]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",a.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(e){return new(e||t)(a.Pb(a.B))},providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return y});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function u(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>u(e)&&t()),e},clearImmediate(t){u(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function y(t,e=0){return function(n){return n.lift(new v(t,e))}}class v{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}class u{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new a.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",function(){return a},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.c)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&a.push("and"),s&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(a.join(" "))}c(new u.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(u){var a,c,h=u.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===u.type?r[h]:null;if(n.set(h,u),"PUBLIC"===u.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==u.serviceProps&&Object(s.f)(f,u.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,u.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(u)}catch(y){a={error:y}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(a)throw a.error}}return"PUBLIC"===u.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=y;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion(h,"0.6.14",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyCVTDpcazA6Dfc22nxSg3oi2EO2AfznJz0",authDomain:"firechat-4c8c1.firebaseapp.com",projectId:"firechat-4c8c1",storageBucket:"firechat-4c8c1.appspot.com",messagingSenderId:"583734051673",appId:"1:583734051673:web:e213d2f66c4e683a190248"};let o=null;function s(){return o}const u=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Pb)(u))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:m,token:t,providedIn:"root"}),t})();function m(t){const e=Object(r.Pb)(u).location;return new w(Object(r.Pb)(a),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(I(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(v),r.Pb(a))},t.normalizeQueryParams=y,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Pb)(v),Object(r.Pb)(a))}function I(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.lb;class T{}let x=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),j=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.tb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.s),r.Ib(r.t),r.Ib(r.l),r.Ib(r.D))},t.\u0275dir=r.Db({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new N(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let P=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let V=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:x}]}),t})();function L(t){return"server"===t}let M=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new U(Object(r.Pb)(u),window)}),t})();class U{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=F(this.window.history)||F(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function F(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new q,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=z||(z=document.querySelector("base"),z)?z.getAttribute("href"):null;return null==e?null:(n=e,H||(H=document.createElement("a")),H.setAttribute("href",n),"/"===H.pathname.charAt(0)?H.pathname:"/"+H.pathname);var n}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let H,z=null;const B=new r.q("TRANSITION_ID"),G=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[B,u,r.r],multi:!0}];class W{static init(){Object(r.W)(new W)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const $=new r.q("EventManagerPlugins");let Q=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb($),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class Y{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let K=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),X=(()=>{class t extends K{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Z={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},J=/%COMP%/g;function tt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?tt(t,i,n):(i=i.replace(J,t),n.push(i))}return n}function et(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new rt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new it(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new ot(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=tt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Q),r.Pb(X),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Z[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Z[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Z[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,et(n)):this.eventManager.addEventListener(t,e,et(n))}}class it extends rt{constructor(t,e,n,r){super(t),this.component=n;const i=tt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(J,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(J,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ot extends rt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=tt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let st=(()=>{class t extends Y{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ut=["alt","control","meta","shift"],at={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ht=(()=>{class t extends Y{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(ut.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ct.hasOwnProperty(e)&&(e=ct[e]))}return at[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),ut.forEach(r=>{r!=n&&(0,lt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ft=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){q.makeCurrent(),W.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],dt=Object(r.R)(r.V,"browser",ft),pt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:$,useClass:st,multi:!0,deps:[u,r.z,r.B]},{provide:$,useClass:ht,multi:!0,deps:[u]},[],{provide:nt,useClass:nt,deps:[Q,X,r.c]},{provide:r.E,useExisting:nt},{provide:K,useExisting:X},{provide:X,useClass:X,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Q,useClass:Q,deps:[$,r.z]},[]];let gt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:B,useExisting:r.c},G]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:pt,imports:[V,r.f]}),t})();"undefined"!=typeof window&&window;var yt=n("Cfvw"),vt=n("LRne"),mt=n("XNiG"),bt=n("9ppp");class wt extends mt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new bt.a;return this._value}next(t){super.next(this._value=t)}}var _t=n("z+Ro"),Ot=n("DH7j"),Et=n("7o/Q");class It extends Et.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ct extends Et.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var St=n("SeVD"),Tt=n("HDdC");function xt(t,e,n,r,i=new Ct(t,n,r)){if(!i.closed)return e instanceof Tt.a?e.subscribe(i):Object(St.a)(e)(i)}var jt=n("yCtX");const At={};class kt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Nt(t,this.resultSelector))}}class Nt extends It{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(At),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(xt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===At?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Pt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Dt=n("bHdf");function Rt(...t){return Object(Dt.a)(1)(Object(vt.a)(...t))}var Vt=n("EY2u");function Lt(t){return new Tt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(yt.a)(n):Object(Vt.b)()).subscribe(e)})}var Mt=n("lJxs"),Ut=n("zx2A");function Ft(t,e){return"function"==typeof e?n=>n.pipe(Ft((n,r)=>Object(yt.a)(t(n,r)).pipe(Object(Mt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new qt(t))}class qt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ht(t,this.project))}}class Ht extends Ut.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ut.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Ut.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const zt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Bt(t){return e=>0===t?Object(Vt.b)():e.lift(new Gt(t))}class Gt{constructor(t){if(this.total=t,this.total<0)throw new zt}call(t,e){return e.subscribe(new Wt(t,this.total))}}class Wt extends Et.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function $t(...t){const e=t[t.length-1];return Object(_t.a)(e)?(t.pop(),n=>Rt(t,n,e)):e=>Rt(t,e)}function Qt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Yt(t,e,n))}}class Yt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Kt(t,this.accumulator,this.seed,this.hasSeed))}}class Kt extends Et.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Xt(t,e){return function(n){return n.lift(new Zt(t,e))}}class Zt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Jt(t,this.predicate,this.thisArg))}}class Jt extends Et.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function te(t){return function(e){const n=new ee(t),r=e.lift(n);return n.caught=r}}class ee{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ne(t,this.selector,this.caught))}}class ne extends Ut.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ut.a(this);this.add(r);const i=Object(Ut.c)(n,r);i!==r&&this.add(i)}}}var re=n("5+tZ");function ie(t,e){return Object(re.a)(t,e,1)}function oe(t){return function(e){return 0===t?Object(Vt.b)():e.lift(new se(t))}}class se{constructor(t){if(this.total=t,this.total<0)throw new zt}call(t,e){return e.subscribe(new ue(t,this.total))}}class ue extends Et.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ae(t=he){return e=>e.lift(new ce(t))}class ce{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new le(t,this.errorFactory))}}class le extends Et.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(qm){t=qm}this.destination.error(t)}}}function he(){return new Pt}function fe(t=null){return e=>e.lift(new de(t))}class de{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new pe(t,this.defaultValue))}}class pe extends Et.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ge=n("SpAZ");function ye(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xt((e,n)=>t(e,n,r)):ge.a,Bt(1),n?fe(e):ae(()=>new Pt))}var ve=n("vkgz"),me=n("quSY");class be{constructor(t){this.callback=t}call(t,e){return e.subscribe(new we(t,this.callback))}}class we extends Et.a{constructor(t,e){super(t),this.add(new me.a(e))}}class _e{constructor(t,e){this.id=t,this.url=e}}class Oe extends _e{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ee extends _e{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ie extends _e{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ce extends _e{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Se extends _e{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Te extends _e{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xe extends _e{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class je extends _e{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ae extends _e{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ne{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Re{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ve{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Le{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Me="primary";class Ue{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Fe(t){return new Ue(t)}function qe(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function He(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ze(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Be(t[i],e[i]))return!1;return!0}function Be(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ge(t){return Array.prototype.concat.apply([],t)}function We(t){return t.length>0?t[t.length-1]:null}function $e(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Qe(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(yt.a)(Promise.resolve(t)):Object(vt.a)(t)}function Ye(t,e,n){return n?function(t,e){return ze(t,e)}(t.queryParams,e.queryParams)&&Ke(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Be(t[n],e[n]))}(t.queryParams,e.queryParams)&&Xe(t.root,e.root)}function Ke(t,e){if(!nn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ke(t.children[n],e.children[n]))return!1}return!0}function Xe(t,e){return Ze(t,e,e.segments)}function Ze(t,e,n){if(t.segments.length>n.length)return!!nn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!nn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Xe(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!nn(t.segments,r)&&!!t.children.primary&&Ze(t.children.primary,e,i)}}class Je{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return sn.serialize(this)}}class tn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,$e(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return un(this)}}class en{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Fe(this.parameters)),this._parameterMap}toString(){return pn(this)}}function nn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class rn{}class on{parse(t){const e=new bn(t);return new Je(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+an(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ln(e)}=${ln(t)}`).join("&"):`${ln(e)}=${ln(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const sn=new on;function un(t){return t.segments.map(t=>pn(t)).join("/")}function an(t,e){if(!t.hasChildren())return un(t);if(e){const e=t.children.primary?an(t.children.primary,!1):"",n=[];return $e(t.children,(t,e)=>{e!==Me&&n.push(`${e}:${an(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return $e(t.children,(t,r)=>{r===Me&&(n=n.concat(e(t,r)))}),$e(t.children,(t,r)=>{r!==Me&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Me?[an(t.children.primary,!1)]:[`${n}:${an(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${un(t)}/${e[0]}`:`${un(t)}/(${e.join("//")})`}}function cn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ln(t){return cn(t).replace(/%3B/gi,";")}function hn(t){return cn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fn(t){return decodeURIComponent(t)}function dn(t){return fn(t.replace(/\+/g,"%20"))}function pn(t){return`${hn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${hn(t)}=${hn(e[t])}`).join("")}`;var e}const gn=/^[^\/()?;=#]+/;function yn(t){const e=t.match(gn);return e?e[0]:""}const vn=/^[^=?&#]+/,mn=/^[^?&#]+/;class bn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new tn(t,e)),n}parseSegment(){const t=yn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new en(fn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=yn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=yn(this.remaining);t&&(n=t,this.capture(n))}t[fn(e)]=fn(n)}parseQueryParam(t){const e=function(t){const e=t.match(vn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(mn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=dn(e),i=dn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=yn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Me);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new tn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class wn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=_n(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=_n(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=On(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return On(t,this._root).map(t=>t.value)}}function _n(t,e){if(t===e.value)return e;for(const n of e.children){const e=_n(t,n);if(e)return e}return null}function On(t,e){if(t===e.value)return[e];for(const n of e.children){const r=On(t,n);if(r.length)return r.unshift(e),r}return[]}class En{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function In(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Cn extends wn{constructor(t,e){super(t),this.snapshot=e,kn(this,t)}toString(){return this.snapshot.toString()}}function Sn(t,e){const n=function(t,e){const n=new jn([],{},{},"",{},Me,e,null,t.root,-1,{});return new An("",new En(n,[]))}(t,e),r=new wt([new en("",{})]),i=new wt({}),o=new wt({}),s=new wt({}),u=new wt(""),a=new Tn(r,i,s,u,o,Me,e,n.root);return a.snapshot=n.root,new Cn(new En(a,[]),n)}class Tn{constructor(t,e,n,r,i,o,s,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Mt.a)(t=>Fe(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Mt.a)(t=>Fe(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class jn{constructor(t,e,n,r,i,o,s,u,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fe(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fe(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class An extends wn{constructor(t,e){super(e),this.url=t,kn(this,e)}toString(){return Nn(this._root)}}function kn(t,e){e.value._routerState=t,e.children.forEach(e=>kn(t,e))}function Nn(t){const e=t.children.length>0?` { ${t.children.map(Nn).join(", ")} } `:"";return`${t.value}${e}`}function Pn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ze(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ze(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ze(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ze(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Dn(t,e){return ze(t.params,e.params)&&function(t,e){return nn(t,e)&&t.every((t,n)=>ze(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Dn(t.parent,e.parent))}function Rn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Rn(t,e,r);return Rn(t,e)})}(t,e,n);return new En(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Vn(e,t),t}{const n=new Tn(new wt((r=e.value).url),new wt(r.params),new wt(r.queryParams),new wt(r.fragment),new wt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Rn(t,e));return new En(n,i)}}var r}function Vn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Vn(t.children[n],e.children[n])}function Ln(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Mn(t){return"object"==typeof t&&null!=t&&t.outlets}function Un(t,e,n,r,i){let o={};return r&&$e(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Je(n.root===t?e:Fn(n.root,t,e),o,i)}function Fn(t,e,n){const r={};return $e(t.children,(t,i)=>{r[i]=t===e?n:Fn(t,e,n)}),new tn(t.segments,r)}class qn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ln(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Mn);if(r&&r!==We(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function zn(t,e,n){if(t||(t=new tn([],{})),0===t.segments.length&&t.hasChildren())return Bn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Mn(s))break;const u=""+s,a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!Qn(u,a,e))return o;r+=2}else{if(!Qn(u,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new tn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new tn(t.segments.slice(r.pathIndex),t.children),Bn(e,0,i)}return r.match&&0===i.length?new tn(t.segments,{}):r.match&&!t.hasChildren()?Gn(t,e,n):r.match?Bn(t,0,i):Gn(t,e,n)}function Bn(t,e,n){if(0===n.length)return new tn(t.segments,{});{const r=function(t){return Mn(t[0])?t[0].outlets:{[Me]:t}}(n),i={};return $e(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=zn(t.children[r],e,n))}),$e(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new tn(t.segments,i)}}function Gn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Mn(o)){const t=Wn(o.outlets);return new tn(r,t)}if(0===i&&Ln(n[0])){r.push(new en(t.segments[e].path,n[0])),i++;continue}const s=Mn(o)?o.outlets.primary:""+o,u=i<n.length-1?n[i+1]:null;s&&u&&Ln(u)?(r.push(new en(s,$n(u))),i+=2):(r.push(new en(s,{})),i++)}return new tn(r,{})}function Wn(t){const e={};return $e(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Gn(new tn([],{}),0,t))}),e}function $n(t){const e={};return $e(t,(t,n)=>e[n]=""+t),e}function Qn(t,e,n){return t==n.path&&ze(e,n.parameters)}class Yn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Pn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=In(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),$e(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=In(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=In(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Ve(t.value.snapshot))}),t.children.length&&this.forwardEvent(new De(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Pn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Kn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Kn(t){Pn(t.value),t.children.forEach(Kn)}class Xn{constructor(t,e){this.routes=t,this.module=e}}function Zn(t){return"function"==typeof t}function Jn(t){return t instanceof Je}const tr=Symbol("INITIAL_VALUE");function er(){return Ft(t=>function(...t){let e=void 0,n=void 0;return Object(_t.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Ot.a)(t[0])&&(t=t[0]),Object(jt.a)(t,n).lift(new kt(e))}(t.map(t=>t.pipe(Bt(1),$t(tr)))).pipe(Qt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==tr)return t;if(r===tr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Jn(r))return r}return t},t)},tr),Xt(t=>t!==tr),Object(Mt.a)(t=>Jn(t)?t:!0===t),Bt(1)))}let nr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[$r]},encapsulation:2}),t})();function rr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];ir(r,or(e,r))}}function ir(t,e){t.children&&rr(t.children,e)}function or(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function sr(t){const e=t.children&&t.children.map(sr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Me&&(n.component=nr),n}function ur(t){return t.outlet||Me}function ar(t,e){const n=t.filter(t=>ur(t)===e);return n.push(...t.filter(t=>ur(t)!==e)),n}const cr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function lr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},cr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||He)(n,t,e);if(!i)return Object.assign({},cr);const o={};$e(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function hr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>fr(t,e,n)&&ur(n)!==Me)}(t,n,r)){const i=new tn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&ur(o)!==Me){const n=new tn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ur(o)]=n}return i}(t,e,r,new tn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>fr(t,e,n))}(t,n,r)){const o=new tn(t.segments,function(t,e,n,r,i,o){const s={};for(const u of r)if(fr(t,n,u)&&!i[ur(u)]){const n=new tn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[ur(u)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new tn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function fr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function dr(t,e,n,r){return!!(ur(t)===r||r!==Me&&fr(e,n,t))&&("**"===t.path||lr(e,t,n).matched)}function pr(t,e,n){return 0===e.length&&!t.children[n]}class gr{constructor(t){this.segmentGroup=t||null}}class yr{constructor(t){this.urlTree=t}}function vr(t){return new Tt.a(e=>e.error(new gr(t)))}function mr(t){return new Tt.a(e=>e.error(new yr(t)))}function br(t){return new Tt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class wr{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=hr(this.urlTree.root,[],[],this.config).segmentGroup,e=new tn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Me).pipe(Object(Mt.a)(t=>this.createUrlTree(_r(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(te(t=>{if(t instanceof yr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof gr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Me).pipe(Object(Mt.a)(e=>this.createUrlTree(_r(e),t.queryParams,t.fragment))).pipe(te(t=>{if(t instanceof gr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new tn([],{[Me]:t}):t;return new Je(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Mt.a)(t=>new tn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(yt.a)(r).pipe(ie(r=>{const i=n.children[r],o=ar(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Mt.a)(t=>({segment:t,outlet:r})))}),Qt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Xt((e,n)=>t(e,n,r)):ge.a,oe(1),n?fe(e):ae(()=>new Pt))}())}expandSegment(t,e,n,r,i,o){return Object(yt.a)(n).pipe(ie(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(te(t=>{if(t instanceof gr)return Object(vt.a)(null);throw t}))),ye(t=>!!t),te((t,n)=>{if(t instanceof Pt||"EmptyError"===t.name){if(pr(e,r,i))return Object(vt.a)(new tn([],{}));throw new gr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return dr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):vr(e):vr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?mr(i):this.lineralizeSegments(n,i).pipe(Object(re.a)(n=>{const i=new tn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:u,lastChild:a,positionalParamSegments:c}=lr(e,r,i);if(!s)return vr(e);const l=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?mr(l):this.lineralizeSegments(r,l).pipe(Object(re.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Mt.a)(t=>(n._loadedConfig=t,new tn(r,{})))):Object(vt.a)(new tn(r,{}));const{matched:o,consumedSegments:s,lastChild:u}=lr(e,n,r);if(!o)return vr(e);const a=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(re.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:u,slicedSegments:c}=hr(e,s,a,o),l=new tn(u.segments,u.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Mt.a)(t=>new tn(s,t)));if(0===o.length&&0===c.length)return Object(vt.a)(new tn(s,{}));const h=ur(n)===i;return this.expandSegment(r,l,o,c,h?Me:i,!0).pipe(Object(Mt.a)(t=>new tn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(vt.a)(new Xn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(vt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(re.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Mt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Tt.a(e=>e.error(qe(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(vt.a)(new Xn([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(vt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Zn(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Zn(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Qe(o)});return Object(vt.a)(i).pipe(er(),Object(ve.a)(t=>{if(!Jn(t))return;const e=qe(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Mt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(vt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return br(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Je(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return $e(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return $e(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new tn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function _r(t){const e={};for(const n of Object.keys(t.children)){const r=_r(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new tn(t.segments.concat(e.segments),e.children)}return t}(new tn(t.segments,e))}class Or{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Er{constructor(t,e){this.component=t,this.route=e}}function Ir(t,e,n){const r=t._root;return Sr(r,e?e._root:null,n,[r.value])}function Cr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Sr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=In(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const a=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!nn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!nn(t.url,e.url)||!ze(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dn(t,e)||!ze(t.queryParams,e.queryParams);case"paramsChange":default:return!Dn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new Or(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Sr(t,e,o.component?u?u.children:null:n,r,i),a&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Er(u.outlet.component,s))}else s&&Tr(e,u,i),i.canActivateChecks.push(new Or(r)),Sr(t,null,o.component?u?u.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),$e(o,(t,e)=>Tr(t,n.getContext(e),i)),i}function Tr(t,e,n){const r=In(t),i=t.value;$e(r,(t,r)=>{Tr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Er(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class xr{}function jr(t){return new Tt.a(e=>e.error(t))}class Ar{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=hr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Me);if(null===e)return null;const n=new jn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Me,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new En(n,e),i=new An(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=xn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=ar(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!kr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Me?-1:e.value.outlet===Me?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return pr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!dr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?We(n).parameters:{};i=new jn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dr(t),ur(t),t.component,t,Nr(e),Pr(e)+n.length,Rr(t))}else{const r=lr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new jn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dr(t),ur(t),t.component,t,Nr(e),Pr(e)+o.length,Rr(t))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:c}=hr(e,o,s,u.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const t=this.processChildren(u,a);return null===t?null:[new En(i,t)]}if(0===u.length&&0===c.length)return[new En(i,[])];const l=ur(t)===r,h=this.processSegment(u,a,c,l?Me:r);return null===h?null:[new En(i,h)]}}function kr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Nr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Pr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Dr(t){return t.data||{}}function Rr(t){return t.resolve||{}}function Vr(t){return Ft(e=>{const n=t(e);return n?Object(yt.a)(n).pipe(Object(Mt.a)(()=>e)):Object(vt.a)(e)})}class Lr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Mr=new r.q("ROUTES");class Ur{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Mt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Xn(Ge(r.injector.get(Mr)).map(sr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(yt.a)(this.loader.load(t)):Qe(t()).pipe(Object(re.a)(t=>t instanceof r.v?Object(vt.a)(t):Object(yt.a)(this.compiler.compileModuleAsync(t))))}}class Fr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qr,this.attachRef=null}}class qr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Fr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Hr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function zr(t){throw t}function Br(t,e,n){return e.parse("/")}function Gr(t,e){return Object(vt.a)(null)}let Wr=(()=>{class t{constructor(t,e,n,i,o,s,u,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new mt.a,this.errorHandler=zr,this.malformedUriErrorHandler=Br,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Gr,afterPreactivation:Gr},this.urlHandlingStrategy=new Hr,this.routeReuseStrategy=new Lr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new Je(new tn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ur(s,u,t=>this.triggerEvent(new ke(t)),t=>this.triggerEvent(new Ne(t))),this.routerState=Sn(this.currentUrlTree,this.rootComponentType),this.transitions=new wt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Xt(t=>0!==t.id),Object(Mt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ft(t=>{let n=!1,r=!1;return Object(vt.a)(t).pipe(Object(ve.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ft(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(vt.a)(t).pipe(Ft(t=>{const n=this.transitions.getValue();return e.next(new Oe(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Vt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Ft(t=>function(t,e,n,r,i){return new wr(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Mt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(ve.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(re.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Ar(t,e,n,r,i,o).recognize();return null===s?jr(new xr):Object(vt.a)(s)}catch(qm){return jr(qm)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Mt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(ve.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Se(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,u=new Oe(n,this.serializeUrl(r),i,o);e.next(u);const a=Sn(r,this.rootComponentType).snapshot;return Object(vt.a)(Object.assign(Object.assign({},t),{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Vt.a}),Vr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ve.a)(t=>{const e=new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Mt.a)(t=>Object.assign(Object.assign({},t),{guards:Ir(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(re.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(vt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(yt.a)(t).pipe(Object(re.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(vt.a)(!0);const s=o.map(o=>{const s=Cr(o,e,i);let u;if(function(t){return t&&Zn(t.canDeactivate)}(s))u=Qe(s.canDeactivate(t,e,n,r));else{if(!Zn(s))throw new Error("Invalid CanDeactivate guard");u=Qe(s(t,e,n,r))}return u.pipe(ye())});return Object(vt.a)(s).pipe(er())}(t.component,t.route,n,e,r)),ye(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(re.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(yt.a)(e).pipe(ie(e=>Rt(function(t,e){return null!==t&&e&&e(new Pe(t)),Object(vt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Re(t)),Object(vt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Lt(()=>{const i=e.guards.map(i=>{const o=Cr(i,e.node,n);let s;if(function(t){return t&&Zn(t.canActivateChild)}(o))s=Qe(o.canActivateChild(r,t));else{if(!Zn(o))throw new Error("Invalid CanActivateChild guard");s=Qe(o(r,t))}return s.pipe(ye())});return Object(vt.a)(i).pipe(er())}));return Object(vt.a)(i).pipe(er())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(vt.a)(!0);const i=r.map(r=>Lt(()=>{const i=Cr(r,e,n);let o;if(function(t){return t&&Zn(t.canActivate)}(i))o=Qe(i.canActivate(e,t));else{if(!Zn(i))throw new Error("Invalid CanActivate guard");o=Qe(i(e,t))}return o.pipe(ye())}));return Object(vt.a)(i).pipe(er())}(t,e.route,n))),ye(t=>!0!==t,!0))}(r,o,t,e):Object(vt.a)(n)),Object(Mt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(ve.a)(t=>{if(Jn(t.guardsResult)){const e=qe(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Xt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ie(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Vr(t=>{if(t.guards.canActivateChecks.length)return Object(vt.a)(t).pipe(Object(ve.a)(t=>{const e=new je(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Ft(t=>{let n=!1;return Object(vt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(re.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(vt.a)(t);let o=0;return Object(yt.a)(n).pipe(ie(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(vt.a)({});const o={};return Object(yt.a)(i).pipe(Object(re.a)(i=>function(t,e,n,r){const i=Cr(t,e,r);return Qe(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(ve.a)(t=>{o[i]=t}))),oe(1),Object(re.a)(()=>Object.keys(o).length===i.length?Object(vt.a)(o):Vt.a))}(t._resolve,t,e,r).pipe(Object(Mt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),xn(t,n).resolve),null)))}(t.route,e,r,i)),Object(ve.a)(()=>o++),oe(1),Object(re.a)(e=>o===n.length?Object(vt.a)(t):Vt.a))})),Object(ve.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ie(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(ve.a)(t=>{const e=new Ae(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Vr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Mt.a)(t=>{const e=function(t,e,n){const r=Rn(t,e._root,n?n._root:void 0);return new Cn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(ve.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,u=t=>this.triggerEvent(t),Object(Mt.a)(t=>(new Yn(s,t.targetRouterState,t.currentRouterState,u).activate(o),t))),Object(ve.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ie(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new be(i))),te(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Jn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ie(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ce(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(cl){t.reject(cl)}}var i;return Vt.a}));var i,o,s,u}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){rr(t),this.config=t.map(sr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,u=n||this.routerState.root,a=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Un(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new qn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return $e(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new qn(n,e,r)}(n);if(o.toRoot())return Un(e.root,new tn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Hn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Hn(t,t===e.root,0)}const r=Ln(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Hn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),u=s.processChildren?Bn(s.segmentGroup,s.index,o.commands):zn(s.segmentGroup,s.index,o.commands);return Un(s.segmentGroup,u,e,r,i)}(u,this.currentUrlTree,t,c,a)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Jn(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(qm){e=this.malformedUriErrorHandler(qm,this.urlSerializer,t)}return e}isActive(t,e){if(Jn(t))return Ye(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ye(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ee(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),u=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&u)return Promise.resolve(!0);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{a=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(rn),r.Pb(qr),r.Pb(O),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),$r=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Me,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Qr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(qr),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Qr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Tn?this.route:t===qr?this.childContexts:this.parent.get(t,e)}}class Yr{}class Kr{preload(t,e){return Object(vt.a)(null)}}let Xr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Ur(e,n,e=>t.triggerEvent(new ke(e)),e=>t.triggerEvent(new Ne(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Xt(t=>t instanceof Ee),ie(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(yt.a)(n).pipe(Object(Dt.a)(),Object(Mt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(re.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Wr),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(Yr))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Zr=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Oe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ee&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Le&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Le(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Wr),r.Pb(M),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Jr=new r.q("ROUTER_CONFIGURATION"),ti=new r.q("ROUTER_FORROOT_GUARD"),ei=[O,{provide:rn,useClass:on},{provide:Wr,useFactory:function(t,e,n,r,i,o,u,a={},c,l){const h=new Wr(null,t,e,n,r,i,o,Ge(u));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,h),a.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[rn,qr,O,r.r,r.w,r.i,Mr,Jr,[class{},new r.A],[class{},new r.A]]},qr,{provide:Tn,useFactory:function(t){return t.routerState.root},deps:[Wr]},{provide:r.w,useClass:r.J},Xr,Kr,class{preload(t,e){return e().pipe(te(()=>Object(vt.a)(null)))}},{provide:Jr,useValue:{enableTracing:!1}}];function ni(){return new r.y("Router",Wr)}let ri=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ei,ui(e),{provide:ti,useFactory:si,deps:[[Wr,new r.A,new r.I]]},{provide:Jr,useValue:n||{}},{provide:v,useFactory:oi,deps:[a,[new r.p(b),new r.A],Jr]},{provide:Zr,useFactory:ii,deps:[Wr,M,Jr]},{provide:Yr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Kr},{provide:r.y,multi:!0,useFactory:ni},[ai,{provide:r.d,multi:!0,useFactory:ci,deps:[ai]},{provide:hi,useFactory:li,deps:[ai]},{provide:r.b,multi:!0,useExisting:hi}]]}}static forChild(e){return{ngModule:t,providers:[ui(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(ti,8),r.Pb(Wr,8))}}),t})();function ii(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Zr(t,e,n)}function oi(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function si(t){return"guarded"}function ui(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Mr,multi:!0,useValue:t}]}let ai=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new mt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Wr),r=this.injector.get(Jr);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(vt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Jr),n=this.injector.get(Xr),i=this.injector.get(Zr),o=this.injector.get(Wr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function ci(t){return t.appInitializer.bind(t)}function li(t){return t.bootstrapListener.bind(t)}const hi=new r.q("Router Initializer"),fi=[];let di=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[ri.forRoot(fi)],ri]}),t})();var pi=n("D0XW");function gi(){return t=>t.lift(new yi)}class yi{call(t,e){return e.subscribe(new vi(t))}}class vi extends Et.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class mi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new bi(t,this.compare,this.keySelector))}}class bi extends Et.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var wi=n("pxpQ"),_i=n("spgP"),Oi=n("Jgta"),Ei=n("zIRd"),Ii=n("q/0M"),Ci=n("qOnz"),Si=function(t,e){return(Si=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ti(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var xi,ji="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ai=Ai||{},ki=ji||self;function Ni(){}function Pi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Di(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Ri="closure_uid_"+(1e9*Math.random()>>>0),Vi=0;function Li(t,e,n){return t.call.apply(t.bind,arguments)}function Mi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ui(t,e,n){return(Ui=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Li:Mi).apply(null,arguments)}function Fi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function qi(){return Date.now()}function Hi(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function zi(){this.j=this.j,this.i=this.i}zi.prototype.j=!1,zi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Ri)&&t[Ri]||(t[Ri]=++Vi)}(this)},zi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Bi=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Gi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Wi(t){return Array.prototype.concat.apply([],arguments)}function $i(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Qi(t){return/^[\s\xa0]*$/.test(t)}var Yi,Ki=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Xi(t,e){return-1!=t.indexOf(e)}function Zi(t,e){return t<e?-1:t>e?1:0}t:{var Ji=ki.navigator;if(Ji){var to=Ji.userAgent;if(to){Yi=to;break t}}Yi=""}function eo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function no(t){var e={};for(var n in t)e[n]=t[n];return e}var ro="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function io(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ro.length;o++)n=ro[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function oo(t){return oo[" "](t),t}oo[" "]=Ni;var so,uo,ao=Xi(Yi,"Opera"),co=Xi(Yi,"Trident")||Xi(Yi,"MSIE"),lo=Xi(Yi,"Edge"),ho=lo||co,fo=Xi(Yi,"Gecko")&&!(Xi(Yi.toLowerCase(),"webkit")&&!Xi(Yi,"Edge"))&&!(Xi(Yi,"Trident")||Xi(Yi,"MSIE"))&&!Xi(Yi,"Edge"),po=Xi(Yi.toLowerCase(),"webkit")&&!Xi(Yi,"Edge");function go(){var t=ki.document;return t?t.documentMode:void 0}t:{var yo="",vo=(uo=Yi,fo?/rv:([^\);]+)(\)|;)/.exec(uo):lo?/Edge\/([\d\.]+)/.exec(uo):co?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(uo):po?/WebKit\/(\S+)/.exec(uo):ao?/(?:Version)[ \/]?(\S+)/.exec(uo):void 0);if(vo&&(yo=vo?vo[1]:""),co){var mo=go();if(null!=mo&&mo>parseFloat(yo)){so=String(mo);break t}}so=yo}var bo={};function wo(t){return function(t,e){var n=bo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ki(String(so)).split("."),r=Ki(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=Zi(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||Zi(0==s[2].length,0==u[2].length)||Zi(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e})}var _o=ki.document&&co&&(go()||parseInt(so,10))||void 0,Oo=!co||9<=Number(_o),Eo=co&&!wo("9"),Io=function(){if(!ki.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ki.addEventListener("test",Ni,e),ki.removeEventListener("test",Ni,e)}catch(n){}return t}();function Co(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function So(t,e){if(Co.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(fo){t:{try{oo(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:To[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Co.prototype.b=function(){this.defaultPrevented=!0},Hi(So,Co);var To={2:"touch",3:"pen",4:"mouse"};So.prototype.b=function(){So.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Eo)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var xo="closure_listenable_"+(1e6*Math.random()|0),jo=0;function Ao(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++jo,this.Y=this.Z=!1}function ko(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function No(t){this.src=t,this.a={},this.b=0}function Po(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Bi(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ko(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Do(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}No.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Do(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Ao(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Ro="closure_lm_"+(1e6*Math.random()|0),Vo={};function Lo(t,e,n,r,i){if(r&&r.once)return Uo(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Lo(t,e[o],n,r,i);return null}return n=$o(n),t&&t[xo]?t.va(e,n,Di(r)?!!r.capture:!!r,i):Mo(t,e,n,!1,r,i)}function Mo(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Di(i)?!!i.capture:!!i;if(s&&!Oo)return null;var u=Go(t);if(u||(t[Ro]=u=new No(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Bo,e=Oo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Io||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ho(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Uo(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Uo(t,e[o],n,r,i);return null}return n=$o(n),t&&t[xo]?t.wa(e,n,Di(r)?!!r.capture:!!r,i):Mo(t,e,n,!0,r,i)}function Fo(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Fo(t,e[o],n,r,i);else r=Di(r)?!!r.capture:!!r,n=$o(n),t&&t[xo]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Do(o=t.a[e],n,r,i))&&(ko(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Go(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Do(e,n,r,i)),(n=-1<t?e[t]:null)&&qo(n))}function qo(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[xo])Po(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ho(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Go(e))?(Po(n,t),0==n.b&&(n.src=null,e[Ro]=null)):ko(t)}}}function Ho(t){return t in Vo?Vo[t]:Vo[t]="on"+t}function zo(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&qo(t),n.call(r,e)}function Bo(t,e){if(t.Y)return!0;if(!Oo){if(!e)t:{e=["window","event"];for(var n=ki,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return zo(t,e=new So(e,this))}return zo(t,new So(e,this))}function Go(t){return(t=t[Ro])instanceof No?t:null}var Wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function $o(t){return"function"==typeof t?t:(t[Wo]||(t[Wo]=function(e){return t.handleEvent(e)}),t[Wo])}function Qo(){zi.call(this),this.c=new No(this),this.J=this,this.C=null}function Yo(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Co(e,t);else if(e instanceof Co)e.target=e.target||t;else{var i=e;io(e=new Co(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Ko(s,r,!0,e)&&i}if(i=Ko(s=e.a=t,r,!0,e)&&i,i=Ko(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ko(s=e.a=n[o],r,!1,e)&&i}function Ko(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&Po(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}Hi(Qo,zi),Qo.prototype[xo]=!0,(xi=Qo.prototype).addEventListener=function(t,e,n,r){Lo(this,t,e,n,r)},xi.removeEventListener=function(t,e,n,r){Fo(this,t,e,n,r)},xi.G=function(){if(Qo.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ko(n[r]);delete e.a[t],e.b--}}this.C=null},xi.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},xi.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Xo=ki.JSON.stringify;function Zo(){this.b=this.a=null}var Jo,ts=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new ns},function(t){t.reset()});function es(){var t=ss,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ns(){this.next=this.b=this.a=null}function rs(t){ki.setTimeout(function(){throw t},0)}function is(t,e){Jo||function(){var t=ki.Promise.resolve(void 0);Jo=function(){t.then(us)}}(),os||(Jo(),os=!0),ss.add(t,e)}Zo.prototype.add=function(t,e){var n=ts.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ns.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ns.prototype.reset=function(){this.next=this.b=this.a=null};var os=!1,ss=new Zo;function us(){for(var t;t=es();){try{t.a.call(t.b)}catch(n){rs(n)}var e=ts;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}os=!1}function as(t,e){Qo.call(this),this.b=t||1,this.a=e||ki,this.f=Ui(this.Za,this),this.g=qi()}function cs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ls(t,e,n){if("function"==typeof t)n&&(t=Ui(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ui(t.handleEvent,t)}return 2147483647<Number(e)?-1:ki.setTimeout(t,e||0)}function hs(t){t.a=ls(function(){t.a=null,t.c&&(t.c=!1,hs(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Hi(as,Qo),(xi=as.prototype).aa=!1,xi.M=null,xi.Za=function(){if(this.aa){var t=qi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Yo(this,"tick"),this.aa&&(cs(this),this.start()))}},xi.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=qi())},xi.G=function(){as.X.G.call(this),cs(this),delete this.a};var fs=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Si(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:hs(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ki.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(zi);function ds(t){zi.call(this),this.b=t,this.a={}}Hi(ds,zi);var ps=[];function gs(t,e,n,r){Array.isArray(n)||(n&&(ps[0]=n.toString()),n=ps);for(var i=0;i<n.length;i++){var o=Lo(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ys(t){eo(t.a,function(t,e){this.a.hasOwnProperty(e)&&qo(t)},t),t.a={}}function vs(){this.a=!0}function ms(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Xo(n)}catch(u){return e}}(t,n)+(r?" "+r:"")})}ds.prototype.G=function(){ds.X.G.call(this),ys(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vs.prototype.info=function(){};var bs={},ws=null;function _s(){return ws=ws||new Qo}function Os(t){Co.call(this,bs.Fa,t)}function Es(t){var e=_s();Yo(e,new Os(e,t))}function Is(t,e){Co.call(this,bs.STAT_EVENT,t),this.stat=e}function Cs(t){var e=_s();Yo(e,new Is(e,t))}function Ss(t){Co.call(this,bs.Ga,t)}function Ts(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ki.setTimeout(function(){t()},e)}bs.Fa="serverreachability",Hi(Os,Co),bs.STAT_EVENT="statevent",Hi(Is,Co),bs.Ga="timingevent",Hi(Ss,Co);var xs={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},js={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function As(){}function ks(){}As.prototype.a=null;var Ns,Ps={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ds(){Co.call(this,"d")}function Rs(){Co.call(this,"c")}function Vs(){}function Ls(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ds(this),this.P=Ms,this.R=new as(t=ho?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Hi(Ds,Co),Hi(Rs,Co),Hi(Vs,As),Ns=new Vs;var Ms=45e3,Us={},Fs={};function qs(t,e,n){t.H=1,t.i=cu(ru(e)),t.j=n,t.I=!0,Hs(t,null)}function Hs(t,e){t.u=qi(),Gs(t),t.l=ru(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Ou(n.b,"t",r),t.D=0,t.a=ya(t.g,t.g.C?e:null),0<t.O&&(t.F=new fs(Ui(t.Ca,t,t.a),t.O)),gs(t.J,t.a,"readystatechange",t.Xa),e=t.B?no(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Es(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function zs(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Bs(t,n);if(i==Fs){4==e&&(t.h=4,Cs(14),r=!1),ms(t.c,t.f,null,"[Incomplete Response]");break}if(i==Us){t.h=4,Cs(15),ms(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ms(t.c,t.f,i,null),Ks(t,i)}4==e&&0==n.length&&(t.h=1,Cs(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),aa(e),e.F=!0,Cs(11))):(ms(t.c,t.f,n,"[Invalid Chunked Response]"),Ys(t),Qs(t))}function Bs(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Fs:(n=Number(e.substring(n,r)),isNaN(n)?Us:(r+=1)+n>e.length?Fs:(e=e.substr(r,n),t.D=r+n,e))}function Gs(t){t.T=qi()+t.P,Ws(t,t.P)}function Ws(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ts(Ui(t.Va,t),e)}function $s(t){t.o&&(ki.clearTimeout(t.o),t.o=null)}function Qs(t){0==t.g.v||t.A||ha(t.g,t)}function Ys(t){$s(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,cs(t.R),ys(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ks(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ju(n.b,t)))if(n.I=t.N,!t.C&&ju(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(tm){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;la(n),Ju(n)}ua(n),Cs(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ts(Ui(n.Sa,n),6e3));if(1>=xu(n.b)&&n.ea){try{n.ea()}catch(tm){}n.ea=void 0}}else da(n,11)}else if((t.C||n.a==t)&&la(n),!Qi(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(Xi(l,"spdy")||Xi(l,"quic")||Xi(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Au(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,au(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=qi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=ga(a,a.C?a.ga:null,a.fa),d.C){ku(a.b,d);var p=d,g=a.D;g&&p.setTimeout(g),p.o&&($s(p),Gs(p)),a.a=d}else sa(a);0<n.g.length&&na(n)}else"stop"!=i[0]&&"close"!=i[0]||da(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?da(n,7):Zu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Es(4)}catch(tm){}}function Xs(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Pi(t)||"string"==typeof t)Gi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Pi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Pi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Zs(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Zs)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Js(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];tu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)tu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function tu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(xi=Ls.prototype).setTimeout=function(t){this.P=t},xi.Xa=function(t){t=t.target;var e=this.F;e&&3==Qu(t)?e.f():this.Ca(t)},xi.Ca=function(t){try{if(t==this.a)t:{var e=Qu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ho&&!this.a.$())){this.A||4!=e||7==n||Es(8==n||0>=r?3:2),$s(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qi(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,Cs(12),Ys(this),Qs(this);break t}ms(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ks(this,a)}this.I?(zs(this,e,o),ho&&this.b&&3==e&&(gs(this.J,this.R,"tick",this.Wa),this.R.start())):(ms(this.c,this.f,o,null),Ks(this,o)),4==e&&Ys(this),this.b&&!this.A&&(4==e?ha(this.g,this):(this.b=!1,Gs(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Cs(12)):(this.h=0,Cs(13)),Ys(this),Qs(this)}}}catch(c){}},xi.Wa=function(){if(this.a){var t=Qu(this.a),e=this.a.$();this.D<e.length&&($s(this),zs(this,t,e),this.b&&4!=t&&Gs(this))}},xi.cancel=function(){this.A=!0,Ys(this)},xi.Va=function(){this.o=null;var t=qi();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Es(3),Cs(17)),Ys(this),this.h=2,Qs(this)):Ws(this,this.T-t)},(xi=Zs.prototype).K=function(){Js(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},xi.L=function(){return Js(this),this.a.concat()},xi.get=function(t,e){return tu(this.b,t)?this.b[t]:e},xi.set=function(t,e){tu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},xi.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var eu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function nu(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof nu){this.a=void 0!==e?e:t.a,iu(this,t.f),this.j=t.j,ou(this,t.c),su(this,t.h),this.g=t.g,e=t.b;var n=new mu;n.c=e.c,e.a&&(n.a=new Zs(e.a),n.b=e.b),uu(this,n),this.i=t.i}else t&&(n=String(t).match(eu))?(this.a=!!e,iu(this,n[1]||"",!0),this.j=lu(n[2]||""),ou(this,n[3]||"",!0),su(this,n[4]),this.g=lu(n[5]||"",!0),uu(this,n[6]||"",!0),this.i=lu(n[7]||"")):(this.a=!!e,this.b=new mu(null,this.a))}function ru(t){return new nu(t)}function iu(t,e,n){t.f=n?lu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ou(t,e,n){t.c=n?lu(e,!0):e}function su(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function uu(t,e,n){e instanceof mu?(t.b=e,function(t,e){e&&!t.f&&(bu(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(wu(this,e),Ou(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=hu(e,yu)),t.b=new mu(e,t.a))}function au(t,e,n){t.b.set(e,n)}function cu(t){return au(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^qi()).toString(36)),t}function lu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,fu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}nu.prototype.toString=function(){var t=[],e=this.f;e&&t.push(hu(e,du,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(hu(e,du,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(hu(n,"/"==n.charAt(0)?gu:pu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",hu(n,vu)),t.join("")};var du=/[#\/\?@]/g,pu=/[#\?:]/g,gu=/[#\?]/g,yu=/[#\?@]/g,vu=/#/g;function mu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function bu(t){t.a||(t.a=new Zs,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function wu(t,e){bu(t),e=Eu(t,e),tu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,tu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Js(t)))}function _u(t,e){return bu(t),e=Eu(t,e),tu(t.a.b,e)}function Ou(t,e,n){wu(t,e),0<n.length&&(t.c=null,t.a.set(Eu(t,e),$i(n)),t.b+=n.length)}function Eu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(xi=mu.prototype).add=function(t,e){bu(this),this.c=null,t=Eu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},xi.forEach=function(t,e){bu(this),this.a.forEach(function(n,r){Gi(n,function(n){t.call(e,n,r,this)},this)},this)},xi.L=function(){bu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},xi.K=function(t){bu(this);var e=[];if("string"==typeof t)_u(this,t)&&(e=Wi(e,this.a.get(Eu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Wi(e,t[n])}return e},xi.set=function(t,e){return bu(this),this.c=null,_u(this,t=Eu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},xi.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},xi.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Iu=function(){return function(t,e){this.b=t,this.a=e}}();function Cu(t){this.g=t||Su,t=ki.PerformanceNavigationTiming?0<(t=ki.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ki.ia&&ki.ia.ya&&ki.ia.ya()&&ki.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Su=10;function Tu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function xu(t){return t.b?1:t.a?t.a.size:0}function ju(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Au(t,e){t.a?t.a.add(e):t.b=e}function ku(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Nu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ti(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return $i(t.c)}function Pu(){}function Du(){this.a=new Pu}function Ru(t,e,n){var r=n||"";try{Xs(t,function(t,n){var i=t;Di(t)&&(i=Xo(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(qm){throw e.push(r+"type="+encodeURIComponent("_badmap")),qm}}function Vu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Cu.prototype.cancel=function(){var t,e;if(this.c=Nu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ti(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Pu.prototype.stringify=function(t){return ki.JSON.stringify(t,void 0)},Pu.prototype.parse=function(t){return ki.JSON.parse(t,void 0)};var Lu=ki.JSON.parse;function Mu(t){Qo.call(this),this.headers=new Zs,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Uu,this.D=this.F=!1}Hi(Mu,Qo);var Uu="",Fu=/^https?$/i,qu=["POST","PUT"];function Hu(t){return"content-type"==t.toLowerCase()}function zu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Bu(t),Wu(t)}function Bu(t){t.u||(t.u=!0,Yo(t,"complete"),Yo(t,"error"))}function Gu(t){if(t.b&&void 0!==Ai&&(!t.s[1]||4!=Qu(t)||2!=t.W()))if(t.l&&4==Qu(t))ls(t.za,0,t);else if(Yo(t,"readystatechange"),4==Qu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(eu)[1]||null;if(!o&&ki.self&&ki.self.location){var s=ki.self.location.protocol;o=s.substr(0,s.length-1)}i=!Fu.test(o?o.toLowerCase():"")}e=i}if(e)Yo(t,"complete"),Yo(t,"success");else{t.h=6;try{var u=2<Qu(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",Bu(t)}}finally{Wu(t)}}}function Wu(t,e){if(t.a){$u(t);var n=t.a,r=t.s[0]?Ni:null;t.a=null,t.s=null,e||Yo(t,"ready");try{n.onreadystatechange=r}catch(qm){}}}function $u(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ki.clearTimeout(t.m),t.m=null)}function Qu(t){return t.a?t.a.readyState:0}function Yu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return eo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):au(t,e,n))}function Ku(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Xu(t){this.pa=0,this.g=[],this.c=new vs,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ku("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ku("baseRetryDelayMs",5e3,t),this.Ra=Ku("retryDelaySeedMs",1e4,t),this.Ma=Ku("forwardChannelMaxRetries",2,t),this.ma=Ku("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Cu(t&&t.concurrentRequestLimit),this.ka=new Du,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Zu(t){if(ta(t),3==t.v){var e=t.R++,n=ru(t.B);au(n,"SID",t.J),au(n,"RID",e),au(n,"TYPE","terminate"),ia(t,n),(e=new Ls(t,t.c,e,void 0)).H=2,e.i=cu(ru(n)),n=!1,ki.navigator&&ki.navigator.sendBeacon&&(n=ki.navigator.sendBeacon(e.i.toString(),"")),!n&&ki.Image&&((new Image).src=e.i,n=!0),n||(e.a=ya(e.g,null),e.a.ba(e.i)),e.u=qi(),Gs(e)}pa(t)}function Ju(t){t.a&&(aa(t),t.a.cancel(),t.a=null)}function ta(t){Ju(t),t.j&&(ki.clearTimeout(t.j),t.j=null),la(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ki.clearTimeout(t.h),t.h=null)}function ea(t,e){t.g.push(new Iu(t.Oa++,e)),3==t.v&&na(t)}function na(t){Tu(t.b)||t.h||(t.h=!0,is(t.Ba,t),t.u=0)}function ra(t,e){var n;n=e?e.f:t.R++;var r=ru(t.B);au(r,"SID",t.J),au(r,"RID",n),au(r,"AID",t.P),ia(t,r),t.i&&t.l&&Yu(r,t.i,t.l),n=new Ls(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=oa(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Au(t.b,n),qs(n,r,e)}function ia(t,e){t.f&&Xs({},function(t,n){au(e,n,t)})}function oa(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ui(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{Ru(l,s,"req"+c+"_")}catch(Za){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function sa(t){t.a||t.j||(t.T=1,is(t.Aa,t),t.o=0)}function ua(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ts(Ui(t.Aa,t),fa(t,t.o)),t.o++,0))}function aa(t){null!=t.s&&(ki.clearTimeout(t.s),t.s=null)}function ca(t){t.a=new Ls(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ru(t.la);au(e,"RID","rpc"),au(e,"SID",t.J),au(e,"CI",t.H?"0":"1"),au(e,"AID",t.P),ia(t,e),au(e,"TYPE","xmlhttp"),t.i&&t.l&&Yu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=cu(ru(e)),n.j=null,n.I=!0,Hs(n,t)}function la(t){null!=t.m&&(ki.clearTimeout(t.m),t.m=null)}function ha(t,e){var n=null;if(t.a==e){la(t),aa(t),t.a=null;var r=2}else{if(!ju(t.b,e))return;n=e.s,ku(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=qi()-e.u;var i=t.u;Yo(r=_s(),new Ss(r,n,e,i)),na(t)}else sa(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(xu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ts(Ui(t.Ba,t,e),fa(t,t.u)),t.u++,0)))}(t,e)||2==r&&ua(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:da(t,5);break;case 4:da(t,10);break;case 3:da(t,6);break;default:da(t,2)}}function fa(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function da(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ui(t.Ya,t);n||(n=new nu("//www.google.com/images/cleardot.gif"),ki.location&&"http"==ki.location.protocol||iu(n,"https"),cu(n)),function(t,e){var n=new vs;if(ki.Image){var r=new Image;r.onload=Fi(Vu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fi(Vu,n,r,"TestLoadImage: error",!1,e),r.onabort=Fi(Vu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fi(Vu,n,r,"TestLoadImage: timeout",!1,e),ki.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Cs(2);t.v=0,t.f&&t.f.ra(e),pa(t),ta(t)}function pa(t){t.v=0,t.I=-1,t.f&&(0==Nu(t.b).length&&0==t.g.length||(t.b.c.length=0,$i(t.g),t.g.length=0),t.f.qa())}function ga(t,e,n){var r=function(t){return t instanceof nu?ru(t):new nu(t,void 0)}(n);if(""!=r.c)e&&ou(r,e+"."+r.c),su(r,r.h);else{var i=ki.location;r=function(t,e,n,r){var i=new nu(null,void 0);return t&&iu(i,t),e&&ou(i,e),n&&su(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&eo(t.V,function(t,e){au(r,e,t)}),n=t.na,(e=t.A)&&n&&au(r,e,n),au(r,"VER",t.ha),ia(t,r),r}function ya(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mu(t.Na)).F=t.C,e}function va(){}function ma(){if(co&&!(10<=Number(_o)))throw Error("Environmental error: no available transport.")}function ba(t,e){Qo.call(this),this.a=new Xu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Qi(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qi(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Oa(this)}function wa(t){Ds.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function _a(){Rs.call(this),this.status=1}function Oa(t){this.a=t}(xi=Mu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ns),this.a.onreadystatechange=Ui(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void zu(this,o)}t=n||"";var i=new Zs(this.headers);r&&Xs(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Hu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ki.FormData&&t instanceof ki.FormData,!(0<=Bi(qu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{$u(this),0<this.o&&((this.D=function(t){return co&&wo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ui(this.xa,this)):this.m=ls(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){zu(this,o)}},xi.xa=function(){void 0!==Ai&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Yo(this,"timeout"),this.abort(8))},xi.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Yo(this,"complete"),Yo(this,"abort"),Wu(this))},xi.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Wu(this,!0)),Mu.X.G.call(this)},xi.za=function(){this.j||(this.A||this.l||this.g?Gu(this):this.Ua())},xi.Ua=function(){Gu(this)},xi.W=function(){try{return 2<Qu(this)?this.a.status:-1}catch(uo){return-1}},xi.$=function(){try{return this.a?this.a.responseText:""}catch(uo){return""}},xi.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Lu(e)}},xi.ua=function(){return this.h},xi.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(xi=Xu.prototype).ha=8,xi.v=1,xi.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ls(this,this.c,t,void 0),r=this.l;if(this.O&&(r?io(r=no(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=oa(this,n,e),au(i=ru(this.B),"RID",t),au(i,"CVER",22),this.A&&au(i,"X-HTTP-Session-Id",this.A),ia(this,i),this.i&&r&&Yu(i,this.i,r),Au(this.b,n),this.Ia&&au(i,"TYPE","init"),this.da?(au(i,"$req",e),au(i,"SID","null"),n.U=!0,qs(n,i,null)):qs(n,i,e),this.v=2}}else 3==this.v&&(t?ra(this,t):0==this.g.length||Tu(this.b)||ra(this))},xi.Aa=function(){if(this.j=null,ca(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ts(Ui(this.Ta,this),t)}},xi.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Cs(10),Ju(this),ca(this))},xi.Sa=function(){null!=this.m&&(this.m=null,Ju(this),ua(this),Cs(19))},xi.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Cs(2)):(this.c.info("Failed to ping google.com"),Cs(1))},(xi=va.prototype).ta=function(){},xi.sa=function(){},xi.ra=function(){},xi.qa=function(){},xi.Ja=function(){},ma.prototype.a=function(t,e){return new ba(t,e)},Hi(ba,Qo),ba.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Cs(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ga(t,null,t.fa),na(t)},ba.prototype.close=function(){Zu(this.a)},ba.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,ea(this.a,e)}else this.l?((e={}).__data__=Xo(t),ea(this.a,e)):ea(this.a,t)},ba.prototype.G=function(){this.a.f=null,delete this.f,Zu(this.a),delete this.a,ba.X.G.call(this)},Hi(wa,Ds),Hi(_a,Rs),Hi(Oa,va),Oa.prototype.ta=function(){Yo(this.a,"a")},Oa.prototype.sa=function(t){Yo(this.a,new wa(t))},Oa.prototype.ra=function(t){Yo(this.a,new _a(t))},Oa.prototype.qa=function(){Yo(this.a,"b")},ma.prototype.createWebChannel=ma.prototype.a,ba.prototype.send=ba.prototype.h,ba.prototype.open=ba.prototype.g,ba.prototype.close=ba.prototype.close,xs.NO_ERROR=0,xs.TIMEOUT=8,xs.HTTP_ERROR=6,js.COMPLETE="complete",ks.EventType=Ps,Ps.OPEN="a",Ps.CLOSE="b",Ps.ERROR="c",Ps.MESSAGE="d",Qo.prototype.listen=Qo.prototype.va,Mu.prototype.listenOnce=Mu.prototype.wa,Mu.prototype.getLastError=Mu.prototype.Qa,Mu.prototype.getLastErrorCode=Mu.prototype.ua,Mu.prototype.getStatus=Mu.prototype.W,Mu.prototype.getResponseJson=Mu.prototype.Pa,Mu.prototype.getResponseText=Mu.prototype.$,Mu.prototype.send=Mu.prototype.ba;var Ea=xs,Ia=js,Ca=bs,Sa=ks,Ta=Mu,xa=n("30Go"),ja=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},Aa=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ka=new Ii.b("@firebase/firestore");function Na(){return ka.logLevel}function Pa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ka.logLevel<=Ii.a.DEBUG){var r=e.map(Va);ka.debug.apply(ka,Object(xa.g)(["Firestore (8.2.6): "+t],r))}}function Da(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ka.logLevel<=Ii.a.ERROR){var r=e.map(Va);ka.error.apply(ka,Object(xa.g)(["Firestore (8.2.6): "+t],r))}}function Ra(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ka.logLevel<=Ii.a.WARN){var r=e.map(Va);ka.warn.apply(ka,Object(xa.g)(["Firestore (8.2.6): "+t],r))}}function Va(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(qm){return t}}function La(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.6) INTERNAL ASSERTION FAILED: "+t;throw Da(e),new Error(e)}function Ma(t,e){t||La()}function Ua(t,e){return t}function Fa(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var qa=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Fa(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ha(t,e){return t<e?-1:t>e?1:0}function za(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Ba(t){return t+"\0"}var Ga=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Ha(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Ga.T=new Ga("");var Wa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$a=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(xa.c)(e,t),e}(Error),Qa=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Ga.fromBase64String(e))}catch(e){throw new $a(Wa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ga.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),Ya=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ya.UNAUTHENTICATED=new Ya(null),Ya.R=new Ya("google-credentials-uid"),Ya.P=new Ya("first-party-uid");var Ka=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},Xa=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(Ya.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),Za=function(){function t(t){var e=this;this.D=null,this.currentUser=Ya.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.F(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(Pa("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ma("string"==typeof n.accessToken),new Ka(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return Ma(null===t||"string"==typeof t),new Ya(t)},t}(),Ja=function(){function t(t,e){this.O=t,this.k=e,this.type="FirstParty",this.user=Ya.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.k},e=this.O.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),tc=function(){function t(t,e){this.O=t,this.k=e}return t.prototype.getToken=function(){return Promise.resolve(new Ja(this.O,this.k))},t.prototype.v=function(t){t(Ya.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),ec=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.M=function(t){return n.L(t)},this.$=function(t){return e.B(t)})}return t.prototype.L=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.$&&this.$(t),t},t}();ec.q=-1;var nc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new $a(Wa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new $a(Wa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new $a(Wa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $a(Wa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Ha(this.nanoseconds,t.nanoseconds):Ha(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),rc=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new nc(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),ic=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&La(),void 0===n?n=t.length-e:n>t.length-e&&La(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xa.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new $a(Wa.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(ic),sc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,uc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xa.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return sc.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new $a(Wa.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new $a(Wa.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new $a(Wa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new $a(Wa.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(ic),ac=function(){function t(t){this.path=t}return t._t=function(e){return new t(oc.ot(e))},t.ft=function(e){return new t(oc.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===oc.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return oc.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new oc(e.slice()))},t}();function cc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var fc=function(){function t(t){this.fields=t,t.sort(uc.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return za(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),dc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(t){if(Ma(!!t),"string"==typeof t){var e=0,n=dc.exec(t);if(Ma(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gc(t.seconds),nanos:gc(t.nanos)}}function gc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function yc(t){return"string"==typeof t?Ga.fromBase64String(t):Ga.fromUint8Array(t)}function vc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mc(t){var e=t.mapValue.fields.__previous_value__;return vc(e)?mc(e):e}function bc(t){var e=pc(t.mapValue.fields.__local_write_time__.timestampValue);return new nc(e.seconds,e.nanos)}function wc(t){return null==t}function _c(t){return 0===t&&1/t==-1/0}function Oc(t){return"number"==typeof t&&Number.isInteger(t)&&!_c(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ec(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vc(t)?4:10:La()}function Ic(t,e){var n=Ec(t);if(n!==Ec(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bc(t).isEqual(bc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=pc(t.timestampValue),r=pc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return yc(t.bytesValue).isEqual(yc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return gc(t.geoPointValue.latitude)===gc(e.geoPointValue.latitude)&&gc(t.geoPointValue.longitude)===gc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return gc(t.integerValue)===gc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=gc(t.doubleValue),r=gc(e.doubleValue);return n===r?_c(n)===_c(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return za(t.arrayValue.values||[],e.arrayValue.values||[],Ic);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(cc(n)!==cc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ic(n[i],r[i])))return!1;return!0}(t,e);default:return La()}}function Cc(t,e){return void 0!==(t.values||[]).find(function(t){return Ic(t,e)})}function Sc(t,e){var n=Ec(t),r=Ec(e);if(n!==r)return Ha(n,r);switch(n){case 0:return 0;case 1:return Ha(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=gc(t.integerValue||t.doubleValue),r=gc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Tc(t.timestampValue,e.timestampValue);case 4:return Tc(bc(t),bc(e));case 5:return Ha(t.stringValue,e.stringValue);case 6:return function(t,e){var n=yc(t),r=yc(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ha(n[i],r[i]);if(0!==o)return o}return Ha(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ha(gc(t.latitude),gc(e.latitude));return 0!==n?n:Ha(gc(t.longitude),gc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Sc(n[i],r[i]);if(o)return o}return Ha(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=Ha(r[s],o[s]);if(0!==u)return u;var a=Sc(n[r[s]],i[o[s]]);if(0!==a)return a}return Ha(r.length,o.length)}(t.mapValue,e.mapValue);default:throw La()}}function Tc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ha(t,e);var n=pc(t),r=pc(e),i=Ha(n.seconds,r.seconds);return 0!==i?i:Ha(n.nanos,r.nanos)}function xc(t){return jc(t)}function jc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=pc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?yc(t.bytesValue).toBase64():"referenceValue"in t?ac.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=jc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+jc(t.fields[o])}return e+"}"}(t.mapValue):La();var e}function Ac(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function kc(t){return!!t&&"integerValue"in t}function Nc(t){return!!t&&"arrayValue"in t}function Pc(t){return!!t&&"nullValue"in t}function Dc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rc(t){return!!t&&"mapValue"in t}var Vc=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Rc(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return Ic(this.proto,t.proto)},t}(),Lc=function(){function t(t){void 0===t&&(t=Vc.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ec(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(uc.ct(),this.At);return null!=t?new Vc(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=Rc(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Mc(t){var e=[];return lc(t.fields||{},function(t,n){var r=new uc([t]);if(Rc(n)){var i=Mc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new fc(e)}var Uc=function(t,e){this.key=t,this.version=e},Fc=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(xa.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Uc),qc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(xa.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Uc),Hc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xa.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Uc),zc=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function Bc(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new zc(t,e,n,r,i,o,s)}function Gc(t){var e=Ua(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+xc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),wc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=il(e.startAt)),e.endAt&&(n+="|ub:",n+=il(e.endAt)),e.vt=n}return e.vt}function Wc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!sl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Ic(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!al(t.startAt,e.startAt)&&al(t.endAt,e.endAt)}function $c(t){return ac.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Qc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(xa.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new Yc(t,n,r):"array-contains"===n?new Jc(t,r):"in"===n?new tl(t,r):"not-in"===n?new el(t,r):"array-contains-any"===n?new nl(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Kc(t,n):new Xc(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(Sc(e,this.value)):null!==e&&Ec(this.value)===Ec(e)&&this.Dt(Sc(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return La()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Yc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ac.ft(r.referenceValue),i}return Object(xa.c)(e,t),e.prototype.matches=function(t){var e=ac.H(t.key,this.key);return this.Dt(e)},e}(Qc),Kc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Zc(0,n),r}return Object(xa.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Qc),Xc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Zc(0,n),r}return Object(xa.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Qc);function Zc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ac.ft(t.referenceValue)})}var Jc=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(xa.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Nc(e)&&Cc(e.arrayValue,this.value)},e}(Qc),tl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(xa.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Cc(this.value.arrayValue,e)},e}(Qc),el=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(xa.c)(e,t),e.prototype.matches=function(t){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Cc(this.value.arrayValue,e)},e}(Qc),nl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(xa.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Nc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Cc(e.value.arrayValue,t)})},e}(Qc),rl=function(t,e){this.position=t,this.before=e};function il(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return xc(t)}).join(",")}var ol=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function sl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ul(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?ac.H(ac.ft(s.referenceValue),n.key):Sc(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function al(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ic(t.position[n],e.position[n]))return!1;return!0}var cl=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Nt=null,this.Ft=null};function ll(t,e,n,r,i,o,s,u){return new cl(t,e,n,r,i,o,s,u)}function hl(t){return new cl(t)}function fl(t){return!wc(t.limit)&&"F"===t.limitType}function dl(t){return!wc(t.limit)&&"L"===t.limitType}function pl(t){return t.xt.length>0?t.xt[0].field:null}function gl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function yl(t){return null!==t.collectionGroup}function vl(t){var e=Ua(t);if(null===e.Nt){e.Nt=[];var n=gl(e),r=pl(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new ol(n)),e.Nt.push(new ol(uc.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var u=s[o];e.Nt.push(u),u.field.ut()&&(i=!0)}if(!i){var a=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new ol(uc.ht(),a))}}}return e.Nt}function ml(t){var e=Ua(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Bc(e.path,e.collectionGroup,vl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=vl(e);r<i.length;r++){var o=i[r];n.push(new ol(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new rl(e.endAt.position,!e.endAt.before):null,u=e.startAt?new rl(e.startAt.position,!e.startAt.before):null;e.Ft=Bc(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ft}function bl(t,e,n){return new cl(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wl(t,e){return Wc(ml(t),ml(e))&&t.limitType===e.limitType}function _l(t){return Gc(ml(t))+"|lt:"+t.limitType}function Ol(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+xc(e.value);var e}).join(", ")+"]"),wc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+il(t.startAt)),t.endAt&&(e+=", endAt: "+il(t.endAt)),"Target("+e+")"}(ml(t))+"; limitType="+t.limitType+")"}function El(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):ac.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ul(t.startAt,vl(t),e)||t.endAt&&ul(t.endAt,vl(t),e))}(t,e)}function Il(t){return function(e,n){for(var r=!1,i=0,o=vl(t);i<o.length;i++){var s=o[i],u=Cl(s,e,n);if(0!==u)return u;r=r||s.field.ut()}return 0}}function Cl(t,e,n){var r=t.field.ut()?ac.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Sc(r,i):La()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return La()}}var Sl=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=rc.min()),void 0===o&&(o=rc.min()),void 0===s&&(s=Ga.T),this.target=t,this.targetId=e,this.Ot=n,this.sequenceNumber=r,this.kt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Mt=function(e){return new t(this.target,this.targetId,this.Ot,e,this.kt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Lt=function(e,n){return new t(this.target,this.targetId,this.Ot,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.$t=function(e){return new t(this.target,this.targetId,this.Ot,this.sequenceNumber,this.kt,e,this.resumeToken)},t}();function Tl(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function xl(t){return{integerValue:""+t}}function jl(t,e){return Oc(e)?xl(e):Tl(t,e)}var Al=function(){this.qt=void 0};function kl(t,e,n){return t instanceof Dl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Rl?Vl(t,e):t instanceof Ll?Ml(t,e):function(t,e){var n=Pl(t,e),r=Fl(n)+Fl(t.Ut);return kc(n)&&kc(t.Ut)?xl(r):Tl(t.Qt,r)}(t,e)}function Nl(t,e,n){return t instanceof Rl?Vl(t,e):t instanceof Ll?Ml(t,e):n}function Pl(t,e){return t instanceof Ul?kc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Dl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xa.c)(e,t),e}(Al),Rl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(xa.c)(e,t),e}(Al);function Vl(t,e){for(var n=ql(e),r=function(t){n.some(function(e){return Ic(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ll=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(xa.c)(e,t),e}(Al);function Ml(t,e){for(var n=ql(e),r=function(t){n=n.filter(function(e){return!Ic(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ul=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(xa.c)(e,t),e}(Al);function Fl(t){return gc(t.integerValue||t.doubleValue)}function ql(t){return Nc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Hl=function(t,e){this.field=t,this.transform=e},zl=function(t,e){this.version=t,this.transformResults=e},Bl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Gl(t,e){return void 0!==t.updateTime?e instanceof Fc&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Fc}var Wl=function(){};function $l(t,e,n){return t instanceof Zl?function(t,e,n){var r=t.value;if(n.transformResults){var i=eh(t.fieldTransforms,e,n.transformResults);r=rh(t.fieldTransforms,r,i)}return new Fc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Jl?function(t,e,n){if(!Gl(t.jt,e))return new Hc(t.key,n.version);var r=th(t,e,n.transformResults?eh(t.fieldTransforms,e,n.transformResults):[]);return new Fc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new qc(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Ql(t,e,n){return t instanceof Zl?function(t,e,n){if(!Gl(t.jt,e))return e;var r=t.value,i=nh(t.fieldTransforms,n,e);r=rh(t.fieldTransforms,r,i);var o=Xl(e);return new Fc(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof Jl?function(t,e,n){if(!Gl(t.jt,e))return e;var r=Xl(e),i=th(t,e,nh(t.fieldTransforms,n,e));return new Fc(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Gl(t.jt,e)?new qc(t.key,rc.min()):e}(t,e)}function Yl(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Fc?e.field(o.field):void 0,u=Pl(o.transform,s||null);null!=u&&(n=null==n?(new Lc).set(o.field,u):n.set(o.field,u))}return n?n.Pt():null}(t.fieldTransforms,e)}function Kl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&za(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Rl&&e instanceof Rl||t instanceof Ll&&e instanceof Ll?za(t.elements,e.elements,Ic):t instanceof Ul&&e instanceof Ul?Ic(t.Ut,e.Ut):t instanceof Dl&&e instanceof Dl}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function Xl(t){return t instanceof Fc?t.version:rc.min()}var Zl=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(xa.c)(e,t),e}(Wl),Jl=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(xa.c)(e,t),e}(Wl);function th(t,e,n){var r;return r=function(t,e){var n=new Lc(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof Fc?e.data():Vc.empty()),rh(t.fieldTransforms,r,n)}function eh(t,e,n){var r=[];Ma(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof Fc&&(u=e.field(o.field)),r.push(Nl(s,u,n[i]))}return r}function nh(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],u=s.transform,a=null;n instanceof Fc&&(a=n.field(s.field)),r.push(kl(u,a,e))}return r}function rh(t,e,n){for(var r=new Lc(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var ih,oh,sh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(xa.c)(e,t),e}(Wl),uh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(xa.c)(e,t),e}(Wl),ah=function(t){this.count=t};function ch(t){switch(t){case Wa.OK:return La();case Wa.CANCELLED:case Wa.UNKNOWN:case Wa.DEADLINE_EXCEEDED:case Wa.RESOURCE_EXHAUSTED:case Wa.INTERNAL:case Wa.UNAVAILABLE:case Wa.UNAUTHENTICATED:return!1;case Wa.INVALID_ARGUMENT:case Wa.NOT_FOUND:case Wa.ALREADY_EXISTS:case Wa.PERMISSION_DENIED:case Wa.FAILED_PRECONDITION:case Wa.ABORTED:case Wa.OUT_OF_RANGE:case Wa.UNIMPLEMENTED:case Wa.DATA_LOSS:return!0;default:return La()}}function lh(t){if(void 0===t)return Da("GRPC error has no .code"),Wa.UNKNOWN;switch(t){case ih.OK:return Wa.OK;case ih.CANCELLED:return Wa.CANCELLED;case ih.UNKNOWN:return Wa.UNKNOWN;case ih.DEADLINE_EXCEEDED:return Wa.DEADLINE_EXCEEDED;case ih.RESOURCE_EXHAUSTED:return Wa.RESOURCE_EXHAUSTED;case ih.INTERNAL:return Wa.INTERNAL;case ih.UNAVAILABLE:return Wa.UNAVAILABLE;case ih.UNAUTHENTICATED:return Wa.UNAUTHENTICATED;case ih.INVALID_ARGUMENT:return Wa.INVALID_ARGUMENT;case ih.NOT_FOUND:return Wa.NOT_FOUND;case ih.ALREADY_EXISTS:return Wa.ALREADY_EXISTS;case ih.PERMISSION_DENIED:return Wa.PERMISSION_DENIED;case ih.FAILED_PRECONDITION:return Wa.FAILED_PRECONDITION;case ih.ABORTED:return Wa.ABORTED;case ih.OUT_OF_RANGE:return Wa.OUT_OF_RANGE;case ih.UNIMPLEMENTED:return Wa.UNIMPLEMENTED;case ih.DATA_LOSS:return Wa.DATA_LOSS;default:return La()}}(oh=ih||(ih={}))[oh.OK=0]="OK",oh[oh.CANCELLED=1]="CANCELLED",oh[oh.UNKNOWN=2]="UNKNOWN",oh[oh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oh[oh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oh[oh.NOT_FOUND=5]="NOT_FOUND",oh[oh.ALREADY_EXISTS=6]="ALREADY_EXISTS",oh[oh.PERMISSION_DENIED=7]="PERMISSION_DENIED",oh[oh.UNAUTHENTICATED=16]="UNAUTHENTICATED",oh[oh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oh[oh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oh[oh.ABORTED=10]="ABORTED",oh[oh.OUT_OF_RANGE=11]="OUT_OF_RANGE",oh[oh.UNIMPLEMENTED=12]="UNIMPLEMENTED",oh[oh.INTERNAL=13]="INTERNAL",oh[oh.UNAVAILABLE=14]="UNAVAILABLE",oh[oh.DATA_LOSS=15]="DATA_LOSS";var hh=function(){function t(t,e){this.H=t,this.root=e||dh.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,dh.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,dh.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new fh(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new fh(this.root,t,this.H,!1)},t.prototype.ne=function(){return new fh(this.root,null,this.H,!0)},t.prototype.se=function(t){return new fh(this.root,t,this.H,!0)},t}(),fh=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),dh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw La();if(this.right.le())throw La();var t=this.left.Ie();if(t!==this.right.Ie())throw La();return t+(this.le()?0:1)},t}();dh.EMPTY=null,dh.RED=!0,dh.Ht=!1,dh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw La()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw La()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw La()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw La()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw La()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new dh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var ph=function(){function t(t){this.H=t,this.data=new hh(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new gh(this.data.te())},t.prototype.ee=function(t){return new gh(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),gh=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),yh=new hh(ac.H);function vh(){return yh}function mh(){return vh()}var bh=new hh(ac.H);function wh(){return bh}var _h=new hh(ac.H);function Oh(){return _h}var Eh=new ph(ac.H);function Ih(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Eh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ch=new ph(Ha);function Sh(){return Ch}var Th=function(){function t(t){this.H=t?function(e,n){return t(e,n)||ac.H(e.key,n.key)}:function(t,e){return ac.H(t.key,e.key)},this.ge=wh(),this.Ve=new hh(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),xh=function(){function t(){this.be=new hh(ac.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):La():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),jh=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=u}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Th.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&wl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ah=function(){function t(t,e,n,r,i){this.kt=t,this.Fe=e,this.Oe=n,this.ke=r,this.Me=i}return t.Le=function(e,n){var r=new Map;return r.set(e,kh.$e(e,n)),new t(rc.min(),r,Sh(),vh(),Ih())},t}(),kh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.$e=function(e,n){return new t(Ga.T,n,Ih(),Ih(),Ih())},t}(),Nh=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Ph=function(t,e){this.targetId=t,this.je=e},Dh=function(t,e,n,r){void 0===n&&(n=Ga.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Rh=function(){function t(){this.Ge=0,this.ze=Mh(),this.He=Ga.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=Ih(),e=Ih(),n=Ih();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:La()}}),new kh(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Mh()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Vh=function(){function t(t){this.un=t,this.hn=new Map,this.ln=vh(),this._n=Lh(),this.fn=new ph(Ha)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof Fc?this.wn(r,t.We):t.We instanceof qc&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:La()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if($c(i))if(0===n){var o=new ac(i.path);this.En(e,o,new qc(o,rc.min()))}else Ma(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&$c(o.target)){var s=new ac(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new qc(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=Ih();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ot||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ah(t,n,this.fn,this.ln,r);return this.ln=vh(),this._n=Lh(),this.fn=new ph(Ha),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Rh,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new ph(Ha),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Pa("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Rh),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function Lh(){return new hh(ac.H)}function Mh(){return new hh(ac.H)}var Uh={asc:"ASCENDING",desc:"DESCENDING"},Fh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qh=function(t,e){this.t=t,this.Bt=e};function Hh(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function zh(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Bh(t,e){return Hh(t,e.j())}function Gh(t){return Ma(!!t),rc.K(function(t){var e=pc(t);return new nc(e.seconds,e.nanos)}(t))}function Wh(t,e){return function(t){return new oc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function $h(t){var e=oc.ot(t);return Ma(mf(e)),e}function Qh(t,e){return Wh(t.t,e.path)}function Yh(t,e){var n=$h(e);if(n.get(1)!==t.t.projectId)throw new $a(Wa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new $a(Wa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new ac(Jh(n))}function Kh(t,e){return Wh(t.t,e)}function Xh(t){var e=$h(t);return 4===e.length?oc.ct():Jh(e)}function Zh(t){return new oc(["projects",t.t.projectId,"databases",t.t.database]).rt()}function Jh(t){return Ma(t.length>4&&"documents"===t.get(4)),t.Y(5)}function tf(t,e,n){return{name:Qh(t,e),fields:n.proto.mapValue.fields}}function ef(t,e,n){var r=Yh(t,e.name),i=Gh(e.updateTime),o=new Vc({mapValue:{fields:e.fields}});return new Fc(r,i,o,{hasCommittedMutations:!!n})}function nf(t,e){var n;if(e instanceof Zl)n={update:tf(t,e.key,e.value)};else if(e instanceof sh)n={delete:Qh(t,e.key)};else if(e instanceof Jl)n={update:tf(t,e.key,e.data),updateMask:vf(e.Gt)};else{if(!(e instanceof uh))return La();n={verify:Qh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Dl)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Rl)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Ll)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof Ul)return{fieldPath:e.field.rt(),increment:n.Ut};throw La()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Bh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:La()}(t,e.jt)),n}function rf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Bl.updateTime(Gh(t.updateTime)):void 0!==t.exists?Bl.exists(t.exists):Bl.Kt()}(e.currentDocument):Bl.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ma("REQUEST_TIME"===e.setToServerValue),n=new Dl):"appendMissingElements"in e?n=new Rl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Ll(e.removeAllFromArray.values||[]):"increment"in e?n=new Ul(t,e.increment):La();var r=uc.lt(e.fieldPath);return new Hl(r,n)}(t,e)}):[];if(e.update){var i=Yh(t,e.update.name),o=new Vc({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new fc((t.fieldPaths||[]).map(function(t){return uc.lt(t)}))}(e.updateMask);return new Jl(i,o,s,n,r)}return new Zl(i,o,n,r)}if(e.delete){var u=Yh(t,e.delete);return new sh(u,n)}if(e.verify){var a=Yh(t,e.verify);return new uh(a,n)}return La()}function of(t,e){return{documents:[Kh(t,e.path)]}}function sf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Kh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Kh(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Dc(t.value))return{unaryFilter:{field:df(t.field),op:"IS_NAN"}};if(Pc(t.value))return{unaryFilter:{field:df(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Dc(t.value))return{unaryFilter:{field:df(t.field),op:"IS_NOT_NAN"}};if(Pc(t.value))return{unaryFilter:{field:df(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:df(t.field),op:ff(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:df(t.field),direction:hf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||wc(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=cf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=cf(e.endAt)),n}function uf(t){var e=Xh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ma(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=af(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new ol(pf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return wc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=lf(n.startAt));var l=null;return n.endAt&&(l=lf(n.endAt)),ll(e,i,u,s,a,"F",c,l)}function af(t){return t?void 0!==t.unaryFilter?[yf(t)]:void 0!==t.fieldFilter?[gf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return af(t)}).reduce(function(t,e){return t.concat(e)}):La():[]}function cf(t){return{before:t.before,values:t.position}}function lf(t){return new rl(t.values||[],!!t.before)}function hf(t){return Uh[t]}function ff(t){return Fh[t]}function df(t){return{fieldPath:t.rt()}}function pf(t){return uc.lt(t.fieldPath)}function gf(t){return Qc.create(pf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return La()}}(t.fieldFilter.op),t.fieldFilter.value)}function yf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=pf(t.unaryFilter.field);return Qc.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=pf(t.unaryFilter.field);return Qc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=pf(t.unaryFilter.field);return Qc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=pf(t.unaryFilter.field);return Qc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return La()}}function vf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function mf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var bf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},wf=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&La(),this.Nn=!0,this.xn?this.error?this.Fn(n,this.error):this.On(e,this.result):new t(function(t,i){r.Dn=function(n){r.On(e,n).next(t,i)},r.Cn=function(e){r.Fn(n,e).next(t,i)}})},t.prototype.kn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Mn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.On=function(e,n){return e?this.Mn(function(){return e(n)}):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Mn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Ln=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.$n=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Ln(r)},t}(),_f=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new bf,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new If(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=jf(e.target.error);n.Bn.reject(new If(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new If(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Pa("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Sf(e)},t}(),Of=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(Ci.g)())&&Da("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Pa("SimpleDb","Removing database:",t),Tf(window.indexedDB.deleteDatabase(t)).kn()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Ci.g)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(xa.b)(this,void 0,void 0,function(){var e,n=this;return Object(xa.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Pa("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new If(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new $a(Wa.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new If(t,n))},i.onupgradeneeded=function(t){Pa("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Pa("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(xa.b)(this,void 0,void 0,function(){var i,o,s,u,a;return Object(xa.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(xa.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.Hn(t)];case 2:return u.db=h.sent(),e=_f.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),wf.reject(t)}).kn(),a={},s.catch(function(){}),[4,e.qn];case 3:return[2,(a.value=(h.sent(),s),a)];case 4:return Pa("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ef=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return Tf(this.Zn.delete())},t}(),If=function(t){function e(e,n){var r=this;return(r=t.call(this,Wa.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(xa.c)(e,t),e}($a);function Cf(t){return"IndexedDbTransactionError"===t.name}var Sf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Pa("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Pa("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Tf(n)},t.prototype.add=function(t){return Pa("SimpleDb","ADD",this.store.name,t,t),Tf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Tf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Pa("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Pa("SimpleDb","DELETE",this.store.name,t),Tf(this.store.delete(t))},t.prototype.count=function(){return Pa("SimpleDb","COUNT",this.store.name),Tf(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){Pa("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new wf(function(n,r){e.onerror=function(t){var e=jf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new wf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ef(i),s=e(i.primaryKey,i.value,o);if(s instanceof wf){var u=s.catch(function(t){return o.done(),wf.reject(t)});n.push(u)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return wf.Ln(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Tf(t){return new wf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=jf(t.target.error);n(e)}})}var xf=!1;function jf(t){var e=Of.Qn(Object(Ci.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new $a("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return xf||(xf=!0,setTimeout(function(){throw r},0)),r}}return t}var Af=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new bf,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new $a(Wa.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function kf(t,e){if(Da("AsyncQueue",e+": "+t),Cf(t))return new $a(Wa.UNAVAILABLE,e+": "+t);throw t}var Nf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Pf=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function Df(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Vf(e)),e=Rf(t.get(n),e);return Vf(e)}function Rf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Vf(t){return t+"\x01\x01"}function Lf(t){var e=t.length;if(Ma(e>=2),2===e)return Ma("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),oc.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&La(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:La()}o=s+2}return new oc(r)}var Mf=function(t,e){this.seconds=t,this.nanoseconds=e},Uf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Uf.store="owner",Uf.key="owner";var Ff=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ff.store="mutationQueues",Ff.keyPath="userId";var qf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};qf.store="mutations",qf.keyPath="batchId",qf.userMutationsIndex="userMutationsIndex",qf.userMutationsKeyPath=["userId","batchId"];var Hf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Df(e)]},t.key=function(t,e,n){return[t,Df(e),n]},t}();Hf.store="documentMutations",Hf.PLACEHOLDER=new Hf;var zf=function(t,e){this.path=t,this.readTime=e},Bf=function(t,e){this.path=t,this.version=e},Gf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Gf.store="remoteDocuments",Gf.readTimeIndex="readTimeIndex",Gf.readTimeIndexPath="readTime",Gf.collectionReadTimeIndex="collectionReadTimeIndex",Gf.collectionReadTimeIndexPath=["parentPath","readTime"];var Wf=function(t){this.byteSize=t};Wf.store="remoteDocumentGlobal",Wf.key="remoteDocumentGlobalKey";var $f=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};$f.store="targets",$f.keyPath="targetId",$f.queryTargetsIndexName="queryTargetsIndex",$f.queryTargetsKeyPath=["canonicalId","targetId"];var Qf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Qf.store="targetDocuments",Qf.keyPath=["targetId","path"],Qf.documentTargetsIndex="documentTargetsIndex",Qf.documentTargetsKeyPath=["path","targetId"];var Yf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Yf.key="targetGlobalKey",Yf.store="targetGlobal";var Kf=function(t,e){this.collectionId=t,this.parent=e};Kf.store="collectionParents",Kf.keyPath=["collectionId","parent"];var Xf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Xf.store="clientMetadata",Xf.keyPath="clientId";var Zf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Zf.store="bundles",Zf.keyPath="bundleId";var Jf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Jf.store="namedQueries",Jf.keyPath="name";var td=Object(xa.g)(Object(xa.g)(Object(xa.g)(Object(xa.g)([Ff.store,qf.store,Hf.store,Gf.store,$f.store,Uf.store,Yf.store,Qf.store],[Xf.store]),[Wf.store]),[Kf.store]),[Zf.store,Jf.store]),ed=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(xa.c)(e,t),e}(Pf);function nd(t,e){var n=Ua(t);return Of.zn(n.ps,e)}var rd=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=$l(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Ql(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Ql(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ih())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&za(this.mutations,t.mutations,function(t,e){return Kl(t,e)})&&za(this.baseMutations,t.baseMutations,function(t,e){return Kl(t,e)})},t}(),id=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.Fs=r}return t.from=function(e,n,r){Ma(e.mutations.length===r.length);for(var i=Oh(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),od=function(t){this.Os=t};function sd(t,e){if(e.document)return ef(t.Os,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ac.Et(e.noDocument.path),r=hd(e.noDocument.readTime);return new qc(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ac.Et(e.unknownDocument.path);return r=hd(e.unknownDocument.version),new Hc(i,r)}return La()}function ud(t,e,n){var r=ad(n),i=e.key.path.X().it();if(e instanceof Fc){var o=function(t,e){return{name:Qh(t,e.key),fields:e.bt().mapValue.fields,updateTime:Hh(t,e.version.j())}}(t.Os,e),s=e.hasCommittedMutations;return new Gf(null,null,o,s,r,i)}if(e instanceof qc){var u=e.key.path.it(),a=ld(e.version);return s=e.hasCommittedMutations,new Gf(null,new zf(u,a),null,s,r,i)}if(e instanceof Hc){var c=e.key.path.it(),l=ld(e.version);return new Gf(new Bf(c,l),null,null,!0,r,i)}return La()}function ad(t){var e=t.j();return[e.seconds,e.nanoseconds]}function cd(t){var e=new nc(t[0],t[1]);return rc.K(e)}function ld(t){var e=t.j();return new Mf(e.seconds,e.nanoseconds)}function hd(t){var e=new nc(t.seconds,t.nanoseconds);return rc.K(e)}function fd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return rf(t.Os,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return rf(t.Os,e)}),o=nc.fromMillis(e.localWriteTimeMs);return new rd(e.batchId,o,n,i)}function dd(t){var e,n,r=hd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?hd(t.lastLimboFreeSnapshotVersion):rc.min();return void 0!==t.query.documents?(Ma(1===(n=t.query).documents.length),e=ml(hl(Xh(n.documents[0])))):e=function(t){return ml(uf(t))}(t.query),new Sl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ga.fromBase64String(t.resumeToken))}function pd(t,e){var n,r=ld(e.kt),i=ld(e.lastLimboFreeSnapshotVersion);n=$c(e.target)?of(t.Os,e.target):sf(t.Os,e.target);var o=e.resumeToken.toBase64();return new $f(e.targetId,Gc(e.target),r,o,e.sequenceNumber,i,n)}function gd(t){var e=uf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?bl(e,e.limit,"L"):e}var yd=function(){function t(){}return t.prototype.ks=function(t,e){return vd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:hd(e.createTime),version:e.version};var e})},t.prototype.Ms=function(t,e){return vd(t).put({bundleId:(n=e).id,createTime:ld(Gh(n.createTime)),version:n.version});var n},t.prototype.Ls=function(t,e){return md(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:gd(e.bundledQuery),readTime:hd(e.readTime)};var e})},t.prototype.$s=function(t,e){return md(t).put(function(t){return{name:t.name,readTime:ld(Gh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function vd(t){return nd(t,Zf.store)}function md(t){return nd(t,Jf.store)}var bd=function(){function t(){this.Bs=new wd}return t.prototype.qs=function(t,e){return this.Bs.add(e),wf.resolve()},t.prototype.Us=function(t,e){return wf.resolve(this.Bs.getEntries(e))},t}(),wd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new ph(oc.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ph(oc.H)).it()},t}(),_d=function(){function t(){this.Qs=new wd}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:Df(i)};return Od(t).put(o)}return wf.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ba(e),""],!1,!0);return Od(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Lf(o.parent))}return n})},t}();function Od(t){return nd(t,Kf.store)}var Ed={Ks:!1,Ws:0,js:0,Gs:0},Id=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function Cd(t){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(e){if(t.code!==Wa.FAILED_PRECONDITION||t.message!==Nf)throw t;return Pa("LocalStore","Unexpectedly lost primary lease"),[2]})})}Id.Xs=10,Id.Zs=1e3,Id.ti=new Id(41943040,Id.Xs,Id.Zs),Id.ei=new Id(-1,0,0);var Sd=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){lc(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return hc(this.ii)},t}(),Td=function(){function t(){this.ri=new Sd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:rc.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?wf.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function xd(t,e,n){var r=t.store(qf.store),i=t.store(Hf.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.hs({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){Ma(1===u)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Hf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return wf.Ln(o).next(function(){return c})}function jd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw La();e=t.noDocument}return JSON.stringify(e).length}var Ad=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return Ma(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nd(t).hs({index:qf.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=Pd(t),s=Nd(t);return s.add({}).next(function(u){Ma("number"==typeof u);for(var a=new rd(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return nf(t.Os,e)}),i=n.mutations.map(function(e){return nf(t.Os,e)});return new qf(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,a),l=[],h=new ph(function(t,e){return Ha(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Hf.key(i.userId,p.key.path,u);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(g,Hf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[u]=a.keys()}),wf.Ln(l).next(function(){return a})})},t.prototype.Pi=function(t,e){var n=this;return Nd(t).get(e).next(function(t){return t?(Ma(t.userId===n.userId),fd(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?wf.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Nd(t).hs({index:qf.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Ma(e.batchId>=r),o=fd(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Nd(t).hs({index:qf.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nd(t).rs(qf.userMutationsIndex,n).next(function(t){return t.map(function(t){return fd(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=Hf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Pd(t).hs({range:i},function(r,i,s){var u=r[0],a=r[2],c=Lf(r[1]);if(u===n.userId&&e.path.isEqual(c))return Nd(t).get(a).next(function(t){if(!t)throw La();Ma(t.userId===n.userId),o.push(fd(n.Qt,t))});s.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new ph(Ha),i=[];return e.forEach(function(e){var o=Hf.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=Pd(t).hs({range:s},function(t,i,o){var s=t[0],u=t[2],a=Lf(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()});i.push(u)}),wf.Ln(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=Hf.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new ph(Ha);return Pd(t).hs({range:s},function(t,e,o){var s=t[0],a=t[2],c=Lf(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(u=u.add(a)):o.done()}).next(function(){return n.Si(t,u)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Nd(t).get(e).next(function(t){if(null===t)throw La();Ma(t.userId===n.userId),r.push(fd(n.Qt,t))}))}),wf.Ln(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return xd(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),wf.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.Fi=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return wf.resolve();var r=IDBKeyRange.lowerBound(Hf.prefixForUser(e.userId)),i=[];return Pd(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=Lf(t[1]);i.push(o)}else r.done()}).next(function(){Ma(0===i.length)})})},t.prototype.Oi=function(t,e){return kd(t,this.userId,e)},t.prototype.ki=function(t){var e=this;return Dd(t).get(this.userId).next(function(t){return t||new Ff(e.userId,-1,"")})},t}();function kd(t,e,n){var r=Hf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Pd(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Nd(t){return nd(t,qf.store)}function Pd(t){return nd(t,Hf.store)}function Dd(t){return nd(t,Ff.store)}var Rd=function(){function t(t){this.Mi=t}return t.prototype.next=function(){return this.Mi+=2,this.Mi},t.Li=function(){return new t(0)},t.$i=function(){return new t(-1)},t}(),Vd=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new Rd(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return rc.K(new nc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return Ld(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return Ma(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return Ld(t).hs(function(s,u){var a=dd(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Ji(t,a)))}).next(function(){return wf.Ln(o)}).next(function(){return i})},t.prototype.In=function(t,e){return Ld(t).hs(function(t,n){var r=dd(n);e(r)})},t.prototype.qi=function(t){return Md(t).get(Yf.key).next(function(t){return Ma(null!==t),t})},t.prototype.Ui=function(t,e){return Md(t).put(Yf.key,e)},t.prototype.Gi=function(t,e){return Ld(t).put(pd(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=Gc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ld(t).hs({range:r,index:$f.queryTargetsIndexName},function(t,n,r){var o=dd(n);Wc(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=Ud(t);return e.forEach(function(e){var s=Df(e.path);i.push(o.put(new Qf(n,s))),i.push(r.Ti.nr(t,n,e))}),wf.Ln(i)},t.prototype.sr=function(t,e,n){var r=this,i=Ud(t);return wf.forEach(e,function(e){var o=Df(e.path);return wf.Ln([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=Ud(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ud(t),i=Ih();return r.hs({range:n,us:!0},function(t,e,n){var r=Lf(t[1]),o=new ac(r);i=i.add(o)}).next(function(){return i})},t.prototype.Oi=function(t,e){var n=Df(e.path),r=IDBKeyRange.bound([n],[Ba(n)],!1,!0),i=0;return Ud(t).hs({index:Qf.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return Ld(t).get(e).next(function(t){return t?dd(t):null})},t}();function Ld(t){return nd(t,$f.store)}function Md(t){return nd(t,Yf.store)}function Ud(t){return nd(t,Qf.store)}function Fd(t,e){var n=t[1],r=e[1],i=Ha(t[0],e[0]);return 0===i?Ha(n,r):i}var qd=function(){function t(t){this.cr=t,this.buffer=new ph(Fd),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Fd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Hd=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Pa("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(xa.b)(e,void 0,void 0,function(){var e;return Object(xa.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return Cf(e=n.sent())?(Pa("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Cd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),zd=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return wf.resolve(ec.q);var r=new qd(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Pa("LruGarbageCollector","Garbage collection skipped; disabled"),wf.resolve(Ed)):this.pr(t).next(function(r){return r<n.params.zs?(Pa("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Ed):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(Pa("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.gr(t,n)}).next(function(t){return a=Date.now(),Na()<=Ii.a.DEBUG&&Pa("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),wf.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),Bd=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new zd(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return Gd(t,n)},t.prototype.ir=function(t,e,n){return Gd(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Gd(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Dd(t).ls(function(r){return kd(t,r,e).next(function(t){return t&&(n=!0),wf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.Fr().Nr(),i=[],o=0;return this.Dr(t,function(s,u){if(u<=e){var a=n.Cr(t,s).next(function(e){if(!e)return o++,r._i(t,s).next(function(){return r.li(s),Ud(t).delete([0,Df(s.path)])})});i.push(a)}}).next(function(){return wf.Ln(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Mt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Or=function(t,e){return Gd(t,e)},t.prototype.Dr=function(t,e){var n,r=Ud(t),i=ec.q;return r.hs({index:Qf.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==ec.q&&e(new ac(Lf(n)),i),i=s,n=o):i=ec.q}).next(function(){i!==ec.q&&e(new ac(Lf(n)),i)})},t.prototype.pr=function(t){return this.db.Fr().kr(t)},t}();function Gd(t,e){return Ud(t).put(function(t,e){return new Qf(0,Df(t.path),e)}(e,t.bs))}var Wd=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return Yd(t).put(Kd(e),n)},t.prototype.li=function(t,e){var n=Yd(t),r=Kd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Mr(t,r)})},t.prototype._i=function(t,e){var n=this;return Yd(t).get(Kd(e)).next(function(t){return n.Lr(t)})},t.prototype.$r=function(t,e){var n=this;return Yd(t).get(Kd(e)).next(function(t){var e=n.Lr(t);return e?{hi:e,size:jd(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=mh();return this.Br(t,e,function(t,e){var i=n.Lr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=mh(),i=new hh(ac.H);return this.Br(t,e,function(t,e){var o=n.Lr(e);o?(r=r.zt(t,o),i=i.zt(t,jd(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return wf.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return Yd(t).hs({range:r},function(t,e,r){for(var s=ac.Et(t);o&&ac.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=wh(),o=e.path.length+1,s={};if(n.isEqual(rc.min())){var u=e.path.it();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.it(),c=ad(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=Gf.collectionReadTimeIndex}return Yd(t).hs(s,function(t,n,s){if(t.length===o){var u=sd(r.Qt,n);e.path.nt(u.key.path)?u instanceof Fc&&El(e,u)&&(i=i.zt(u.key,u)):s.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new $d(this,!!t&&t.Wr)},t.prototype.kr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Qd(t).get(Wf.key).next(function(t){return Ma(!!t),t})},t.prototype.Mr=function(t,e){return Qd(t).put(Wf.key,e)},t.prototype.Lr=function(t){if(t){var e=sd(this.Qt,t);return e instanceof qc&&e.version.isEqual(rc.min())?null:e}return null},t}(),$d=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new Sd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(xa.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new ph(function(t,e){return Ha(t.rt(),e.rt())});return this.ri.forEach(function(o,s){var u=e.Gr.get(o);if(s.hi){var a=ud(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=jd(a);r+=c-u,n.push(e.jr.ai(t,o,a))}else if(r-=u,e.Wr){var l=ud(e.jr.Qt,new qc(o,rc.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),wf.Ln(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.$r(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(Td);function Qd(t){return nd(t,Wf.store)}function Yd(t){return nd(t,Gf.store)}function Kd(t){return t.path.it()}var Xd=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;Ma(n<r&&n>=0&&r<=11);var o=new _f("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Uf.store)}(t),function(t){t.createObjectStore(Ff.store,{keyPath:Ff.keyPath}),t.createObjectStore(qf.store,{keyPath:qf.keyPath,autoIncrement:!0}).createIndex(qf.userMutationsIndex,qf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Hf.store)}(t),Zd(t),function(t){t.createObjectStore(Gf.store)}(t));var s=wf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Qf.store),t.deleteObjectStore($f.store),t.deleteObjectStore(Yf.store)}(t),Zd(t)),s=s.next(function(){return function(t){var e=t.store(Yf.store),n=new Yf(0,0,rc.min().j(),0);return e.put(Yf.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(qf.store).rs().next(function(n){t.deleteObjectStore(qf.store),t.createObjectStore(qf.store,{keyPath:qf.keyPath,autoIncrement:!0}).createIndex(qf.userMutationsIndex,qf.userMutationsKeyPath,{unique:!0});var r=e.store(qf.store),i=n.map(function(t){return r.put(t)});return wf.Ln(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Xf.store,{keyPath:Xf.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.zr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Wf.store)}(t),i.Hr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Jr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Gf.store);e.createIndex(Gf.readTimeIndex,Gf.readTimeIndexPath,{unique:!1}),e.createIndex(Gf.collectionReadTimeIndex,Gf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Xr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Zf.store,{keyPath:Zf.keyPath})}(t),function(t){t.createObjectStore(Jf.store,{keyPath:Jf.keyPath})}(t)})),s},t.prototype.Hr=function(t){var e=0;return t.store(Gf.store).hs(function(t,n){e+=jd(n)}).next(function(){var n=new Wf(e);return t.store(Wf.store).put(Wf.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(Ff.store),r=t.store(qf.store);return n.rs().next(function(n){return wf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(qf.userMutationsIndex,i).next(function(r){return wf.forEach(r,function(r){Ma(r.userId===n.userId);var i=fd(e.Qt,r);return xd(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(Qf.store),n=t.store(Gf.store);return t.store(Yf.store).get(Yf.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new oc(n),s=function(t){return[0,Df(t)]}(o);r.push(e.get(s).next(function(n){return n?wf.resolve():function(n){return e.put(new Qf(0,Df(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return wf.Ln(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(Kf.store,{keyPath:Kf.keyPath});var n=e.store(Kf.store),r=new wd,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Df(i)})}};return e.store(Gf.store).hs({us:!0},function(t,e){var n=new oc(t);return i(n.X())}).next(function(){return e.store(Hf.store).hs({us:!0},function(t,e){var n=Lf(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store($f.store);return n.hs(function(t,r){var i=dd(r),o=pd(e.Qt,i);return n.put(o)})},t}();function Zd(t){t.createObjectStore(Qf.store,{keyPath:Qf.keyPath}).createIndex(Qf.documentTargetsIndex,Qf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore($f.store,{keyPath:$f.keyPath}).createIndex($f.queryTargetsIndexName,$f.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Yf.store)}var Jd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",tp=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=u,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new $a(Wa.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Bd(this,i),this.ho=n+"main",this.Qt=new od(a),this.lo=new Of(this.ho,11,new Xd(this.Qt)),this._o=new Vd(this.Ti,this.Qt),this.Ei=new _d,this.fo=function(t,e){return new Wd(t,e)}(this.Qt,this.Ei),this.wo=new yd,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Da("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new $a(Wa.FAILED_PRECONDITION,Jd);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new ec(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(xa.b)(e,void 0,void 0,function(){return Object(xa.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(xa.b)(e,void 0,void 0,function(){return Object(xa.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(xa.b)(e,void 0,void 0,function(){return Object(xa.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return np(e).put(new Xf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(Cf(e))return Pa("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Pa("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return ep(t).get(Uf.key).next(function(t){return wf.resolve(e.Do(t))})},t.prototype.Co=function(t){return np(t).delete(this.clientId)},t.prototype.xo=function(){return Object(xa.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(xa.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=nd(t,Xf.store);return e.rs().next(function(t){var n=r.Fo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return wf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Oo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?wf.resolve(!0):ep(t).get(Uf.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.ko(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new $a(Wa.FAILED_PRECONDITION,Jd);return!1}}return!(!e.networkEnabled||!e.inForeground)||np(t).rs().next(function(t){return void 0===e.Fo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Pa("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Mo=function(){return Object(xa.b)(this,void 0,void 0,function(){var t=this;return Object(xa.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Lo(),this.co&&(this.co.cancel(),this.co=null),this.$o(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Uf.store,Xf.store],function(e){var n=new ed(e,ec.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.Fo=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.ko(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return np(e).rs().next(function(e){return t.Fo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return Ad.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.Fr=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Pa("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",td,function(o){return r=new ed(o,i.so?i.so.next():ec.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw Da("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new $a(Wa.FAILED_PRECONDITION,Nf);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return ep(t).get(Uf.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.ko(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new $a(Wa.FAILED_PRECONDITION,Jd)})},t.prototype.So=function(t){var e=new Uf(this.clientId,this.allowTabSynchronization,Date.now());return ep(t).put(Uf.key,e)},t.Kn=function(){return Of.Kn()},t.prototype.vo=function(t){var e=this,n=ep(t);return n.get(Uf.key).next(function(t){return e.Do(t)?(Pa("IndexedDbPersistence","Releasing primary lease."),n.delete(Uf.key)):wf.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Da("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.$o=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Lo(),e.Zr.Ps(function(){return e.Mo()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.ko=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Oo(t)));return Pa("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Da("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Lo=function(){if(this.Eo)try{this.Eo.setItem(this.Oo(this.clientId),String(Date.now()))}catch(t){Da("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Oo(this.clientId))}catch(t){}},t.prototype.Oo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ep(t){return nd(t,Uf.store)}function np(t){return nd(t,Xf.store)}function rp(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ip=function(t,e){this.progress=t,this.Go=e},op=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=mh();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=vh();return i.forEach(function(t,e){e||(e=new qc(t,rc.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return ac.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):yl(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new ac(e)).next(function(t){var e=wh();return t instanceof Fc&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=wh();return this.Ei.Us(t,i).next(function(s){return wf.forEach(s,function(s){var u=function(t,e){return new cl(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,u,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=Ql(a,r.get(c),o.vs);r=l instanceof Fc?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){El(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=Ih(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof Jl&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Fc&&(c=c.zt(t,e))}),c})},t}(),sp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=Ih(),i=Ih(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),up=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(rc.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var s=i.hc(e,o);return(fl(e)||dl(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(Na()<=Ii.a.DEBUG&&Pa("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ol(e)),i.ac.Kr(t,e,n).next(function(t){return s.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new ph(Il(t));return e.forEach(function(e,r){r instanceof Fc&&El(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Na()<=Ii.a.DEBUG&&Pa("QueryEngine","Using full collection scan to execute query:",Ol(e)),this.ac.Kr(t,e,rc.min())},t}(),ap=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new hh(Ha),this.dc=new Sd(function(t){return Gc(t)},Wc),this.wc=rc.min(),this.zo=t.Qo(n),this.Ec=t.Fr(),this._o=t.Sr(),this.Tc=new op(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function cp(t,e,n,r){return new ap(t,e,n,r)}function lp(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(xa.d)(this,function(s){switch(s.label){case 0:return n=Ua(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(s){return o=s,r=n.persistence.Qo(e),i=new op(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],s=Ih(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,y=p.mutations;g<y.length;g++)s=s.add(y[g].key)}return i.Xo(t,s).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function hp(t,e){var n=Ua(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=wf.resolve();return o.forEach(function(t){s=s.next(function(){return r._i(e,t)}).next(function(e){var o=e,s=n.Fs.get(t);Ma(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),s.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.Fi(t)}).next(function(){return n.Tc.Xo(t,r)})})}function fp(t){var e=Ua(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function dp(t,e){var n=Ua(t),r=e.kt,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.Fe.forEach(function(e,o){var u=i.get(o);if(u){s.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var a=e.resumeToken;if(a.l()>0){var c=u.Lt(a,r).Mt(t.bs);i=i.zt(o,c),function(t,e,n){return Ma(e.resumeToken.l()>0),0===t.resumeToken.l()||e.kt.W()-t.kt.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(u,c,e)&&s.push(n._o.Hi(t,c))}}});var u=vh();if(e.ke.forEach(function(r,i){e.Me.has(r)&&s.push(n.persistence.Ti.Or(t,r))}),s.push(pp(t,o,e.ke,r,void 0).next(function(t){u=t})),!r.isEqual(rc.min())){var a=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});s.push(a)}return wf.Ln(s).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,u)})}).then(function(t){return n.fc=i,t})}function pp(t,e,n,r,i){var o=Ih();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=vh();return n.forEach(function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof qc&&s.version.isEqual(rc.min())?(e.li(n,a),o=o.zt(n,s)):null==u||s.version._(u.version)>0||0===s.version._(u.version)&&u.hasPendingWrites?(e.ai(s,a),o=o.zt(n,s)):Pa("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)}),o})}function gp(t,e){var n=Ua(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function yp(t,e){var n=Ua(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?wf.resolve(r=i):n._o.Bi(t).next(function(i){return r=new Sl(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.kt._(r.kt)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function vp(t,e,n){return Object(xa.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(xa.d)(this,function(u){switch(u.label){case 0:r=Ua(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Cf(s=u.sent()))throw s;return Pa("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function mp(t,e,n){var r=Ua(t),i=rc.min(),o=Ih();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Ua(t),i=r.dc.get(n);return void 0!==i?wf.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,ml(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:rc.min(),n?o:Ih())}).next(function(t){return{documents:t,Rc:o}})})}function bp(t,e){var n=Ua(t),r=Ua(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function wp(t){var e=Ua(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Ua(t),i=vh(),o=ad(n),s=Yd(e),u=IDBKeyRange.lowerBound(o,!0);return s.hs({index:Gf.readTimeIndex,range:u},function(t,e){var n=sd(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:cd(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function _p(t){return Object(xa.b)(this,void 0,void 0,function(){var e;return Object(xa.d)(this,function(n){return[2,(e=Ua(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Yd(t),n=rc.min();return e.hs({index:Gf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=cd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function Op(t,e,n,r){return Object(xa.b)(this,void 0,void 0,function(){var i,o,s,u,a,c,l,h,f,d;return Object(xa.d)(this,function(p){switch(p.label){case 0:for(i=Ua(t),o=Ih(),s=vh(),u=Oh(),a=0,c=n;a<c.length;a++)h=e.Pc((l=c[a]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),u=u.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,yp(i,function(t){return ml(hl(oc.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return pp(t,f,s,rc.min(),u).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Ep(t,e,n){return void 0===n&&(n=Ih()),Object(xa.b)(this,void 0,void 0,function(){var r,i;return Object(xa.d)(this,function(o){switch(o.label){case 0:return[4,yp(t,ml(gd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ua(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Gh(e.readTime);if(r.kt._(o)>=0)return i.wo.$s(t,e);var s=r.Lt(Ga.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.$s(t,e)})})]}})})}var Ip=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.ks=function(t,e){return wf.resolve(this.Vc.get(e))},t.prototype.Ms=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Gh(n.createTime)}),wf.resolve()},t.prototype.Ls=function(t,e){return wf.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:gd(t.bundledQuery),readTime:Gh(t.readTime)}}(e)),wf.resolve()},t}(),Cp=function(){function t(){this.vc=new ph(Sp.Sc),this.Dc=new ph(Sp.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new Sp(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new Sp(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Oc=function(t){var e=this,n=new ac(new oc([])),r=new Sp(n,t),i=new Sp(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.kc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.Mc=function(t){var e=new ac(new oc([])),n=new Sp(e,t),r=new Sp(e,t+1),i=Ih();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Oi=function(t){var e=new Sp(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),Sp=function(){function t(t,e){this.key=t,this.Lc=e}return t.Sc=function(t,e){return ac.H(t.key,e.key)||Ha(t.Lc,e.Lc)},t.Cc=function(t,e){return Ha(t.Lc,e.Lc)||ac.H(t.key,e.key)},t}(),Tp=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.$c=1,this.Bc=new ph(Sp.Sc)}return t.prototype.Ai=function(t){return wf.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.$c;this.$c++;var o=new rd(i,e,n,r);this.zo.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.Bc=this.Bc.add(new Sp(a.key,i)),this.Ei.qs(t,a.key.path.X())}return wf.resolve(o)},t.prototype.Pi=function(t,e){return wf.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return wf.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return wf.resolve(0===this.zo.length?-1:this.$c-1)},t.prototype.pi=function(t){return wf.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new Sp(e,0),i=new Sp(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Lc);o.push(e)}),wf.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new ph(Ha);return e.forEach(function(t){var e=new Sp(t,0),i=new Sp(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Lc)})}),wf.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;ac.wt(i)||(i=i.child(""));var o=new Sp(new ac(i),0),s=new ph(Ha);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Lc)),!0)},o),wf.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;Ma(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return wf.forEach(e.mutations,function(i){var o=new Sp(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Oi=function(t,e){var n=new Sp(e,0),r=this.Bc.Re(n);return wf.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return wf.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),xp=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new hh(ac.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return wf.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=mh();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),wf.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=wh(),i=new ac(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),u=s.value,a=u.hi,c=u.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||a instanceof Fc&&El(e,a)&&(r=r.zt(a.key,a))}return wf.resolve(r)},t.prototype.jc=function(t,e){return wf.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new jp(this)},t.prototype.kr=function(t){return wf.resolve(this.size)},t}(),jp=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(xa.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),wf.Ln(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(Td),Ap=function(){function t(t){this.persistence=t,this.Gc=new Sd(function(t){return Gc(t)},Wc),this.lastRemoteSnapshotVersion=rc.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Cp,this.targetCount=0,this.Jc=Rd.Li()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),wf.resolve()},t.prototype.Qi=function(t){return wf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return wf.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),wf.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),wf.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Rd(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,wf.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),wf.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Oc(e.targetId),this.targetCount-=1,wf.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,u.targetId)),i++)}),wf.Ln(o).next(function(){return i})},t.prototype.Zi=function(t){return wf.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return wf.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),wf.resolve()},t.prototype.sr=function(t,e,n){this.Hc.Fc(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),wf.Ln(i)},t.prototype.Yi=function(t,e){return this.Hc.Oc(e),wf.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.Mc(e);return wf.resolve(n)},t.prototype.Oi=function(t,e){return wf.resolve(this.Hc.Oi(e))},t}(),kp=function(){function t(t,e){var n=this;this.Yc={},this.so=new ec(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Ap(this),this.Ei=new bd,this.fo=function(t,e){return new xp(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new od(e),this.wo=new Ip(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Mo=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Tp(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.Fr=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Pa("MemoryPersistence","Starting transaction:",t);var i=new Np(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).kn().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return wf.$n(Object.values(this.Yc).map(function(n){return function(){return n.Oi(t,e)}}))},t}(),Np=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(xa.c)(e,t),e}(Pf),Pp=function(){function t(t){this.persistence=t,this.na=new Cp,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw La()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),wf.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),wf.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),wf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Oc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.Fr().Nr();return wf.forEach(this.ra,function(r){var i=ac._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Or=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return wf.$n([function(){return wf.resolve(n.na.Oi(e))},function(){return n.persistence.Sr().Oi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Dp(t,e){return"firestore_clients_"+t+"_"+e}function Rp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Vp(t,e){return"firestore_targets_"+t+"_"+e}var Lp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new $a(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Da("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Mp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new $a(r.error.code,r.error.message)),i?new t(e,r.state,o):(Da("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Up=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Sh(),s=0;i&&s<r.activeTargetIds.length;++s)i=Oc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Da("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Fp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Da("SharedClientState","Failed to parse online state: "+e),null)},t}(),qp=function(){function t(){this.activeTargetIds=Sh()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Hp=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.M=null,this.da=this.wa.bind(this),this.Ea=new hh(Ha),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Dp(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new qp),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(xa.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(xa.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Dp(this.persistenceKey,r)))&&(o=Up.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(u=this.pa(s))&&this.ba(u),a=0,c=this.Ta;a<c.length;a++)this.wa(c[a]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.Mo()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.Fa(t)},t.prototype.Oa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Vp(this.persistenceKey,t));if(n){var r=Mp.ca(t,n);r&&(e=r.state)}}return this.ka.ua(t),this.Va(),e},t.prototype.Ma=function(t){this.ka.ha(t),this.Va()},t.prototype.La=function(t){return this.ka.activeTargetIds.has(t)},t.prototype.$a=function(t){this.removeItem(Vp(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.Fa(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.Mo=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Pa("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Pa("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Pa("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Pa("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Da("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(xa.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(xa.d)(this,function(u){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=ec.q;if(null!=t)try{var n=JSON.parse(t);Ma("number"==typeof n),e=n}catch(t){Da("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ec.q&&this.M(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ka",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.ka.aa())},t.prototype.xa=function(t,e,n){var r=new Lp(this.currentUser,t,e,n),i=Rp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.Fa=function(t){var e=Rp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Vp(this.persistenceKey,t),i=new Mp(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Up.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Lp.ca(new Ya(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Mp.ca(r,e)},t.prototype.pa=function(t){return Fp.ca(t)},t.prototype.Ya=function(t){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Pa("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this._a.su(s,u).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=Sh();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),zp=function(){function t(){this.iu=new qp,this.ru={},this.fa=null,this.M=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Oa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.Ma=function(t){this.iu.ha(t)},t.prototype.La=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.$a=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new qp,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.Mo=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Bp=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.Mo=function(){},t}(),Gp=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.Mo=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Pa("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Pa("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Wp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},$p=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Qp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(xa.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var s=new Ta;s.listenOnce(Ia.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Ea.NO_ERROR:var e=s.getResponseJson();Pa("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Ea.TIMEOUT:Pa("Connection",'RPC "'+t+'" timed out'),o(new $a(Wa.DEADLINE_EXCEEDED,"Request time out"));break;case Ea.HTTP_ERROR:var n=s.getStatus();if(Pa("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Wa).indexOf(e)>=0?e:Wa.UNKNOWN}(r.status);o(new $a(u,r.message))}else o(new $a(Wa.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new $a(Wa.UNAVAILABLE,"Connection failed."));break;default:La()}}finally{Pa("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ma,i=_s(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(Ci.l)()||Object(Ci.n)()||Object(Ci.j)()||Object(Ci.k)()||Object(Ci.o)()||Object(Ci.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Pa("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new $p({fu:function(t){c?Pa("Connection","Not sending because WebChannel is closed:",t):(a||(Pa("Connection","Opening WebChannel transport."),u.open(),a=!0),Pa("Connection","WebChannel sending:",t),u.send(t))},du:function(){return u.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u,Sa.EventType.OPEN,function(){c||Pa("Connection","WebChannel transport opened.")}),h(u,Sa.EventType.CLOSE,function(){c||(c=!0,Pa("Connection","WebChannel transport closed"),l.Ru())}),h(u,Sa.EventType.ERROR,function(t){c||(c=!0,Ra("Connection","WebChannel transport errored:",t),l.Ru(new $a(Wa.UNAVAILABLE,"The operation could not be completed")))}),h(u,Sa.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Ma(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Pa("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=ih[t];if(void 0!==e)return lh(e)}(i),s=r.message;void 0===o&&(o=Wa.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new $a(o,s)),u.close()}else Pa("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,Ca.STAT_EVENT,function(t){10===t.stat?Pa("Connection","Detected buffering proxy"):11===t.stat&&Pa("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Pa("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return Pa("RestConnection","Received: ",t),t},function(e){throw Ra("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.6",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+Wp[t]},t}());function Yp(){return"undefined"!=typeof window?window:null}function Kp(){return"undefined"!=typeof document?document:null}function Xp(t){return new qh(t,!0)}var Zp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.Fu=i,this.Ou=0,this.ku=null,this.Mu=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ou=0},t.prototype.Lu=function(){this.Ou=this.Fu},t.prototype.$u=function(t){var e=this;this.cancel();var n=Math.floor(this.Ou+this.Bu()),r=Math.max(0,Date.now()-this.Mu),i=Math.max(0,n-r);i>0&&Pa("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ou+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ku=this.Zr.Tr(this.fs,i,function(){return e.Mu=Date.now(),t()}),this.Ou*=this.Nu,this.Ou<this.xu&&(this.Ou=this.xu),this.Ou>this.Fu&&(this.Ou=this.Fu)},t.prototype.qu=function(){null!==this.ku&&(this.ku.Rs(),this.ku=null)},t.prototype.cancel=function(){null!==this.ku&&(this.ku.cancel(),this.ku=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Ou},t}(),Jp=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new Zp(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Wa.RESOURCE_EXHAUSTED?(Da(e.toString()),Da("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Lu()):e&&e.code===Wa.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new $a(Wa.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.$u(function(){return Object(xa.b)(t,void 0,void 0,function(){return Object(xa.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return Pa("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(Pa("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),tg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(xa.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:La()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(Ma(void 0===e||"string"==typeof e),Ga.fromBase64String(e||"")):(Ma(void 0===e||e instanceof Uint8Array),Ga.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Wa.UNKNOWN:lh(t.code);return new $a(e,t.message||"")}(u);n=new Dh(r,i,o,s||null)}else if("documentChange"in e){i=Yh(t,(r=e.documentChange).document.name),o=Gh(r.document.updateTime);var u=new Vc({mapValue:{fields:r.document.fields}}),a=(s=new Fc(i,o,u,{}),r.targetIds||[]);n=new Nh(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Yh(t,(r=e.documentDelete).document),o=r.readTime?Gh(r.readTime):rc.min(),u=new qc(i,o),n=new Nh([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=Yh(t,(r=e.documentRemove).document),n=new Nh([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return La();var c=e.filter;i=new ah(r=c.count||0),n=new Ph(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return rc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?rc.min():e.readTime?Gh(e.readTime):rc.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=Zh(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=$c(r)?{documents:of(t,r)}:{query:sf(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=zh(t,e.resumeToken):e.kt._(rc.min())>0&&(n.readTime=Hh(t,e.kt.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return La()}}(0,e.Ot);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=Zh(this.Qt),e.removeTarget=t,this.th(e)},e}(Jp),eg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(xa.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(Ma(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(Ma(void 0!==e),t.map(function(t){return function(t,e){var n=Gh(t.updateTime?t.updateTime:e);n.isEqual(rc.min())&&(n=Gh(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new zl(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Gh(t.commitTime);return this.listener.dh(n,e)}return Ma(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=Zh(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return nf(e.Qt,t)})};this.th(n)},e}(Jp),ng=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(xa.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new $a(Wa.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===Wa.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===Wa.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),rg=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Da(e),this.Rh=!1):Pa("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),ig=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.Fh=[],this.Oh=i,this.Oh.ou(function(t){n.Ps(function(){return Object(xa.b)(o,void 0,void 0,function(){return Object(xa.d)(this,function(t){switch(t.label){case 0:return dg(this)?(Pa("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(xa.b)(this,void 0,void 0,function(){var e;return Object(xa.d)(this,function(n){switch(n.label){case 0:return(e=Ua(t)).Nh.add(4),[4,sg(e)];case 1:return n.sent(),e.kh.set("Unknown"),e.Nh.delete(4),[4,og(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.kh=new rg(n,r)};function og(t){return Object(xa.b)(this,void 0,void 0,function(){var e,n;return Object(xa.d)(this,function(r){switch(r.label){case 0:if(!dg(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function sg(t){return Object(xa.b)(this,void 0,void 0,function(){var e,n;return Object(xa.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ug(t,e){var n=Ua(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),fg(n)?hg(n):xg(n).Hu()&&cg(n,e))}function ag(t,e){var n=Ua(t),r=xg(n);n.xh.delete(e),r.Hu()&&lg(n,e),0===n.xh.size&&(r.Hu()?r.Xu():dg(n)&&n.kh.set("Unknown"))}function cg(t,e){t.Mh.on(e.targetId),xg(t).uh(e)}function lg(t,e){t.Mh.on(e),xg(t).hh(e)}function hg(t){t.Mh=new Vh({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),xg(t).start(),t.kh.Ph()}function fg(t){return dg(t)&&!xg(t).zu()&&t.xh.size>0}function dg(t){return 0===Ua(t).Nh.size}function pg(t){t.Mh=void 0}function gg(t){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(e){return t.xh.forEach(function(e,n){cg(t,e)}),[2]})})}function yg(t,e){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(n){return pg(t),fg(t)?(t.kh.Vh(e),hg(t)):t.kh.set("Unknown"),[2]})})}function vg(t,e,n){return Object(xa.b)(this,void 0,void 0,function(){var r,i,o;return Object(xa.d)(this,function(s){switch(s.label){case 0:if(t.kh.set("Online"),!(e instanceof Dh&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(xa.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Lh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.Mh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Pa("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,mg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Nh?t.Mh.dn(e):e instanceof Ph?t.Mh.Pn(e):t.Mh.Tn(e),n.isEqual(rc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,fp(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.Mh.Vn(e);return n.Fe.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Lt(n.resumeToken,e))}}),n.Oe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Lt(Ga.T,n.kt)),lg(t,e);var r=new Sl(n.target,e,1,n.sequenceNumber);cg(t,r)}}),t.Dh.$h(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Pa("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,mg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function mg(t,e,n){return Object(xa.b)(this,void 0,void 0,function(){var r=this;return Object(xa.d)(this,function(i){switch(i.label){case 0:if(!Cf(e))throw e;return t.Nh.add(1),[4,sg(t)];case 1:return i.sent(),t.kh.set("Offline"),n||(n=function(){return fp(t.bh)}),t._s.po(function(){return Object(xa.b)(r,void 0,void 0,function(){return Object(xa.d)(this,function(e){switch(e.label){case 0:return Pa("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,og(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function bg(t,e){return e().catch(function(n){return mg(t,n,e)})}function wg(t){return Object(xa.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(xa.d)(this,function(s){switch(s.label){case 0:e=Ua(t),n=jg(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return dg(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,gp(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=jg(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,mg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return _g(e)&&Og(e),[2]}})})}function _g(t){return dg(t)&&!jg(t).zu()&&t.Ch.length>0}function Og(t){jg(t).start()}function Eg(t){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(e){return jg(t).Eh(),[2]})})}function Ig(t){return Object(xa.b)(this,void 0,void 0,function(){var e,n,r;return Object(xa.d)(this,function(i){for(e=jg(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function Cg(t,e,n){return Object(xa.b)(this,void 0,void 0,function(){var r,i;return Object(xa.d)(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=id.from(r,e,n),[4,bg(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,wg(t)];case 2:return o.sent(),[2]}})})}function Sg(t,e){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(n){switch(n.label){case 0:return e&&jg(t)._h?[4,function(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r;return Object(xa.d)(this,function(i){switch(i.label){case 0:return ch(r=e.code)&&r!==Wa.ABORTED?(n=t.Ch.shift(),jg(t).Yu(),[4,bg(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,wg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return _g(t)&&Og(t),[2]}})})}function Tg(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n;return Object(xa.d)(this,function(r){switch(r.label){case 0:return n=Ua(t),e?(n.Nh.delete(2),[4,og(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,sg(n)]);case 3:r.sent(),n.kh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function xg(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=Ua(t);return r.Ih(),new tg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:gg.bind(null,t),Tu:yg.bind(null,t),ah:vg.bind(null,t)}),t.Fh.push(function(n){return Object(xa.b)(e,void 0,void 0,function(){return Object(xa.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),fg(t)?hg(t):t.kh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),pg(t),e.label=3;case 3:return[2]}})})})),t.Uh}function jg(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Ua(t);return r.Ih(),new eg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Eg.bind(null,t),Tu:Sg.bind(null,t),wh:Ig.bind(null,t),dh:Cg.bind(null,t)}),t.Fh.push(function(n){return Object(xa.b)(e,void 0,void 0,function(){return Object(xa.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,wg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Pa("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var Ag=function(){this.Kh=void 0,this.listeners=[]},kg=function(){this.queries=new Sd(function(t){return _l(t)},wl),this.onlineState="Unknown",this.Wh=new Set};function Ng(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(xa.d)(this,function(c){switch(c.label){case 0:if(n=Ua(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Ag),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return u=c.sent(),a=kf(u,"Initialization of query '"+Ol(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Vg(n),[2]}})})}function Pg(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(xa.d)(this,function(u){return n=Ua(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function Dg(t,e){for(var n=Ua(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].zh(s)&&(r=!0);u.Kh=s}}r&&Vg(n)}function Rg(t,e,n){var r=Ua(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Vg(t){t.Wh.forEach(function(t){t.next()})}var Lg=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new jh(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=jh.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),Mg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),Ug=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return Yh(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?ef(this.Qt,t.document,!1):new qc(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return Gh(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new Ug(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||Ih()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(xa.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(xa.d)(this,function(o){switch(o.label){case 0:return[4,Op(this.bh,new Ug(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Ep(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ip(Object.assign({},this.progress),t))]}})})}}();var Fg=function(t){this.key=t},qg=function(t){this.key=t},Hg=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=Ih(),this.De=Ih(),this.hl=Il(t),this.ll=new Th(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new xh,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,u=!1,a=fl(this.query)&&i.size===this.query.limit?i.last():null,c=dl(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof Fc?e:null;h&&(h=El(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.hl(h,a)>0||c&&n.hl(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),fl(this.query)||dl(this.query))for(;s.size>this.query.limit;){var l=fl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:u,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return La()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var s=e?this.Tl():[],u=0===this.ul.size&&this.Be?1:0,a=u!==this.al;return this.al=u,0!==o.length||a?{snapshot:new jh(this.query,t.ll,i,o,t.De,0===u,a,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new xh,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=Ih(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new qg(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new Fg(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=Ih();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return jh.Ne(this.query,this.ll,this.De,0===this.al)},t}(),zg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Bg=function(t){this.key=t,this.Pl=!1},Gg=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new Sd(function(t){return _l(t)},wl),this.Sl=new Map,this.Dl=[],this.Cl=new hh(ac.H),this.xl=new Map,this.Nl=new Cp,this.Fl={},this.Ol=new Map,this.kl=Rd.$i(),this.onlineState="Unknown",this.Ml=void 0}return Object.defineProperty(t.prototype,"Ll",{get:function(){return!0===this.Ml},enumerable:!1,configurable:!0}),t}();function Wg(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(xa.d)(this,function(u){switch(u.label){case 0:return n=_y(t),(i=n.vl.get(e))?(n.Vl.Oa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,yp(n.bh,ml(e))];case 2:return o=u.sent(),s=n.Vl.Oa(o.targetId),[4,$g(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.Ll&&ug(n.yl,o),u.label=4;case 4:return[2,r]}})})}function $g(t,e,n,r){return Object(xa.b)(this,void 0,void 0,function(){var i,o,s,u,a,c;return Object(xa.d)(this,function(l){switch(l.label){case 0:return t.$l=function(e,n,r){return function(t,e,n,r){return Object(xa.b)(this,void 0,void 0,function(){var i,o,s;return Object(xa.d)(this,function(u){switch(u.label){case 0:return(i=e.view.fl(n)).lc?[4,mp(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.Fe.get(e.targetId),s=e.view.wi(i,t.Ll,o),[2,(sy(t,e.targetId,s.Il),s.snapshot)]}})})}(t,e,n,r)},[4,mp(t.bh,e,!0)];case 1:return i=l.sent(),o=new Hg(e,i.Rc),s=o.fl(i.documents),u=kh.$e(n,r&&"Offline"!==t.onlineState),a=o.wi(s,t.Ll,u),sy(t,n,a.Il),c=new zg(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),a.snapshot)]}})})}function Qg(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i;return Object(xa.d)(this,function(o){switch(o.label){case 0:return n=Ua(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!wl(t,e)})),void n.vl.delete(e))]:n.Ll?(n.Vl.Ma(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,vp(n.bh,r.targetId,!1).then(function(){n.Vl.$a(r.targetId),ag(n.yl,r.targetId),iy(n,r.targetId)}).catch(Cd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return iy(n,r.targetId),[4,vp(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Yg(t,e,n){return Object(xa.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(xa.d)(this,function(u){switch(u.label){case 0:r=Oy(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=Ua(t),i=nc.now(),o=e.reduce(function(t,e){return t.add(e.key)},Ih());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=Yl(c,n.get(c.key));null!=l&&s.push(new Jl(c.key,l,Mc(l.proto.mapValue),Bl.exists(!0)))}return r.zo.Ri(t,i,s,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=u.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.A()];r||(r=new hh(Ha)),r=r.zt(e,n),t.Fl[t.currentUser.A()]=r}(r,i.batchId,n),[4,cy(r,i.ri)];case 3:return u.sent(),[4,wg(r.yl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=kf(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Kg(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r;return Object(xa.d)(this,function(i){switch(i.label){case 0:n=Ua(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,dp(n.bh,e)];case 2:return r=i.sent(),e.Fe.forEach(function(t,e){var r=n.xl.get(e);r&&(Ma(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?Ma(r.Pl):t.Qe.size>0&&(Ma(r.Pl),r.Pl=!1))}),[4,cy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Cd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Xg(t,e,n){var r=Ua(t);if(r.Ll&&0===n||!r.Ll&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Ua(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&Vg(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ll&&r.Vl.Qa(e)}}function Zg(t,e,n){return Object(xa.b)(this,void 0,void 0,function(){var r,i,o,s,u,a;return Object(xa.d)(this,function(c){switch(c.label){case 0:return(r=Ua(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new hh(ac.H)).zt(o,new qc(o,rc.min())),u=Ih().add(o),a=new Ah(rc.min(),new Map,new ph(Ha),s,u),[4,Kg(r,a)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),ay(r),[3,4];case 2:return[4,vp(r.bh,e,!1).then(function(){return iy(r,e,n)}).catch(Cd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Jg(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i;return Object(xa.d)(this,function(o){switch(o.label){case 0:n=Ua(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,hp(n.bh,e)];case 2:return i=o.sent(),ry(n,r,null),ny(n,r),n.Vl.Na(r,"acknowledged"),[4,cy(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Cd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ty(t,e,n){return Object(xa.b)(this,void 0,void 0,function(){var r,i;return Object(xa.d)(this,function(o){switch(o.label){case 0:r=Ua(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Ua(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return Ma(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.Fi(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),ry(r,e,n),ny(r,e),r.Vl.Na(e,"rejected",n),[4,cy(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Cd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function ey(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(xa.d)(this,function(u){switch(u.label){case 0:dg((n=Ua(t)).yl)||Pa("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=Ua(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.Ol.get(r)||[]).push(e),n.Ol.set(r,i),[3,4]);case 3:return o=u.sent(),s=kf(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function ny(t,e){(t.Ol.get(e)||[]).forEach(function(t){t.resolve()}),t.Ol.delete(e)}function ry(t,e,n){var r=Ua(t),i=r.Fl[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.A()]=i}}function iy(t,e,n){void 0===n&&(n=null),t.Vl.Ma(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ll&&t.Nl.Oc(e).forEach(function(e){t.Nl.Oi(e)||oy(t,e)})}function oy(t,e){var n=t.Cl.get(e);null!==n&&(ag(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),ay(t))}function sy(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Fg?(t.Nl.nr(o.key,e),uy(t,o)):o instanceof qg?(Pa("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Oi(o.key)||oy(t,o.key)):La()}}function uy(t,e){var n=e.key;t.Cl.get(n)||(Pa("SyncEngine","New document in limbo: "+n),t.Dl.push(n),ay(t))}function ay(t){for(;t.Dl.length>0&&t.Cl.size<t.pl;){var e=t.Dl.shift(),n=t.kl.next();t.xl.set(n,new Bg(e)),t.Cl=t.Cl.zt(e,n),ug(t.yl,new Sl(ml(hl(e.path)),n,2,ec.q))}}function cy(t,e,n){return Object(xa.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(xa.d)(this,function(u){switch(u.label){case 0:return r=Ua(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,u){s.push(r.$l(u,e,n).then(function(t){if(t){r.Ll&&r.Vl.Ba(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=sp.oc(u.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.bl.ah(i),[4,function(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c;return Object(xa.d)(this,function(l){switch(l.label){case 0:n=Ua(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return wf.forEach(e,function(e){return wf.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return wf.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Cf(r=l.sent()))throw r;return Pa("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.fc.get(u),c=a.$t(a.kt),n.fc=n.fc.zt(u,c));return[2]}})})}(r.bh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function ly(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r;return Object(xa.d)(this,function(i){switch(i.label){case 0:return(n=Ua(t)).currentUser.isEqual(e)?[3,3]:(Pa("SyncEngine","User change. New user:",e.A()),[4,lp(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Ol.forEach(function(t){t.forEach(function(t){t.reject(new $a(Wa.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Ol.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,cy(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function hy(t,e){var n=Ua(t),r=n.xl.get(e);if(r&&r.Pl)return Ih().add(r.key);var i=Ih(),o=n.Sl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.vl.get(u[s]);i=i.Pe(a.view._l)}return i}function fy(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i;return Object(xa.d)(this,function(o){switch(o.label){case 0:return[4,mp((n=Ua(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ll&&sy(n,e.targetId,i.Il),i)]}})})}function dy(t){return Object(xa.b)(this,void 0,void 0,function(){var e;return Object(xa.d)(this,function(n){return[2,wp((e=Ua(t)).bh).then(function(t){return cy(e,t)})]})})}function py(t,e,n,r){return Object(xa.b)(this,void 0,void 0,function(){var i,o;return Object(xa.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Ua(t),r=Ua(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):wf.resolve(null)})})}((i=Ua(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,wg(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ry(i,e,r||null),ny(i,e),function(t,e){Ua(Ua(t).zo).xi(e)}(i.bh,e)):La(),s.label=4;case 4:return[4,cy(i,o)];case 5:return s.sent(),[3,7];case 6:Pa("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function gy(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(xa.d)(this,function(c){switch(c.label){case 0:return _y(n=Ua(t)),Oy(n),!0!==e||!0===n.Ml?[3,3]:(r=n.Vl.va(),[4,yy(n,r.it())]);case 1:return i=c.sent(),n.Ml=!0,[4,Tg(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)ug(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ml?[3,7]:(u=[],a=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.La(e)?u.push(e):a=a.then(function(){return iy(n,e),vp(n.bh,e,!0)}),ag(n.yl,e)}),[4,a]);case 4:return c.sent(),[4,yy(n,u)];case 5:return c.sent(),function(t){var e=Ua(t);e.xl.forEach(function(t,n){ag(e.yl,n)}),e.Nl.kc(),e.xl=new Map,e.Cl=new hh(ac.H)}(n),n.Ml=!1,[4,Tg(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function yy(t,e,n){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c,l,h,f,d,p;return Object(xa.d)(this,function(g){switch(g.label){case 0:n=Ua(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=void 0,(c=n.Sl.get(u=s[o]))&&0!==c.length?[4,yp(n.bh,ml(c[0]))]:[3,7]):[3,13];case 2:a=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,fy(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,bp(n.bh,u)];case 8:return p=g.sent(),[4,yp(n.bh,p)];case 9:return a=g.sent(),[4,$g(n,vy(p),u,!1)];case 10:g.sent(),g.label=11;case 11:r.push(a),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function vy(t){return ll(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function my(t){var e=Ua(t);return Ua(Ua(e.bh).persistence).Uo()}function by(t,e,n,r){return Object(xa.b)(this,void 0,void 0,function(){var i,o,s;return Object(xa.d)(this,function(u){switch(u.label){case 0:return(i=Ua(t)).Ml?(Pa("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,wp(i.bh)];case 3:return o=u.sent(),s=Ah.Le(e,"current"===n),[4,cy(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,vp(i.bh,e,!0)];case 6:return u.sent(),iy(i,e,r),[3,8];case 7:La(),u.label=8;case 8:return[2]}})})}function wy(t,e,n){return Object(xa.b)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,h;return Object(xa.d)(this,function(f){switch(f.label){case 0:if(!(r=_y(t)).Ml)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(Pa("SyncEngine","Adding an already active target "+s),[3,5]):[4,bp(r.bh,s)]:[3,6];case 2:return u=f.sent(),[4,yp(r.bh,u)];case 3:return a=f.sent(),[4,$g(r,vy(u),a.targetId,!1)];case 4:f.sent(),ug(r.yl,a),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(xa.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,vp(r.bh,t,!1).then(function(){ag(r.yl,t),iy(r,t)}).catch(Cd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function _y(t){var e=Ua(t);return e.yl.Dh.$h=Kg.bind(null,e),e.yl.Dh.vn=hy.bind(null,e),e.yl.Dh.Lh=Zg.bind(null,e),e.bl.ah=Dg.bind(null,e.gl),e.bl.Bl=Rg.bind(null,e.gl),e}function Oy(t){var e=Ua(t);return e.yl.Dh.Bh=Jg.bind(null,e),e.yl.Dh.qh=ty.bind(null,e),e}var Ey=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(e){switch(e.label){case 0:return this.Qt=Xp(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return cp(this.persistence,new up,t.Jl,this.Qt)},t.prototype.jl=function(t){return new kp(Pp.ia,this.Qt)},t.prototype.Wl=function(t){return new zp},t.prototype.terminate=function(){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.Mo()];case 1:return t.sent(),[4,this.persistence.Mo()];case 2:return t.sent(),[2]}})})},t}(),Iy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(xa.c)(e,t),e.prototype.initialize=function(e){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,_p(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,Oy(this.Yl._a)];case 4:return n.sent(),[4,wg(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return cp(this.persistence,new up,t.Jl,this.Qt)},e.prototype.zl=function(t){return new Hd(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=rp(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?Id.Ys(this.cacheSizeBytes):Id.ti;return new tp(this.synchronizeTabs,e,t.clientId,n,t._s,Yp(),Kp(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new zp},e}(Ey),Cy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(xa.c)(e,t),e.prototype.initialize=function(e){return Object(xa.b)(this,void 0,void 0,function(){var n,r=this;return Object(xa.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof Hp?(this.Vl._a={eu:py.bind(null,n),nu:by.bind(null,n),su:wy.bind(null,n),Uo:my.bind(null,n),tu:dy.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(xa.b)(r,void 0,void 0,function(){return Object(xa.d)(this,function(e){switch(e.label){case 0:return[4,gy(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=Yp();if(!Hp.Kn(e))throw new $a(Wa.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=rp(t.yu.t,t.yu.persistenceKey);return new Hp(e,t._s,n,t.clientId,t.Jl)},e}(Iy),Sy=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n=this;return Object(xa.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Xg(n._a,t,1)},this.yl.Dh.n_=ly.bind(null,this._a),[4,Tg(this.yl,this._a.Ll)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new kg},t.prototype.Xl=function(t){var e=Xp(t.yu.t),n=new Qp(t.yu);return function(t,e,n){return new ng(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Xg(s._a,t,0)},o=Gp.Kn()?new Gp:new Bp,new ig(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var u=new Gg(t,e,n,r,i,o);return s&&(u.Ml=!0),u}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(xa.b)(this,void 0,void 0,function(){var e;return Object(xa.d)(this,function(n){switch(n.label){case 0:return e=Ua(t),Pa("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,sg(e)];case 1:return n.sent(),e.Oh.Mo(),e.kh.set("Unknown"),[2]}})})}(this.yl)},t}(),Ty=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),xy=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new bf,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(xa.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(xa.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new Mg(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(xa.b)(this,void 0,void 0,function(){var t,e;return Object(xa.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(xa.b)(this,void 0,void 0,function(){var e;return Object(xa.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(xa.b)(this,void 0,void 0,function(){var t,e;return Object(xa.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new $a(Wa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new uc(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),jy=function(t){this._methodName=t},Ay=function(t){this.d_=t};function ky(t,e,n){if(!n)throw new $a(Wa.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Ny(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $a(Wa.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Py(t,e,n,r){if(!0===e&&!0===r)throw new $a(Wa.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Dy(t){if(!ac.wt(t))throw new $a(Wa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ry(t){if(ac.wt(t))throw new $a(Wa.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Vy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":La()}function Ly(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new $a(Wa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Vy(t);throw new $a(Wa.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function My(t,e){if(e<=0)throw new $a(Wa.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Uy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new $a(Wa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $a(Wa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Py("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Fy=new Map,qy=function(){function t(t,e){this.w_="(lite)",this.E_=new Uy({}),this.T_=!1,t instanceof Aa?(this.I_=t,this.m_=new Xa):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $a(Wa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Aa(t.options.projectId)}(t),this.m_=new Za(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new $a(Wa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new $a(Wa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Uy(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Xa;switch(t.type){case"gapi":var e=t.client;return Ma(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new tc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new $a(Wa.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Fy.get(this))&&(Pa("ComponentProvider","Removing Datastore"),Fy.delete(this),t.terminate()),Promise.resolve();var t},t}(),Hy=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new By(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),zy=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),By=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,hl(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(xa.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new Hy(this.firestore,null,new ac(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(zy);function Gy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ay&&(t=t.d_),ky("collection","path",e),t instanceof qy)return Ry(n=oc.ot.apply(oc,Object(xa.g)([e],r))),new By(t,null,n);if(!(t instanceof Hy||t instanceof By))throw new $a(Wa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ry(n=oc.ot.apply(oc,Object(xa.g)([t.path],r)).child(oc.ot(e))),new By(t.firestore,null,n)}function Wy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ay&&(t=t.d_),1===arguments.length&&(e=qa.u()),ky("doc","path",e),t instanceof qy)return Dy(n=oc.ot.apply(oc,Object(xa.g)([e],r))),new Hy(t,null,new ac(n));if(!(t instanceof Hy||t instanceof By))throw new $a(Wa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dy(n=t.D_.child(oc.ot.apply(oc,Object(xa.g)([e],r)))),new Hy(t.firestore,t instanceof By?t.v_:null,new ac(n))}function $y(t,e){return t instanceof Ay&&(t=t.d_),e instanceof Ay&&(e=e.d_),(t instanceof Hy||t instanceof By)&&(e instanceof Hy||e instanceof By)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Qy(t,e){return t instanceof Ay&&(t=t.d_),e instanceof Ay&&(e=e.d_),t instanceof zy&&e instanceof zy&&t.firestore===e.firestore&&wl(t.C_,e.C_)&&t.v_===e.v_}var Yy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new $a(Wa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new $a(Wa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Ha(this.x_,t.x_)||Ha(this.N_,t.N_)},t}(),Ky=/^__.*__$/,Xy=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new Jl(t,this.data,this.Gt,e,this.fieldTransforms):new Zl(t,this.data,e,this.fieldTransforms)},t}(),Zy=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Jl(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function Jy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw La()}}var tv=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return wv(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Jy(this.k_)&&Ky.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),ev=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Xp(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new tv({k_:t,methodName:e,j_:n,path:uc.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function nv(t){var e=t.p_(),n=Xp(t.I_);return new ev(t.I_,!!e.ignoreUndefinedProperties,n)}function rv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);yv("Data must be an object, but it was:",s,r);var u,a,c=pv(r,s);if(o.merge)u=new fc(s.Gt),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=vv(e,f[h],n);if(!s.contains(d))throw new $a(Wa.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");_v(l,d)||l.push(d)}u=new fc(l),a=s.fieldTransforms.filter(function(t){return u.Tt(t.field)})}else u=null,a=s.fieldTransforms;return new Xy(new Vc(c),u,a)}var iv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xa.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(jy);function ov(t,e,n){return new tv({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var sv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xa.c)(e,t),e.prototype.z_=function(t){return new Hl(t.path,new Dl)},e.prototype.isEqual=function(t){return t instanceof e},e}(jy),uv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(xa.c)(e,t),e.prototype.z_=function(t){var e=ov(this,t,!0),n=this.H_.map(function(t){return dv(t,e)}),r=new Rl(n);return new Hl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(jy),av=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(xa.c)(e,t),e.prototype.z_=function(t){var e=ov(this,t,!0),n=this.H_.map(function(t){return dv(t,e)}),r=new Ll(n);return new Hl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(jy),cv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(xa.c)(e,t),e.prototype.z_=function(t){var e=new Ul(t.Qt,jl(t.Qt,this.J_));return new Hl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(jy);function lv(t,e,n,r){var i=t.G_(1,e,n);yv("Data must be an object, but it was:",i,r);var o=[],s=new Lc;lc(r,function(t,r){var u=bv(e,t,n);r instanceof Ay&&(r=r.d_);var a=i.U_(u);if(r instanceof iv)o.push(u);else{var c=dv(r,a);null!=c&&(o.push(u),s.set(u,c))}});var u=new fc(o);return new Zy(s.Pt(),u,i.fieldTransforms)}function hv(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[vv(e,r,n)],a=[i];if(o.length%2!=0)throw new $a(Wa.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(vv(e,o[c])),a.push(o[c+1]);for(var l=[],h=new Lc,f=u.length-1;f>=0;--f)if(!_v(l,u[f])){var d=u[f],p=a[f];p instanceof Ay&&(p=p.d_);var g=s.U_(d);if(p instanceof iv)l.push(d);else{var y=dv(p,g);null!=y&&(l.push(d),h.set(d,y))}}var v=new fc(l);return new Zy(h.Pt(),v,s.fieldTransforms)}function fv(t,e,n,r){return void 0===r&&(r=!1),dv(n,t.G_(r?4:3,e))}function dv(t,e){if(t instanceof Ay&&(t=t.d_),gv(t))return yv("Unsupported field value:",e,t),pv(t,e);if(t instanceof jy)return function(t,e){if(!Jy(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=dv(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Ay&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jl(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=nc.fromDate(t);return{timestampValue:Hh(e.Qt,n)}}if(t instanceof nc)return n=new nc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Hh(e.Qt,n)};if(t instanceof Yy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qa)return{bytesValue:zh(e.Qt,t.I)};if(t instanceof Hy){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Wh(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+Vy(t))}(t,e)}function pv(t,e){var n={};return hc(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):lc(t,function(t,r){var i=dv(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function gv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof nc||t instanceof Yy||t instanceof Qa||t instanceof Hy||t instanceof jy)}function yv(t,e,n){if(!gv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Vy(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function vv(t,e,n){if(e instanceof Ay&&(e=e.d_),e instanceof xy)return e.f_;if("string"==typeof e)return bv(t,e);throw wv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var mv=new RegExp("[~\\*/\\[\\]]");function bv(t,e,n){if(e.search(mv)>=0)throw wv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(xy.bind.apply(xy,Object(xa.g)([void 0],e.split("."))))).f_}catch(r){throw wv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function wv(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new $a(Wa.INVALID_ARGUMENT,(u+=". ")+t+a)}function _v(t,e){return t.some(function(t){return t.isEqual(e)})}var Ov=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(xa.b)(this,void 0,void 0,function(){var e,n=this;return Object(xa.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new $a(Wa.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(xa.d)(this,function(a){switch(a.label){case 0:return n=Ua(t),r=Zh(n.Qt)+"/documents",i={documents:e.map(function(t){return Qh(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Ma(!!e.found);var n=Yh(t,e.found.name),r=Gh(e.found.updateTime),i=new Vc({mapValue:{fields:e.found.fields}});return new Fc(n,r,i,{})}(t,e):"missing"in e?function(t,e){Ma(!!e.missing),Ma(!!e.readTime);var n=Yh(t,e.missing),r=Gh(e.readTime);return new qc(n,r)}(t,e):La()}(n.Qt,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Ma(!!e),u.push(e)}),u)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof qc||t instanceof Fc?n.sf(t):La()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new sh(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(xa.b)(this,void 0,void 0,function(){var t,e=this;return Object(xa.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ac._t(n);e.mutations.push(new uh(r,e.jt(r)))}),[4,function(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i;return Object(xa.d)(this,function(o){switch(o.label){case 0:return n=Ua(t),r=Zh(n.Qt)+"/documents",i={writes:e.map(function(t){return nf(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Fc)e=t.version;else{if(!(t instanceof qc))throw La();e=rc.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new $a(Wa.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Bl.updateTime(e):Bl.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(rc.min()))throw new $a(Wa.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bl.updateTime(e)}return Bl.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Ev=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new Zp(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.$u(function(){return Object(xa.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(xa.d)(this,function(r){return t=new Ov(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!wc(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ch(e)}return!1},t}(),Iv=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=Ya.UNAUTHENTICATED,this.clientId=qa.u(),this._f=function(){},this.C=new bf,this.credentials.v(function(t){Pa("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new $a(Wa.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new bf;return this._s.Tf(function(){return Object(xa.b)(t,void 0,void 0,function(){var t,n;return Object(xa.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=kf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Cv(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(xa.d)(this,function(o){switch(o.label){case 0:return t._s.Af(),Pa("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(xa.b)(i,void 0,void 0,function(){return Object(xa.d)(this,function(t){switch(t.label){case 0:return[4,lp(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function Sv(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r;return Object(xa.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,Tv(t)];case 1:return n=i.sent(),Pa("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(xa.b)(this,void 0,void 0,function(){var n,r;return Object(xa.d)(this,function(i){switch(i.label){case 0:return(n=Ua(t))._s.Af(),Pa("RemoteStore","RemoteStore received new credentials"),r=dg(n),n.Nh.add(3),[4,sg(n)];case 1:return i.sent(),r&&n.kh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,og(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function Tv(t){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Pa("FirestoreClient","Using default OfflineComponentProvider"),[4,Cv(t,new Ey)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function xv(t){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Pa("FirestoreClient","Using default OnlineComponentProvider"),[4,Sv(t,new Sy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function jv(t){return Tv(t).then(function(t){return t.persistence})}function Av(t){return Tv(t).then(function(t){return t.bh})}function kv(t){return xv(t).then(function(t){return t.yl})}function Nv(t){return xv(t).then(function(t){return t._a})}function Pv(t){return Object(xa.b)(this,void 0,void 0,function(){var e,n;return Object(xa.d)(this,function(r){switch(r.label){case 0:return[4,xv(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Wg.bind(null,e._a),n.Hh=Qg.bind(null,e._a),n)]}})})}function Dv(t,e,n){var r=this;void 0===n&&(n={});var i=new bf;return t._s.Ps(function(){return Object(xa.b)(r,void 0,void 0,function(){var r;return Object(xa.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ty({next:function(o){e.Ps(function(){return Pg(t,s)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new $a(Wa.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new $a(Wa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Lg(hl(n.path),o,{includeMetadataChanges:!0,nl:!0});return Ng(t,s)},[4,Pv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function Rv(t,e,n){var r=this;void 0===n&&(n={});var i=new bf;return t._s.Ps(function(){return Object(xa.b)(r,void 0,void 0,function(){var r;return Object(xa.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Ty({next:function(n){e.Ps(function(){return Pg(t,s)}),n.fromCache&&"server"===r.source?i.reject(new $a(Wa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Lg(n,o,{includeMetadataChanges:!0,nl:!0});return Ng(t,s)},[4,Pv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var Vv=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new Zp(this,"async_queue_retry"),this.vf=function(){var e=Kp();e&&Pa("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Kp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Kp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(xa.b)(this,void 0,void 0,function(){var t,e=this;return Object(xa.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Cf(t=n.sent()))throw t;return Pa("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.$u(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Da("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Af.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&La()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(xa.b)(this,void 0,void 0,function(){var t;return Object(xa.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function Lv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.Mf={},this.Lf=new bf,this.$f={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Mf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Lf.promise.catch(t)},t.prototype.then=function(t,e){return this.Lf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.Mf.complete&&this.Mf.complete(),this.Lf.resolve(t)},t.prototype.Kl=function(t){this.$f.taskState="Error",this.Mf.next&&this.Mf.next(this.$f),this.Mf.error&&this.Mf.error(t),this.Lf.reject(t)},t.prototype.Ul=function(t){this.$f=t,this.Mf.next&&this.Mf.next(t)}}();var Mv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Vv,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(xa.c)(e,t),e.prototype.b_=function(){return this.qf||Fv(this),this.qf.terminate()},e}(qy);function Uv(t){return t.qf||Fv(t),t.qf.df(),t.qf}function Fv(t){var e=t.p_(),n=function(t,e,n){return new ja(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new Iv(t.m_,t.Bf,n)}function qv(t,e,n){var r=this,i=new bf;return t._s.enqueue(function(){return Object(xa.b)(r,void 0,void 0,function(){var r;return Object(xa.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Cv(t,n)];case 1:return o.sent(),[4,Sv(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Wa.FAILED_PRECONDITION||t.code===Wa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Hv(t){if(t.R_||t.P_)throw new $a(Wa.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var zv=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),Ec(t)){case 0:return null;case 1:return t.booleanValue;case 2:return gc(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(yc(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw La()}},t.prototype.Hf=function(t,e){var n=this,r={};return lc(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new Yy(gc(t.latitude),gc(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=mc(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(bc(t));default:return null}},t.prototype.Qf=function(t){var e=pc(t);return new nc(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=oc.ot(t);Ma(mf(n));var r=new Aa(n.get(1),n.get(3)),i=new ac(n.Y(5));return r.isEqual(e)||Da("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Bv=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Hy(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Gv(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Wv("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Gv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xa.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Bv);function Wv(t,e){return"string"==typeof e?bv(t,e):e instanceof Ay?e.d_.f_:e.f_}function $v(t){if(dl(t)&&0===t.xt.length)throw new $a(Wa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qv=function(){};function Yv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var Kv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(xa.c)(e,t),e.prototype.td=function(t){var e=nv(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new $a(Wa.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){rm(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(nm(r,t,l[c]));u={arrayValue:{values:a}}}else u=nm(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||rm(s,o),u=fv(n,"where",s,"in"===o||"not-in"===o);var h=Qc.create(i,o,u);return function(t,e){if(e.Ct()){var n=gl(t);if(null!==n&&!n.isEqual(e.field))throw new $a(Wa.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=pl(t);null!==r&&im(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new $a(Wa.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new zy(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Qv),Xv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(xa.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new $a(Wa.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new $a(Wa.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ol(e,n);return function(t,e){if(null===pl(t)){var n=gl(t);null!==n&&im(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new zy(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new cl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Qv),Zv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(xa.c)(e,t),e.prototype.td=function(t){return new zy(t.firestore,t.v_,bl(t.C_,this.od,this.ad))},e}(Qv),Jv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(xa.c)(e,t),e.prototype.td=function(t){var e=em(t,this.type,this.ud,this.hd);return new zy(t.firestore,t.v_,function(t,e){return new cl(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Qv),tm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(xa.c)(e,t),e.prototype.td=function(t){var e=em(t,this.type,this.ud,this.hd);return new zy(t.firestore,t.v_,function(t,e){return new cl(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Qv);function em(t,e,n,r){if(n[0]instanceof Ay&&(n[0]=n[0].d_),n[0]instanceof Bv)return function(t,e,n,r,i){if(!r)throw new $a(Wa.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=vl(t);s<u.length;s++){var a=u[s];if(a.field.ut())o.push(Ac(e,r.key));else{var c=r.field(a.field);if(vc(c))throw new $a(Wa.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.rt();throw new $a(Wa.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new rl(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=nv(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new $a(Wa.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ut()){if("string"!=typeof c)throw new $a(Wa.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!yl(t)&&-1!==c.indexOf("/"))throw new $a(Wa.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(oc.ot(c));if(!ac.wt(l))throw new $a(Wa.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ac(l);u.push(Ac(e,h))}else{var f=fv(n,r,c);u.push(f)}}return new rl(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function nm(t,e,n){if(n instanceof Ay&&(n=n.d_),"string"==typeof n){if(""===n)throw new $a(Wa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!yl(e)&&-1!==n.indexOf("/"))throw new $a(Wa.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(oc.ot(n));if(!ac.wt(r))throw new $a(Wa.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ac(t,new ac(r))}if(n instanceof Hy)return Ac(t,n.S_);throw new $a(Wa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Vy(n)+".")}function rm(t,e){if(!Array.isArray(t)||0===t.length)throw new $a(Wa.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new $a(Wa.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function im(t,e,n){if(!n.isEqual(e))throw new $a(Wa.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function om(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var sm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(xa.c)(e,t),e.prototype.Wf=function(t){return new Qa(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Hy(this.firestore,null,e)},e}(zv),um=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),am=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).Yf=e,u.ld=e,u.metadata=o,u}return Object(xa.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new cm(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Wv("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Bv),cm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xa.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(am),lm=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new um(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new cm(n.Yf,n.Xf,r.key,r,new um(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new $a(Wa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new cm(t.Yf,t.Xf,e.doc.key,e.doc,new um(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new cm(t.Yf,t.Xf,e.doc.key,e.doc,new um(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:hm(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function hm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return La()}}function fm(t,e){return t instanceof am&&e instanceof am?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof lm&&e instanceof lm&&t.Yf===e.Yf&&Qy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var dm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(xa.c)(e,t),e.prototype.Wf=function(t){return new Qa(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Hy(this.firestore,null,e)},e}(zv);function pm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ly(t,Hy);var o=Ly(t.firestore,Mv),s=nv(o);return e instanceof Ay&&(e=e.d_),ym(o,[("string"==typeof e||e instanceof xy?hv(s,"updateDoc",t.S_,e,n,r):lv(s,"updateDoc",t.S_,e)).F_(t.S_,Bl.exists(!0))])}function gm(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Ay&&(t=t.d_);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||Lv(i[u])||(s=i[u],u++);var a,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Lv(i[u])){var f=i[u];i[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Hy)c=Ly(t.firestore,Mv),l=hl(t.S_.path),a={next:function(e){i[u]&&i[u](vm(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=Ly(t,zy);c=Ly(d.firestore,Mv),l=d.C_;var p=new dm(c);a={next:function(t){i[u]&&i[u](new lm(c,p,d,t))},error:i[u+1],complete:i[u+2]},$v(t.C_)}return function(t,e,n,r){var i=this,o=new Ty(r),s=new Lg(e,o,n);return t._s.Ps(function(){return Object(xa.b)(i,void 0,void 0,function(){var e;return Object(xa.d)(this,function(n){switch(n.label){case 0:return e=Ng,[4,Pv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.i_(),t._s.Ps(function(){return Object(xa.b)(i,void 0,void 0,function(){var e;return Object(xa.d)(this,function(n){switch(n.label){case 0:return e=Pg,[4,Pv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Uv(c),l,h,a)}function ym(t,e){return function(t,e){var n=this,r=new bf;return t._s.Ps(function(){return Object(xa.b)(n,void 0,void 0,function(){var n;return Object(xa.d)(this,function(i){switch(i.label){case 0:return n=Yg,[4,Nv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Uv(t),e)}function vm(t,e,n){var r=n.docs.get(e.S_),i=new dm(t);return new am(t,i,e.S_,r,new um(n.hasPendingWrites,n.fromCache),e.v_)}var mm=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=nv(t)}return t.prototype.set=function(t,e,n){this.md();var r=bm(t,this.Yf),i=om(r.v_,e,n),o=rv(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Bl.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=bm(t,this.Yf);return e instanceof Ay&&(e=e.d_),o="string"==typeof e||e instanceof xy?hv(this.Id,"WriteBatch.update",s.S_,e,n,r):lv(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,Bl.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=bm(t,this.Yf);return this.Ed=this.Ed.concat(new sh(e.S_,Bl.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new $a(Wa.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function bm(t,e){if(t instanceof Ay&&(t=t.d_),t.firestore!==e)throw new $a(Wa.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var wm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(xa.c)(e,t),e.prototype.get=function(e){var n=this,r=bm(e,this.Yf),i=new dm(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new am(n.Yf,i,r.S_,t.Zf,new um(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=nv(t)}return t.prototype.get=function(t){var e=this,n=bm(t,this.Yf),r=new sm(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return La();var i=t[0];if(i instanceof qc)return new Bv(e.Yf,r,n.S_,null,n.v_);if(i instanceof Fc)return new Bv(e.Yf,r,i.key,i,n.v_);throw La()})},t.prototype.set=function(t,e,n){var r=bm(t,this.Yf),i=om(r.v_,e,n),o=rv(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=bm(t,this.Yf);return e instanceof Ay&&(e=e.d_),o="string"==typeof e||e instanceof xy?hv(this.Id,"Transaction.update",s.S_,e,n,r):lv(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=bm(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function _m(){if("undefined"==typeof Uint8Array)throw new $a(Wa.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Om(){if("undefined"==typeof atob)throw new $a(Wa.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Em=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xa.c)(e,t),e.fromBase64String=function(t){return Om(),new e(Qa.fromBase64String(t))},e.fromUint8Array=function(t){return _m(),new e(Qa.fromUint8Array(t))},e.prototype.toBase64=function(){return Om(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return _m(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ay),Im=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Hv(t=Ly(t,Mv));var n=Uv(t),r=t.p_(),i=new Sy;return qv(n,i,new Iy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Hv(t=Ly(t,Mv));var e=Uv(t),n=t.p_(),r=new Sy;return qv(e,r,new Cy(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new $a(Wa.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new bf;return t.Bf.Tf(function(){return Object(xa.b)(e,void 0,void 0,function(){var e;return Object(xa.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(xa.b)(this,void 0,void 0,function(){return Object(xa.d)(this,function(e){switch(e.label){case 0:return Of.Kn()?[4,Of.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(rp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),Cm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Aa||(i.Pd=e),i}return Object(xa.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Ly(t,qy)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Ra("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(xa.b)(e,void 0,void 0,function(){var e,n;return Object(xa.d)(this,function(r){switch(r.label){case 0:return[4,jv(t)];case 1:return e=r.sent(),[4,kv(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=Ua(t);return e.Nh.delete(0),og(e)}(n))]}})})})}(Uv(Ly(this.d_,Mv)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(xa.b)(e,void 0,void 0,function(){var e,n;return Object(xa.d)(this,function(r){switch(r.label){case 0:return[4,jv(t)];case 1:return e=r.sent(),[4,kv(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(xa.b)(this,void 0,void 0,function(){var e;return Object(xa.d)(this,function(n){switch(n.label){case 0:return(e=Ua(t)).Nh.add(0),[4,sg(e)];case 1:return n.sent(),e.kh.set("Offline"),[2]}})})}(n))]}})})})}(Uv(Ly(this.d_,Mv)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Py("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new bf;return t._s.Ps(function(){return Object(xa.b)(e,void 0,void 0,function(){var e;return Object(xa.d)(this,function(r){switch(r.label){case 0:return e=ey,[4,Nv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Uv(Ly(this.d_,Mv)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Ty(e);return t._s.Ps(function(){return Object(xa.b)(n,void 0,void 0,function(){var e;return Object(xa.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ua(t).Wh.add(e),e.next()},[4,Pv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(xa.b)(n,void 0,void 0,function(){var e;return Object(xa.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ua(t).Wh.delete(e)},[4,Pv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Uv(t=Ly(t,Mv)),Lv(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new $a(Wa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Um(this,Gy(this.d_,t))}catch(t){throw km(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Am(this,Wy(this.d_,t))}catch(t){throw km(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Vm(this,function(t,e){if(t=Ly(t,qy),ky("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $a(Wa.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new zy(t,null,function(t){return new cl(oc.ct(),t)}(e))}(this.d_,t))}catch(t){throw km(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new bf;return t._s.Ps(function(){return Object(xa.b)(n,void 0,void 0,function(){var n;return Object(xa.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return xv(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new Ev(t._s,n,e,r).run(),[2]}})})}),r.promise}(Uv(t),function(n){return e(new wm(t,n))})}(this.d_,function(n){return t(new Tm(e,n))})},e.prototype.batch=function(){var t=this;return Uv(this.d_),new xm(new mm(this.d_,function(e){return ym(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new $a(Wa.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new $a(Wa.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Ay),Sm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(xa.c)(e,t),e.prototype.Wf=function(t){return new Em(new Qa(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return Am.yd(e,this.firestore,null)},e}(zv),Tm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new Sm(e),r}return Object(xa.c)(e,t),e.prototype.get=function(t){var e=this,n=Fm(t);return this.d_.get(n).then(function(t){return new Dm(e.Yf,new am(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=Fm(t);return n?(Ny("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Fm(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(xa.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Fm(t);return this.d_.delete(e),this},e}(Ay),xm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xa.c)(e,t),e.prototype.set=function(t,e,n){var r=Fm(t);return n?(Ny("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Fm(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(xa.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Fm(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(Ay),jm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(xa.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new cm(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new Rm(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Sm(t),n),i.set(n,o)),o},e}(Ay);jm.Vd=new WeakMap;var Am=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Sm(e),r}return Object(xa.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new $a(Wa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new Hy(n.d_,r,new ac(t)))},e.yd=function(t,n,r){return new e(n,new Hy(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Um(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Um(this.firestore,Gy(this.d_,t))}catch(t){throw km(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Ay&&(t=t.d_),t instanceof Hy&&$y(this.d_,t)},e.prototype.set=function(t,e){e=Ny("DocumentReference.set",e);try{return function(t,e,n){t=Ly(t,Hy);var r=Ly(t.firestore,Mv),i=om(t.v_,e,n);return ym(r,[rv(nv(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Bl.Kt())])}(this.d_,t,e)}catch(t){throw km(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?pm(this.d_,t):pm.apply(void 0,Object(xa.g)([this.d_,t,e],n))}catch(t){throw km(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return ym(Ly((t=this.d_).firestore,Mv),[new sh(t.S_,Bl.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Nm(e),i=Pm(e,function(e){return new Dm(t.firestore,new am(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return gm(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ly(t,Hy);var e=Ly(t.firestore,Mv),n=Uv(e),r=new dm(e);return function(t,e){var n=this,r=new bf;return t._s.Ps(function(){return Object(xa.b)(n,void 0,void 0,function(){var n;return Object(xa.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(xa.b)(this,void 0,void 0,function(){var r,i;return Object(xa.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Ua(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Fc?n.resolve(i):i instanceof qc?n.resolve(null):n.reject(new $a(Wa.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=kf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Av(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new am(e,r,t.S_,n,new um(n instanceof Fc&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Ly(t,Hy);var e=Ly(t.firestore,Mv);return Dv(Uv(e),t.S_,{source:"server"}).then(function(n){return vm(e,t,n)})}(this.d_):function(t){t=Ly(t,Hy);var e=Ly(t.firestore,Mv);return Dv(Uv(e),t.S_).then(function(n){return vm(e,t,n)})}(this.d_)).then(function(t){return new Dm(e.firestore,new am(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(jm.gd(this.firestore,t)))},e}(Ay);function km(t,e,n){return t.message=t.message.replace(e,n),t}function Nm(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Lv(r))return r}return{}}function Pm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Lv(t[0])?t[0]:Lv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Dm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(xa.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Am(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return fm(this.d_,t.d_)},e}(Ay),Rm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xa.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Dm),Vm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Sm(e),r}return Object(xa.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Yv(this.d_,function(t,e,n){var r=e,i=Wv("where",t);return new Kv(i,r,n)}(t,n,r)))}catch(t){throw km(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Yv(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Wv("orderBy",t);return new Xv(r,n)}(t,n)))}catch(t){throw km(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Yv(this.d_,function(t){return My("limit",t),new Zv("limit",t,"F")}(t)))}catch(t){throw km(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Yv(this.d_,function(t){return My("limitToLast",t),new Zv("limitToLast",t,"L")}(t)))}catch(t){throw km(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yv(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jv("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw km(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yv(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jv("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw km(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yv(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tm("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw km(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yv(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tm("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw km(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Qy(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ly(t,zy);var e=Ly(t.firestore,Mv),n=Uv(e),r=new dm(e);return function(t,e){var n=this,r=new bf;return t._s.Ps(function(){return Object(xa.b)(n,void 0,void 0,function(){var n;return Object(xa.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(xa.b)(this,void 0,void 0,function(){var r,i,o,s,u;return Object(xa.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,mp(t,e,!0)];case 1:return u=a.sent(),r=new Hg(e,u.Rc),i=r.fl(u.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=kf(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Av(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new lm(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Ly(t,zy);var e=Ly(t.firestore,Mv),n=Uv(e),r=new dm(e);return Rv(n,t.C_,{source:"server"}).then(function(n){return new lm(e,r,t,n)})}(this.d_):function(t){t=Ly(t,zy);var e=Ly(t.firestore,Mv),n=Uv(e),r=new dm(e);return $v(t.C_),Rv(n,t.C_).then(function(n){return new lm(e,r,t,n)})}(this.d_)).then(function(t){return new Mm(e.firestore,new lm(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Nm(e),i=Pm(e,function(e){return new Mm(t.firestore,new lm(t.firestore.d_,t.Xf,t.d_,e._d))});return gm(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(jm.gd(this.firestore,t)))},e}(Ay),Lm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(xa.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Rm(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(Ay),Mm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(xa.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Vm(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new Rm(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new Lm(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new Rm(n.Yf,r))})},e.prototype.isEqual=function(t){return fm(this.d_,t.d_)},e}(Ay),Um=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(xa.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new Am(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Am(this.firestore,void 0===t?Wy(this.d_):Wy(this.d_,t))}catch(t){throw km(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ly(t.firestore,Mv),r=Wy(t),i=om(t.v_,e);return ym(n,[rv(nv(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Bl.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new Am(e.firestore,t)})},e.prototype.isEqual=function(t){return $y(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(jm.gd(this.firestore,t)))},e}(Vm);function Fm(t){return t instanceof Ay&&(t=t.d_),Ly(t,Hy)}var qm,Hm=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(xy.bind.apply(xy,Object(xa.g)([void 0],e))))||this}return Object(xa.c)(e,t),e.documentId=function(){return new e(uc.ht().rt())},e.prototype.isEqual=function(t){return t instanceof Ay&&(t=t.d_),t instanceof xy&&this.d_.f_.isEqual(t.f_)},e}(Ay),zm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(xa.c)(e,t),e.serverTimestamp=function(){var t=new sv("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new iv("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new uv("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new av("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new cv("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(Ay),Bm=n("/6Yf"),Gm={Firestore:Cm,GeoPoint:Yy,Timestamp:nc,Blob:Em,Transaction:Tm,WriteBatch:xm,DocumentReference:Am,DocumentSnapshot:Dm,Query:Vm,QueryDocumentSnapshot:Rm,QuerySnapshot:Mm,CollectionReference:Um,FieldPath:Hm,FieldValue:zm,setLogLevel:function(t){ka.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Bm.a("firestore",function(t){return function(t,e){return new Cm(t,new Mv(t,e),new Im)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Gm)))})(qm=Ei.a),qm.registerVersion("@firebase/firestore","2.1.5");var Wm=n("VRyK"),$m=n("qgXg"),Qm=n("Ylt2");class Ym extends mt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Km(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new bt.a;if(this.isStopped||this.hasError?o=me.a.EMPTY:(this.observers.push(t),o=new Qm.a(this,t)),r&&t.add(t=new wi.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||$m.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Km{constructor(t,e){this.time=t,this.value=e}}function Xm(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,u=!1,a=!1;return function(c){let l;s++,!i||u?(u=!1,i=new Ym(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){u=!0,i.error(t)},complete(){a=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!a&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Zm(t,e){return e?Ft(()=>t,e):Ft(()=>t)}var Jm=n("tf+s");const tb=new r.q("angularfire2.auth.use-emulator"),eb=new r.q("angularfire2.auth.settings"),nb=new r.q("angularfire2.auth.tenant-id"),rb=new r.q("angularfire2.auth.langugage-code"),ib=new r.q("angularfire2.auth.use-device-language"),ob=new r.q("angularfire.auth.persistence");let sb=(()=>{class t{constructor(t,e,r,i,o,s,u,a,c,l){const h=new _i.d(i),f=Object(_i.h)(h),d=new mt.a,p=Object(vt.a)(void 0).pipe(Object(wi.b)(h.outsideAngular),Ft(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Mt.a)(()=>Object(_i.g)(t,i,e)),Object(Mt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(_i.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),u&&(r.tenantId=u),r.languageCode=a,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,u,a,c,n,l])})),Xm({bufferSize:1,refCount:!1}));if(L(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(vt.a)(null);else{p.pipe(ye()).subscribe();const t=p.pipe(Ft(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Xm({bufferSize:1,refCount:!1})),e=t=>new Tt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Ft(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Ft(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Zm(n),Object(Jm.a)(h.outsideAngular),Object(wi.b)(h.insideAngular)),this.user=t.pipe(Zm(r),Object(Jm.a)(h.outsideAngular),Object(wi.b)(h.insideAngular)),this.idToken=this.user.pipe(Ft(t=>t?Object(yt.a)(t.getIdToken()):Object(vt.a)(null))),this.idTokenResult=this.user.pipe(Ft(t=>t?Object(yt.a)(t.getIdTokenResult()):Object(vt.a)(null))),this.credential=Object(Wm.a)(t,d,this.authState.pipe(Xt(t=>!t))).pipe(Object(Mt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Jm.a)(h.outsideAngular),Object(wi.b)(h.insideAngular))}return Object(_i.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(_i.c),r.Pb(_i.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(tb,8),r.Pb(eb,8),r.Pb(nb,8),r.Pb(rb,8),r.Pb(ib,8),r.Pb(ob,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(_i.c),Object(r.Pb)(_i.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(tb,8),Object(r.Pb)(eb,8),Object(r.Pb)(nb,8),Object(r.Pb)(rb,8),Object(r.Pb)(ib,8),Object(r.Pb)(ob,8))},token:t,providedIn:"any"}),t})();function ub(t,e){return function(t,e=pi.a){return new Tt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function ab(t,e){return ub(t,e).pipe(Object(Mt.a)(t=>({payload:t,type:"query"})))}function cb(t,e){return ab(t,e).pipe($t(void 0),gi(),Object(Mt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function lb(t,e,n){return cb(t,n).pipe(Qt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return hb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return hb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return hb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new mi(void 0,void 0)),Object(Mt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function hb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function fb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(_i.e)(sb,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class db{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=cb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Mt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe($t(void 0),gi(),Xt(([t,e])=>e.length>0||!t),Object(Mt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Qt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=fb(t);return lb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ab(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Mt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(yt.a)(this.query.get(t)).pipe(Object(wi.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new pb(this.ref.doc(t),this.afs)}}class pb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=wb(n,e);return new db(r,i,this.afs)}snapshotChanges(){return ub(this.ref,this.afs.schedulers.outsideAngular).pipe($t(void 0),gi(),Object(Mt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Mt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(yt.a)(this.ref.get(t)).pipe(Object(wi.b)(this.afs.schedulers.insideAngular))}}class gb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?cb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Mt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Xt(t=>t.length>0),this.afs.keepUnstableUntilFirst):cb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Qt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=fb(t);return lb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ab(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Mt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(yt.a)(this.query.get(t)).pipe(Object(wi.b)(this.afs.schedulers.insideAngular))}}const yb=new r.q("angularfire2.enableFirestorePersistence"),vb=new r.q("angularfire2.firestore.persistenceSettings"),mb=new r.q("angularfire2.firestore.settings"),bb=new r.q("angularfire2.firestore.use-emulator");function wb(t,e=(t=>t)){return{query:e(t),ref:t}}let _b=(()=>{class t{constructor(t,e,n,r,i,o,s,u,a){this.schedulers=new _i.d(o),this.keepUnstableUntilFirst=Object(_i.h)(this.schedulers);const c=Object(_i.g)(t,o,e);!Oi.a.auth&&a&&Object(_i.j)();const l=u;[this.firestore,this.persistenceEnabled$]=Object(_i.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!L(i)){const e=()=>{try{return Object(yt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(qm){return"undefined"!=typeof console&&console.warn(qm),Object(vt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(vt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=wb(n,e),o=this.schedulers.ngZone.run(()=>r);return new db(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new gb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new pb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(_i.c),r.Pb(_i.b,8),r.Pb(yb,8),r.Pb(mb,8),r.Pb(r.B),r.Pb(r.z),r.Pb(vb,8),r.Pb(bb,8),r.Pb(tb,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(_i.c),Object(r.Pb)(_i.b,8),Object(r.Pb)(yb,8),Object(r.Pb)(mb,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(vb,8),Object(r.Pb)(bb,8),Object(r.Pb)(tb,8))},token:t,providedIn:"any"}),t})(),Ob=(()=>{class t{constructor(t,e){this.afs=t,this.auth=e,this.chats=[],this.usuario={},this.auth.authState.subscribe(t=>{console.log("Estado del usuario: ",t),t&&(this.usuario.nombre=t.displayName,this.usuario.uid=t.uid,console.log(this.usuario))})}login(t){this.auth.signInWithPopup("google"===t?new Oi.a.auth.GoogleAuthProvider:new Oi.a.auth.FacebookAuthProvider)}logout(){this.usuario={},this.auth.signOut()}cargarMensajes(){return this.itemsCollection=this.afs.collection("chats",t=>t.orderBy("fecha","desc").limit(5)),this.itemsCollection.valueChanges().pipe(Object(Mt.a)(t=>{console.log(t),this.chats=[];for(const e of t)this.chats.unshift(e);return this.chats}))}agregarMensaje(t){let e={nombre:this.usuario.nombre,mensaje:t,fecha:(new Date).getTime(),uid:this.usuario.uid};return this.itemsCollection.add(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(_b),r.Pb(sb))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Eb=(()=>{class t{constructor(t){this._cs=t}ngOnInit(){}ingresar(t){console.log(t),this._cs.login(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ob))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-login"]],decls:7,vars:0,consts:[[1,"row"],[1,"col-12"],[1,"d-flex"],[1,"btn","btn-outline-danger","me-1",3,"click"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Jb(1,"div",1),r.Lb(2,"p"),r.dc(3,"Ingrese al chat con su cuenta favorita"),r.Kb(),r.Lb(4,"div",2),r.Lb(5,"button",3),r.Sb("click",function(){return e.ingresar("google")}),r.dc(6,"Google"),r.Kb(),r.Kb(),r.Kb())},styles:[""]}),t})();var Ib=n("XoHu");function Cb(t,e){return new Tt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let u=0;u<r;u++){const a=Object(yt.a)(t[u]);let c=!1;n.add(a.subscribe({next:t=>{c||(c=!0,s++),i[u]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Sb=new r.q("NgValueAccessor"),Tb={provide:Sb,useExisting:Object(r.T)(()=>xb),multi:!0};let xb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([Tb])]}),t})();const jb={provide:Sb,useExisting:Object(r.T)(()=>kb),multi:!0},Ab=new r.q("CompositionEventMode");let kb=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Ab,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([jb])]}),t})();function Nb(t){return null==t||0===t.length}function Pb(t){return null!=t&&"number"==typeof t.length}const Db=new r.q("NgValidators"),Rb=new r.q("NgAsyncValidators"),Vb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Lb{static min(t){return e=>{if(Nb(e.value)||Nb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Nb(e.value)||Nb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Nb(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Nb(t.value)||Vb.test(t.value)?null:{email:!0}}static minLength(t){return e=>Nb(e.value)||!Pb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Pb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Lb.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Nb(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Mb);return 0==e.length?null:function(t){return Fb(qb(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Mb);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Ot.a)(e))return Cb(e,null);if(Object(Ib.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Cb(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Cb(t=1===t.length&&Object(Ot.a)(t[0])?t[0]:t,null).pipe(Object(Mt.a)(t=>e(...t)))}return Cb(t,null)}(qb(t,e).map(Ub)).pipe(Object(Mt.a)(Fb))}}}function Mb(t){return null!=t}function Ub(t){const e=Object(r.qb)(t)?Object(yt.a)(t):t;return Object(r.pb)(e),e}function Fb(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function qb(t,e){return e.map(e=>e(t))}function Hb(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function zb(t){return null!=t?Lb.compose(Hb(t)):null}function Bb(t){return null!=t?Lb.composeAsync(Hb(t)):null}function Gb(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let Wb=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=zb(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Bb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),$b=(()=>{class t extends Wb{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Qb(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Qb=r.Nb($b);class Yb extends Wb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Kb=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Yb,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const Xb={provide:Sb,useExisting:Object(r.T)(()=>Zb),multi:!0};let Zb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Xb])]}),t})();const Jb={provide:Sb,useExisting:Object(r.T)(()=>ew),multi:!0};let tw=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),ew=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Yb),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(tw),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Jb])]}),t})();const nw={provide:Sb,useExisting:Object(r.T)(()=>rw),multi:!0};let rw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([nw])]}),t})();const iw={provide:Sb,useExisting:Object(r.T)(()=>ow),multi:!0};let ow=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([iw])]}),t})();const sw={provide:Sb,useExisting:Object(r.T)(()=>uw),multi:!0};let uw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([sw])]}),t})();function aw(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const lw=[xb,rw,Zb,ow,uw,ew];function hw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fw="VALID",dw="INVALID",pw="PENDING",gw="DISABLED";function yw(t){return(ww(t)?t.validators:t)||null}function vw(t){return Array.isArray(t)?zb(t):t||null}function mw(t,e){return(ww(e)?e.asyncValidators:t)||null}function bw(t){return Array.isArray(t)?Bb(t):t||null}function ww(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class _w{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=vw(this._rawValidators),this._composedAsyncValidatorFn=bw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===fw}get invalid(){return this.status===dw}get pending(){return this.status==pw}get disabled(){return this.status===gw}get enabled(){return this.status!==gw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=vw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=bw(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=pw,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=gw,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fw,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==fw&&this.status!==pw||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gw:fw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=pw,this._hasOwnPendingAsyncValidator=!0;const e=Ub(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ew?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Iw&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?gw:this.errors?dw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pw)?pw:this._anyControlsHaveStatus(dw)?dw:fw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ww(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ow extends _w{constructor(t=null,e,n){super(yw(e),mw(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){hw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){hw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ew extends _w{constructor(t,e,n){super(yw(e),mw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ow?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Iw extends _w{constructor(t,e,n){super(yw(e),mw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ow?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Cw={provide:Yb,useExisting:Object(r.T)(()=>Tw)},Sw=(()=>Promise.resolve(null))();let Tw=(()=>{class t extends Yb{constructor(t,e,n,i){super(),this.control=new Ow,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===kb?n=t:(e=t,lw.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(function(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Gb(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(Gb(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);{const n=()=>t.updateValueAndValidity();aw(e._rawValidators,n),aw(e._rawAsyncValidators,n)}})(t=this.control,e=this),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&cw(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&cw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Sw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Sw.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib($b,9),r.Ib(Db,10),r.Ib(Rb,10),r.Ib(Sb,10))},t.\u0275dir=r.Db({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([Cw]),r.vb,r.wb]}),t})(),xw=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),jw=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[tw],imports:[xw]}),t})();const Aw=function(t){return{"align-items-end":t}},kw=function(t,e){return{"bg-primary":t,"bg-success":e}};function Nw(t,e){if(1&t&&(r.Lb(0,"div",3),r.Lb(1,"span",4),r.dc(2),r.Kb(),r.Lb(3,"p"),r.dc(4),r.Kb(),r.Kb()),2&t){const t=e.$implicit,n=r.Ub();r.Vb("ngClass",r.Wb(4,Aw,n._cs.usuario.uid==t.uid)),r.yb(1),r.Vb("ngClass",r.Xb(6,kw,n._cs.usuario.uid==t.uid,n._cs.usuario.uid!=t.uid)),r.yb(1),r.ec(t.nombre),r.yb(2),r.fc(" ",t.mensaje,"")}}let Pw=(()=>{class t{constructor(t){this._cs=t,this.mensaje="",this._cs.cargarMensajes().subscribe(()=>{setTimeout(()=>{this.elemento.scrollTop=this.elemento.scrollHeight},20)})}ngOnInit(){this.elemento=document.getElementById("app-mensajes")}enviarMensaje(){0!==this.mensaje.length&&this._cs.agregarMensaje(this.mensaje).then(()=>this.mensaje="").catch(t=>console.error("Error al enviar mensaje",t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Ob))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-chat"]],decls:6,vars:2,consts:[["id","app-mensajes",1,"app-mensajes"],["class","d-flex flex-column align-items-start",3,"ngClass",4,"ngFor","ngForOf"],["type","text","name","mensaje","placeholder","Enviar mensaje",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"d-flex","flex-column","align-items-start",3,"ngClass"],[1,"badge","flex-end",3,"ngClass"]],template:function(t,e){1&t&&(r.Lb(0,"h1"),r.dc(1,"Chat"),r.Kb(),r.Jb(2,"hr"),r.Lb(3,"div",0),r.cc(4,Nw,5,9,"div",1),r.Kb(),r.Lb(5,"input",2),r.Sb("ngModelChange",function(t){return e.mensaje=t})("keyup.enter",function(){return e.enviarMensaje()}),r.Kb()),2&t&&(r.yb(4),r.Vb("ngForOf",e._cs.chats),r.yb(1),r.Vb("ngModel",e.mensaje))},directives:[k,kb,Kb,Tw,j],encapsulation:2}),t})();function Dw(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",4),r.Lb(1,"button",5),r.Sb("click",function(){return r.Zb(t),r.Ub()._cs.logout()}),r.dc(2,"Salir"),r.Kb(),r.Kb()}}function Rw(t,e){1&t&&r.Jb(0,"app-login")}function Vw(t,e){1&t&&(r.Lb(0,"div",6),r.Jb(1,"app-chat"),r.Kb())}let Lw=(()=>{class t{constructor(t,e){this._cs=e,this.title="fireChat",this.chats$=t.collection("chats").valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(_b),r.Ib(Ob))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:8,vars:3,consts:[[1,"container"],["class","col-12 d-flex justify-content-end",4,"ngIf"],[4,"ngIf"],["class","chat-window",4,"ngIf"],[1,"col-12","d-flex","justify-content-end"],[1,"btn","btn-outline-danger",3,"click"],[1,"chat-window"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Jb(1,"br"),r.Lb(2,"h1"),r.dc(3,"Fire Chat"),r.Kb(),r.cc(4,Dw,3,0,"div",1),r.Jb(5,"br"),r.cc(6,Rw,1,0,"app-login",2),r.cc(7,Vw,2,0,"div",3),r.Kb()),2&t&&(r.yb(4),r.Vb("ngIf",e._cs.usuario.uid),r.yb(2),r.Vb("ngIf",!e._cs.usuario.uid),r.yb(1),r.Vb("ngIf",e._cs.usuario.uid))},directives:[P,Eb,Pw],styles:[""]}),t})(),Mw=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[Lw]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[gt,di,_i.a.initializeApp(i),jw]]}),t})();Object(r.S)(),dt().bootstrapModule(Mw).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class u extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);